"use strict";(self.webpackChunkbig_bass_bonanza_slots=self.webpackChunkbig_bass_bonanza_slots||[]).push([[852],{9852:(t,e,i)=>{var n=i(8507),o=i(4263),s=i(5101);class r{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=r.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new s.b,this.page=new s.b,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,i,n,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var a=/iPhone/i,h=/iPod/i,l=/iPad/i,d=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,p=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,v=/Silk/i,m=/Windows Phone/i,g=/\bWindows(?:.+)ARM\b/i,y=/BlackBerry/i,E=/BB10/i,b=/Opera Mini/i,f=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i,T=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function P(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,n=i.split("[FBAN");void 0!==n[1]&&(i=n[0]),void 0!==(n=i.split("Twitter"))[1]&&(i=n[0]);var o=function(t){return function(e){return e.test(t)}}(i),s={apple:{phone:o(a)&&!o(m),ipod:o(h),tablet:!o(a)&&(o(l)||T(e))&&!o(m),universal:o(d),device:(o(a)||o(h)||o(l)||o(d)||T(e))&&!o(m)},amazon:{phone:o(u),tablet:!o(u)&&o(v),device:o(u)||o(v)},android:{phone:!o(m)&&o(u)||!o(m)&&o(c),tablet:!o(m)&&!o(u)&&!o(c)&&(o(v)||o(p)),device:!o(m)&&(o(u)||o(v)||o(c)||o(p))||o(/\bokhttp\b/i)},windows:{phone:o(m),tablet:o(g),device:o(m)||o(g)},other:{blackberry:o(y),blackberry10:o(E),opera:o(b),firefox:o(_),chrome:o(f),device:o(y)||o(E)||o(b)||o(_)||o(f)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const w=(P.default??P)(globalThis.navigator);var M=i(9903);class A{constructor(t,e=w){this._mobileInfo=e,this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(e.tablet||e.phone)&&this._createTouchHook();const i=document.createElement("div");i.style.width="100px",i.style.height="100px",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.zIndex=2..toString(),this._div=i,this._renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.add(this),this._renderer.view.canvas.parentNode?.appendChild(this._div))}_deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this),this._div.parentNode?.removeChild(this._div))}_updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this._addChild(t),t._renderId=this._renderId);const e=t.children;if(e)for(let t=0;t<e.length;t++)this._updateAccessibleObjects(e[t])}init(t){this.debug=t?.debug??this.debug,this._renderer.runners.postrender.remove(this)}postrender(){const t=performance.now();if(this._mobileInfo.android.device&&t<this._androidUpdateCount)return;if(this._androidUpdateCount=t+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas)return;this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered);const{x:e,y:i,width:n,height:o}=this._renderer.view.canvas.getBoundingClientRect(),{width:s,height:r,resolution:a}=this._renderer,h=n/s*a,l=o/r*a;let d=this._div;d.style.left=`${e}px`,d.style.top=`${i}px`,d.style.width=`${s}px`,d.style.height=`${r}px`;for(let t=0;t<this._children.length;t++){const e=this._children[t];if(e._renderId!==this._renderId)e._accessibleActive=!1,(0,M.d)(this._children,t,1),this._div.removeChild(e._accessibleDiv),this._pool.push(e._accessibleDiv),e._accessibleDiv=null,t--;else{d=e._accessibleDiv;let t=e.hitArea;const i=e.worldTransform;e.hitArea?(d.style.left=(i.tx+t.x*i.a)*h+"px",d.style.top=(i.ty+t.y*i.d)*l+"px",d.style.width=t.width*i.a*h+"px",d.style.height=t.height*i.d*l+"px"):(t=e.getBounds().rectangle,this._capHitArea(t),d.style.left=t.x*h+"px",d.style.top=t.y*l+"px",d.style.width=t.width*h+"px",d.style.height=t.height*l+"px",d.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(d.title=e.accessibleTitle||""),d.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&d.setAttribute("aria-label",e.accessibleHint||"")),e.accessibleTitle===d.title&&e.tabIndex===d.tabIndex||(d.title=e.accessibleTitle||"",d.tabIndex=e.tabIndex,this.debug&&this._updateDebugHTML(d))}}this._renderId++}_updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}_capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:i}=this._renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>i&&(t.height=i-t.y)}_addChild(t){let e=this._pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=`container ${t.tabIndex}`),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this._updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.container=t,this._children.push(t),this._div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{container:i}=t.target,n=this._renderer.events.rootBoundary,o=Object.assign(new r(n),{target:i});n.rootTarget=this._renderer.lastObjectRendered,e.forEach((t=>n.dispatchEvent(o,t)))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){9===t.keyCode&&this._activate()}_onMouseMove(t){0===t.movementX&&0===t.movementY||this._deactivate()}destroy(){this._destroyTouchHook(),this._div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this._pool=null,this._children=null,this._renderer=null}}A.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"accessibility"},n.XO.add(A),o.mc.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1}),i(4732);var I=i(8875),D=i(268),x=i(4458),k=i(7309);const O=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){!this._tickerAdded&&this.domElement&&(k.R.system.add(this._tickerUpdate,this,x.d.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(k.R.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const t=this.events._rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY,pointerType:t.pointerType,pointerId:t.pointerId}))}_tickerUpdate(t){this._deltaTime+=t.deltaTime,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this._update())}};class L extends r{constructor(){super(...arguments),this.client=new s.b,this.movement=new s.b,this.offset=new s.b,this.global=new s.b,this.screen=new s.b}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,n,o,s,r,a,h,l,d,c,p,u,v){throw new Error("Method not implemented.")}}class B extends L{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class C extends L{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}C.DOM_DELTA_PIXEL=0,C.DOM_DELTA_LINE=1,C.DOM_DELTA_PAGE=2;const S=new s.b,U=new s.b;class R{constructor(t){this.dispatch=new I.A,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let i=0,n=e.length;i<n;i++)e[i].fn(t);else(0,D.R)(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){O.pauseUpdate=!0;const i=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,S.set(t,e),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(t,e){if(!t.target)return;const i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let n=0,o=i.length-1;n<o;n++)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,i=this._allInteractiveElements){if(0===i.length)return;t.eventPhase=t.BUBBLING_PHASE;const n=Array.isArray(e)?e:[e];for(let e=i.length-1;e>=0;e--)n.forEach((n=>{t.currentTarget=i[e],this.notifyTarget(t,n)}))}propagationPath(t){const e=[t];for(let i=0;i<2048&&t!==this.rootTarget&&t.parent;i++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,i,n,o,s=!1){let r=!1;if(this._interactivePrune(t))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(O.pauseUpdate=!1),t.interactiveChildren&&t.children){const a=t.children;for(let h=a.length-1;h>=0;h--){const l=a[h],d=this.hitTestMoveRecursive(l,this._isInteractive(e)?e:l.eventMode,i,n,o,s||o(t,i));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const e=t.isInteractive();(d.length>0||e)&&(e&&this._allInteractiveElements.push(t),d.push(t)),0===this._hitElements.length&&(this._hitElements=d),r=!0}}}const a=this._isInteractive(e),h=t.isInteractive();return h&&h&&this._allInteractiveElements.push(t),s||this._hitElements.length>0?null:r?this._hitElements:a&&!o(t,i)&&n(t,i)?h?[t]:[]:null}hitTestRecursive(t,e,i,n,o){if(this._interactivePrune(t)||o(t,i))return null;if("dynamic"!==t.eventMode&&"dynamic"!==e||(O.pauseUpdate=!1),t.interactiveChildren&&t.children){const s=t.children,r=i;for(let i=s.length-1;i>=0;i--){const a=s[i],h=this.hitTestRecursive(a,this._isInteractive(e)?e:a.eventMode,r,n,o);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const e=t.isInteractive();return(h.length>0||e)&&h.push(t),h}}}const s=this._isInteractive(e),r=t.isInteractive();return s&&n(t,i)?r?[t]:[]:null}_isInteractive(t){return"static"===t||"dynamic"===t}_interactivePrune(t){return!(t&&t.visible&&t.renderable&&t.includeInBuild&&t.measurable)||"none"===t.eventMode||"passive"===t.eventMode&&!t.interactiveChildren}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,U),!t.hitArea.contains(U.x,U.y)))return!0;if(t.effects&&t.effects.length)for(let i=0;i<t.effects.length;i++){const n=t.effects[i];if(n.containsPoint&&!n.containsPoint(e,this.hitTestFn))return!0}return!1}hitTestFn(t,e){return!!t.hitArea||!!t?.containsPoint&&(t.worldTransform.applyInverse(e,U),t.containsPoint(U))}notifyTarget(t,e){if(!t.currentTarget.isInteractive())return;const i=`on${e=e??t.type}`;t.currentTarget[i]?.(t);const n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this._notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this._notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){const t=2===e.button;this.dispatchEvent(e,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const i="mouse"===e.pointerType||"pen"===e.pointerType,n=this.trackingData(t.pointerId),o=this.findMountedTarget(n.overTargets);if(n.overTargets?.length>0&&o!==e.target){const n="mousemove"===t.type?"mouseout":"pointerout",s=this.createPointerEvent(t,n,o);if(this.dispatchEvent(s,"pointerout"),i&&this.dispatchEvent(s,"mouseout"),!e.composedPath().includes(o)){const n=this.createPointerEvent(t,"pointerleave",o);for(n.eventPhase=n.AT_TARGET;n.target&&!e.composedPath().includes(n.target);)n.currentTarget=n.target,this.notifyTarget(n),i&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;this.freeEvent(n)}this.freeEvent(s)}if(o!==e.target){const n="mousemove"===t.type?"mouseover":"pointerover",s=this.clonePointerEvent(e,n);this.dispatchEvent(s,"pointerover"),i&&this.dispatchEvent(s,"mouseover");let r=o?.parent;for(;r&&r!==this.rootTarget.parent&&r!==e.target;)r=r.parent;if(!r||r===this.rootTarget.parent){const t=this.clonePointerEvent(e,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==o&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),i&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(s)}const s=[],r=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(e,"pointermove"),r&&s.push("globalpointermove"),"touch"===e.pointerType&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),r&&s.push("globaltouchmove")),i&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),r&&s.push("globalmousemove"),this.cursor=e.target?.cursor),s.length>0&&this.all(e,s),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.createPointerEvent(t),n="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=i.target?.cursor);const o=this.clonePointerEvent(i,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;e.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId);if(e.overTargets){const i="mouse"===t.pointerType||"pen"===t.pointerType,n=this.findMountedTarget(e.overTargets),o=this.createPointerEvent(t,"pointerout",n);this.dispatchEvent(o),i&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(t,"pointerleave",n);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;e.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");const e=performance.now(),i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)this.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.dispatchEvent(i,t?"rightup":"mouseup")}const n=this.trackingData(t.pointerId),o=this.findMountedTarget(n.pressTargetsByButton[t.button]);let s=o;if(o&&!i.composedPath().includes(o)){let e=o;for(;e&&!i.composedPath().includes(e);){if(i.currentTarget=e,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)this.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.notifyTarget(i,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete n.pressTargetsByButton[t.button],s=e}if(s){const o=this.clonePointerEvent(i,"click");o.target=s,o.path=null,n.clicksByButton[t.button]||(n.clicksByButton[t.button]={clickCount:0,target:o.target,timeStamp:e});const r=n.clicksByButton[t.button];if(r.target===o.target&&e-r.timeStamp<200?++r.clickCount:r.clickCount=1,r.target=o.target,r.timeStamp=e,o.detail=r.clickCount,"mouse"===o.pointerType){const t=2===o.button;this.dispatchEvent(o,t?"rightclick":"click")}else"touch"===o.pointerType&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(i)}mapPointerUpOutside(t){if(!(t instanceof B))return void(0,D.R)("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.pressTargetsByButton[t.button]),n=this.createPointerEvent(t);if(i){let o=i;for(;o;)n.currentTarget=o,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),o=o.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(n)}mapWheel(t){if(!(t instanceof C))return void(0,D.R)("EventBoundary cannot map a non-wheel event as a wheel event");const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){const n=this.allocateEvent(B);return this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.nativeEvent=t.nativeEvent,n.originalEvent=t,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],"string"==typeof e&&(n.type=e),n}createWheelEvent(t){const e=this.allocateEvent(C);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const i=this.allocateEvent(B);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=e??i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof B&&e instanceof B&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof L&&e instanceof L&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}_notifyListeners(t,e){const i=t.currentTarget._events[e];if(i)if("fn"in i)i.once&&t.currentTarget.removeListener(e,i.fn,void 0,!0),i.fn.call(i.context,t);else for(let n=0,o=i.length;n<o&&!t.propagationImmediatelyStopped;n++)i[n].once&&t.currentTarget.removeListener(e,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,t)}}const F={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},X=class t{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new R(null),O.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new B(null),this._rootWheelEvent=new C(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...t.defaultEventFeatures},{set:(t,e,i)=>("globalMove"===e&&(this.rootBoundary.enableGlobalMoveEvents=i),t[e]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:i,resolution:n}=this.renderer;this.setTargetElement(i),this.resolution=n,t._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this._currentCursor===t)return;this._currentCursor=t;const i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.domElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.domElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this._rootPointerEvent}_onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this._normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let t=0,i=e.length;t<i;t++){const i=e[t],n=this._bootstrapEvent(this._rootPointerEvent,i);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,O.pointerMoved();const e=this._normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this._bootstrapEvent(this._rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const i=e!==this.domElement?"outside":"",n=this._normalizeToPointerData(t);for(let t=0,e=n.length;t<e;t++){const e=this._bootstrapEvent(this._rootPointerEvent,n[t]);e.type+=i,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this._normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this._bootstrapEvent(this._rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this._removeEvents(),this.domElement=t,O.domElement=t,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;O.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;O.removeTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(t,e,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*o,t.y=(i-n.top)*(this.domElement.height/n.height)*o}_normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let i=0,n=t.changedTouches.length;i<n;i++){const n=t.changedTouches[i];void 0===n.button&&(n.button=0),void 0===n.buttons&&(n.buttons=1),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=t.type,e.push(n)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof globalThis.PointerEvent)){const i=t;void 0===i.isPrimary&&(i.isPrimary=!0),void 0===i.width&&(i.width=1),void 0===i.height&&(i.height=1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="mouse"),void 0===i.pointerId&&(i.pointerId=1),void 0===i.pressure&&(i.pressure=.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),i.isNormalized=!0,e.push(i)}else e.push(t);return e}normalizeWheelEvent(t){const e=this._rootWheelEvent;return this._transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}_bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this._transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=F[t.type]||t.type),t}_transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};X.extension={name:"events",type:[n.Ag.WebGLSystem,n.Ag.CanvasSystem,n.Ag.WebGPUSystem],priority:-1},X.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Y=X;const G={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return"dynamic"===this.eventMode||"static"===this.eventMode},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Y.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(t,e,i){const n="boolean"==typeof i&&i||"object"==typeof i&&i.capture,o="object"==typeof i?i.signal:void 0,s="object"==typeof i&&!0===i.once,r="function"==typeof e?void 0:e;t=n?`${t}capture`:t;const a="function"==typeof e?e:e.handleEvent,h=this;o&&o.addEventListener("abort",(()=>{h.off(t,a,r)})),s?h.once(t,a,r):h.on(t,a,r)},removeEventListener(t,e,i){const n="function"==typeof e?void 0:e;t="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof r))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};n.XO.add(Y),o.mc.mixin(G),i(9010),i(8480),i(8928),i(5285),i(6958),i(4243),i(7559),i(8723),i(7252),i(9935)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FDWixLQUFNQSxhQUFheE0sR0FDakIsTUFBTSxJQUFJb0MsTUFBTSx5RUFNbEIsT0FKQW9LLEVBQUVoTSxrQkFBbUIsRUFDckJnTSxFQUFFNUssS0FBTyxLQUNUNEssRUFBRTFLLE9BQVMzQixLQUNYcU0sRUFBRXRNLFFBQVFnTixjQUFjVixJQUNoQkEsRUFBRWhNLGdCQUNaLEdDdGZGLEtBQVdtSSxJQUFJMFcsR0FDZjFSLEVBQUEsR0FBVUMsTUFBTTBSLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZEV2ZW50Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9lc20vaXNNb2JpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL2Jyb3dzZXIvaXNNb2JpbGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L0FjY2Vzc2liaWxpdHlTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2luaXQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2FjY2Vzc2liaWxpdHlUYXJnZXQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRXZlbnRUaWNrZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRmVkZXJhdGVkTW91c2VFdmVudC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRmVkZXJhdGVkV2hlZWxFdmVudC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9FdmVudEJvdW5kYXJ5Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0V2ZW50U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL2luaXQubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbWF0aHMvcG9pbnQvUG9pbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGZWRlcmF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gbWFuYWdlciAtIFRoZSBldmVudCBib3VuZGFyeSB3aGljaCBtYW5hZ2VzIHRoaXMgZXZlbnQuIFByb3BhZ2F0aW9uIGNhbiBvbmx5IG9jY3VyXG4gICAqICB3aXRoaW4gdGhlIGJvdW5kYXJ5J3MganVyaXNkaWN0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIC8qKiBGbGFncyB3aGV0aGVyIHRoaXMgZXZlbnQgYnViYmxlcy4gVGhpcyB3aWxsIHRha2UgZWZmZWN0IG9ubHkgaWYgaXQgaXMgc2V0IGJlZm9yZSBwcm9wYWdhdGlvbi4gKi9cbiAgICB0aGlzLmJ1YmJsZXMgPSB0cnVlO1xuICAgIC8qKiBAZGVwcmVjYXRlZCBzaW5jZSA3LjAuMCAqL1xuICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBGbGFncyB3aGV0aGVyIHRoaXMgZXZlbnQgY2FuIGJlIGNhbmNlbGVkIHVzaW5nIHtAbGluayBGZWRlcmF0ZWRFdmVudC5wcmV2ZW50RGVmYXVsdH0uIFRoaXMgaXMgYWx3YXlzXG4gICAgICogZmFsc2UgKGZvciBub3cpLlxuICAgICAqL1xuICAgIHRoaXMuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEZsYWcgYWRkZWQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBET00ge0Bjb2RlIEV2ZW50fS4gSXQgaXMgbm90IHVzZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHNcbiAgICAgKiBBUEkuXG4gICAgICogQHNlZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2RvbS1ldmVudC1jb21wb3NlZFxuICAgICAqL1xuICAgIHRoaXMuY29tcG9zZWQgPSBmYWxzZTtcbiAgICAvKiogRmxhZ3Mgd2hldGhlciB0aGUgZGVmYXVsdCByZXNwb25zZSBvZiB0aGUgdXNlciBhZ2VudCB3YXMgcHJldmVudCB0aHJvdWdoIHRoaXMgZXZlbnQuICovXG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIHByb3BhZ2F0aW9uIHBoYXNlLlxuICAgICAqIEBkZWZhdWx0IHtAbGluayBGZWRlcmF0ZWRFdmVudC5OT05FfVxuICAgICAqL1xuICAgIHRoaXMuZXZlbnRQaGFzZSA9IEZlZGVyYXRlZEV2ZW50LnByb3RvdHlwZS5OT05FO1xuICAgIC8qKiBGbGFncyB3aGV0aGVyIHByb3BhZ2F0aW9uIHdhcyBzdG9wcGVkLiAqL1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2U7XG4gICAgLyoqIEZsYWdzIHdoZXRoZXIgcHJvcGFnYXRpb24gd2FzIGltbWVkaWF0ZWx5IHN0b3BwZWQuICovXG4gICAgdGhpcy5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IGZhbHNlO1xuICAgIC8qKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBuZWFyZXN0IERPTSBsYXllci4gVGhpcyBpcyBhIG5vbi1zdGFuZGFyZCBwcm9wZXJ0eS4gKi9cbiAgICB0aGlzLmxheWVyID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIERPTSBkb2N1bWVudC4gVGhpcyBpcyBhIG5vbi1zdGFuZGFyZCBwcm9wZXJ0eS4gKi9cbiAgICB0aGlzLnBhZ2UgPSBuZXcgUG9pbnQoKTtcbiAgICB0aGlzLk5PTkUgPSAwO1xuICAgIHRoaXMuQ0FQVFVSSU5HX1BIQVNFID0gMTtcbiAgICB0aGlzLkFUX1RBUkdFVCA9IDI7XG4gICAgdGhpcy5CVUJCTElOR19QSEFTRSA9IDM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBsYXllclgoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXIueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBsYXllclkoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXIueTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBwYWdlWCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgcGFnZVkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZS55O1xuICB9XG4gIC8qKlxuICAgKiBGYWxsYmFjayBmb3IgdGhlIGRlcHJlY2F0ZWQgQGNvZGV7SW50ZXJhY3Rpb25FdmVudC5kYXRhfS5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgNy4wLjBcbiAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBUaGUgcHJvcGFnYXRpb24gcGF0aCBmb3IgdGhpcyBldmVudC4gQWxpYXMgZm9yIHtAbGluayBFdmVudEJvdW5kYXJ5LnByb3BhZ2F0aW9uUGF0aH0uICovXG4gIGNvbXBvc2VkUGF0aCgpIHtcbiAgICBpZiAodGhpcy5tYW5hZ2VyICYmICghdGhpcy5wYXRoIHx8IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0gIT09IHRoaXMudGFyZ2V0KSkge1xuICAgICAgdGhpcy5wYXRoID0gdGhpcy50YXJnZXQgPyB0aGlzLm1hbmFnZXIucHJvcGFnYXRpb25QYXRoKHRoaXMudGFyZ2V0KSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXRoO1xuICB9XG4gIC8qKlxuICAgKiBVbmltcGxlbWVudGVkIG1ldGhvZCBpbmNsdWRlZCBmb3IgaW1wbGVtZW50aW5nIHRoZSBET00gaW50ZXJmYWNlIHtAY29kZSBFdmVudH0uIEl0IHdpbGwgdGhyb3cgYW4ge0Bjb2RlIEVycm9yfS5cbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQHBhcmFtIF90eXBlXG4gICAqIEBwYXJhbSBfYnViYmxlc1xuICAgKiBAcGFyYW0gX2NhbmNlbGFibGVcbiAgICovXG4gIGluaXRFdmVudChfdHlwZSwgX2J1YmJsZXMsIF9jYW5jZWxhYmxlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW5pdEV2ZW50KCkgaXMgYSBsZWdhY3kgRE9NIEFQSS4gSXQgaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBGZWRlcmF0ZWQgRXZlbnRzIEFQSS5cIik7XG4gIH1cbiAgLyoqXG4gICAqIFVuaW1wbGVtZW50ZWQgbWV0aG9kIGluY2x1ZGVkIGZvciBpbXBsZW1lbnRpbmcgdGhlIERPTSBpbnRlcmZhY2Uge0Bjb2RlIFVJRXZlbnR9LiBJdCB3aWxsIHRocm93IGFuIHtAY29kZSBFcnJvcn0uXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBwYXJhbSBfdHlwZUFyZ1xuICAgKiBAcGFyYW0gX2J1YmJsZXNBcmdcbiAgICogQHBhcmFtIF9jYW5jZWxhYmxlQXJnXG4gICAqIEBwYXJhbSBfdmlld0FyZ1xuICAgKiBAcGFyYW0gX2RldGFpbEFyZ1xuICAgKi9cbiAgaW5pdFVJRXZlbnQoX3R5cGVBcmcsIF9idWJibGVzQXJnLCBfY2FuY2VsYWJsZUFyZywgX3ZpZXdBcmcsIF9kZXRhaWxBcmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbml0VUlFdmVudCgpIGlzIGEgbGVnYWN5IERPTSBBUEkuIEl0IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGUgRmVkZXJhdGVkIEV2ZW50cyBBUEkuXCIpO1xuICB9XG4gIC8qKiBQcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3Igb2YgUGl4aUpTIGFuZCB0aGUgdXNlciBhZ2VudC4gKi9cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgaWYgKHRoaXMubmF0aXZlRXZlbnQgaW5zdGFuY2VvZiBFdmVudCAmJiB0aGlzLm5hdGl2ZUV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgIHRoaXMubmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogU3RvcCB0aGlzIGV2ZW50IGZyb20gcHJvcGFnYXRpbmcgdG8gYW55IGFkZGl0aW9uIGxpc3RlbmVycywgaW5jbHVkaW5nIG9uIHRoZVxuICAgKiB7QGxpbmsgRmVkZXJhdGVkRXZlbnRUYXJnZXQuY3VycmVudFRhcmdldCBjdXJyZW50VGFyZ2V0fSBhbmQgYWxzbyB0aGUgZm9sbG93aW5nXG4gICAqIGV2ZW50IHRhcmdldHMgb24gdGhlIHByb3BhZ2F0aW9uIHBhdGguXG4gICAqL1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhpcyBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIHRoZSBuZXh0IHtAbGluayBGZWRlcmF0ZWRFdmVudFRhcmdldH0uIFRoZSByZXN0IG9mIHRoZSBsaXN0ZW5lcnNcbiAgICogb24gdGhlIHtAbGluayBGZWRlcmF0ZWRFdmVudFRhcmdldC5jdXJyZW50VGFyZ2V0IGN1cnJlbnRUYXJnZXR9IHdpbGwgc3RpbGwgYmUgbm90aWZpZWQuXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IEZlZGVyYXRlZEV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRFdmVudC5tanMubWFwXG4iLCJ2YXIgYXBwbGVJcGhvbmUgPSAvaVBob25lL2k7XG52YXIgYXBwbGVJcG9kID0gL2lQb2QvaTtcbnZhciBhcHBsZVRhYmxldCA9IC9pUGFkL2k7XG52YXIgYXBwbGVVbml2ZXJzYWwgPSAvXFxiaU9TLXVuaXZlcnNhbCg/Oi4rKU1hY1xcYi9pO1xudmFyIGFuZHJvaWRQaG9uZSA9IC9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2k7XG52YXIgYW5kcm9pZFRhYmxldCA9IC9BbmRyb2lkL2k7XG52YXIgYW1hem9uUGhvbmUgPSAvKD86U0Q0OTMwVVJ8XFxiU2lsayg/Oi4rKU1vYmlsZVxcYikvaTtcbnZhciBhbWF6b25UYWJsZXQgPSAvU2lsay9pO1xudmFyIHdpbmRvd3NQaG9uZSA9IC9XaW5kb3dzIFBob25lL2k7XG52YXIgd2luZG93c1RhYmxldCA9IC9cXGJXaW5kb3dzKD86LispQVJNXFxiL2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5ID0gL0JsYWNrQmVycnkvaTtcbnZhciBvdGhlckJsYWNrQmVycnkxMCA9IC9CQjEwL2k7XG52YXIgb3RoZXJPcGVyYSA9IC9PcGVyYSBNaW5pL2k7XG52YXIgb3RoZXJDaHJvbWUgPSAvXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaTtcbnZhciBvdGhlckZpcmVmb3ggPSAvTW9iaWxlKD86LispRmlyZWZveFxcYi9pO1xudmFyIGlzQXBwbGVUYWJsZXRPbklvczEzID0gZnVuY3Rpb24gKG5hdmlnYXRvcikge1xuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPT09ICdudW1iZXInICYmXG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEgJiZcbiAgICAgICAgdHlwZW9mIE1TU3RyZWFtID09PSAndW5kZWZpbmVkJyk7XG59O1xuZnVuY3Rpb24gY3JlYXRlTWF0Y2godXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWdleCkgeyByZXR1cm4gcmVnZXgudGVzdCh1c2VyQWdlbnQpOyB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNNb2JpbGUocGFyYW0pIHtcbiAgICB2YXIgbmF2ID0ge1xuICAgICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgICBwbGF0Zm9ybTogJycsXG4gICAgICAgIG1heFRvdWNoUG9pbnRzOiAwXG4gICAgfTtcbiAgICBpZiAoIXBhcmFtICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYXYudXNlckFnZW50ID0gcGFyYW07XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtICYmIHBhcmFtLnVzZXJBZ2VudCkge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IHBhcmFtLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBwYXJhbS5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBwYXJhbS5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50O1xuICAgIHZhciB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1tGQkFOJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdG1wID0gdXNlckFnZW50LnNwbGl0KCdUd2l0dGVyJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gY3JlYXRlTWF0Y2godXNlckFnZW50KTtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBhcHBsZToge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFwcGxlSXBob25lKSAmJiAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIGlwb2Q6IG1hdGNoKGFwcGxlSXBvZCksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhcHBsZUlwaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYXBwbGVUYWJsZXQpIHx8IGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB1bml2ZXJzYWw6IG1hdGNoKGFwcGxlVW5pdmVyc2FsKSxcbiAgICAgICAgICAgIGRldmljZTogKG1hdGNoKGFwcGxlSXBob25lKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlSXBvZCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVVuaXZlcnNhbCkgfHxcbiAgICAgICAgICAgICAgICBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpXG4gICAgICAgIH0sXG4gICAgICAgIGFtYXpvbjoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFtYXpvblBob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvblBob25lKSAmJiBtYXRjaChhbWF6b25UYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25QaG9uZSkgfHwgbWF0Y2goYW1hem9uVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBhbmRyb2lkOiB7XG4gICAgICAgICAgICBwaG9uZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFtYXpvblBob25lKSkgfHxcbiAgICAgICAgICAgICAgICAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW5kcm9pZFBob25lKSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFtYXpvblBob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbmRyb2lkUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblRhYmxldCkgfHwgbWF0Y2goYW5kcm9pZFRhYmxldCkpLFxuICAgICAgICAgICAgZGV2aWNlOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFtYXpvblRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkVGFibGV0KSkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goL1xcYm9raHR0cFxcYi9pKVxuICAgICAgICB9LFxuICAgICAgICB3aW5kb3dzOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogbWF0Y2god2luZG93c1RhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NQaG9uZSkgfHwgbWF0Y2god2luZG93c1RhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgb3RoZXI6IHtcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSksXG4gICAgICAgICAgICBibGFja2JlcnJ5MTA6IG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSxcbiAgICAgICAgICAgIG9wZXJhOiBtYXRjaChvdGhlck9wZXJhKSxcbiAgICAgICAgICAgIGZpcmVmb3g6IG1hdGNoKG90aGVyRmlyZWZveCksXG4gICAgICAgICAgICBjaHJvbWU6IG1hdGNoKG90aGVyQ2hyb21lKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyT3BlcmEpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJGaXJlZm94KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQ2hyb21lKVxuICAgICAgICB9LFxuICAgICAgICBhbnk6IGZhbHNlLFxuICAgICAgICBwaG9uZTogZmFsc2UsXG4gICAgICAgIHRhYmxldDogZmFsc2VcbiAgICB9O1xuICAgIHJlc3VsdC5hbnkgPVxuICAgICAgICByZXN1bHQuYXBwbGUuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQuYW5kcm9pZC5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC53aW5kb3dzLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0Lm90aGVyLmRldmljZTtcbiAgICByZXN1bHQucGhvbmUgPVxuICAgICAgICByZXN1bHQuYXBwbGUucGhvbmUgfHwgcmVzdWx0LmFuZHJvaWQucGhvbmUgfHwgcmVzdWx0LndpbmRvd3MucGhvbmU7XG4gICAgcmVzdWx0LnRhYmxldCA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS50YWJsZXQgfHwgcmVzdWx0LmFuZHJvaWQudGFibGV0IHx8IHJlc3VsdC53aW5kb3dzLnRhYmxldDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNNb2JpbGUuanMubWFwIiwiaW1wb3J0IGlzTW9iaWxlSnMgZnJvbSAnaXNtb2JpbGVqcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgaXNNb2JpbGVDYWxsID0gaXNNb2JpbGVKcy5kZWZhdWx0ID8/IGlzTW9iaWxlSnM7XG5jb25zdCBpc01vYmlsZSA9IGlzTW9iaWxlQ2FsbChnbG9iYWxUaGlzLm5hdmlnYXRvcik7XG5cbmV4cG9ydCB7IGlzTW9iaWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4uL2V2ZW50cy9GZWRlcmF0ZWRFdmVudC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgaXNNb2JpbGUgfSBmcm9tICcuLi91dGlscy9icm93c2VyL2lzTW9iaWxlLm1qcyc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJy4uL3V0aWxzL2RhdGEvcmVtb3ZlSXRlbXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBLRVlfQ09ERV9UQUIgPSA5O1xuY29uc3QgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG5jb25zdCBESVZfVE9VQ0hfUE9TX1ggPSAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19ZID0gMDtcbmNvbnN0IERJVl9UT1VDSF9aSU5ERVggPSAyO1xuY29uc3QgRElWX0hPT0tfU0laRSA9IDE7XG5jb25zdCBESVZfSE9PS19QT1NfWCA9IC0xZTM7XG5jb25zdCBESVZfSE9PS19QT1NfWSA9IC0xZTM7XG5jb25zdCBESVZfSE9PS19aSU5ERVggPSAyO1xuY2xhc3MgQWNjZXNzaWJpbGl0eVN5c3RlbSB7XG4gIC8vIDJmcHNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzZG9jL3JlcXVpcmUtcGFyYW1cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcnxXZWJHUFVSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIF9tb2JpbGVJbmZvID0gaXNNb2JpbGUpIHtcbiAgICB0aGlzLl9tb2JpbGVJbmZvID0gX21vYmlsZUluZm87XG4gICAgLyoqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy4gKi9cbiAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNBY3RpdmUgZ2V0dGVyLiAqL1xuICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IGdldHRlci4gKi9cbiAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICAvKiogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLiAqL1xuICAgIHRoaXMuX3Bvb2wgPSBbXTtcbiAgICAvKiogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLiAqL1xuICAgIHRoaXMuX3JlbmRlcklkID0gMDtcbiAgICAvKiogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy4gKi9cbiAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgIC8qKiBDb3VudCB0byB0aHJvdHRsZSBkaXYgdXBkYXRlcyBvbiBhbmRyb2lkIGRldmljZXMuICovXG4gICAgdGhpcy5fYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcbiAgICAvKiogIFRoZSBmcmVxdWVuY3kgdG8gdXBkYXRlIHRoZSBkaXYgZWxlbWVudHMuICovXG4gICAgdGhpcy5fYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSA9IDUwMDtcbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICBpZiAoX21vYmlsZUluZm8udGFibGV0IHx8IF9tb2JpbGVJbmZvLnBob25lKSB7XG4gICAgICB0aGlzLl9jcmVhdGVUb3VjaEhvb2soKTtcbiAgICB9XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgZGl2LnN0eWxlLnRvcCA9IGAke0RJVl9UT1VDSF9QT1NfWH1weGA7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfVE9VQ0hfUE9TX1l9cHhgO1xuICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5fZGl2ID0gZGl2O1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbHVlIG9mIGB0cnVlYCBpZiBhY2Nlc3NpYmlsaXR5IGlzIGN1cnJlbnRseSBhY3RpdmUgYW5kIGFjY2Vzc2liaWxpdHkgbGF5ZXJzIGFyZSBzaG93aW5nLlxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gIH1cbiAgLyoqXG4gICAqIFZhbHVlIG9mIGB0cnVlYCBpZiBhY2Nlc3NpYmlsaXR5IGlzIGVuYWJsZWQgZm9yIHRvdWNoIGRldmljZXMuXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGlzTW9iaWxlQWNjZXNzaWJpbGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICB9XG4gIGdldCBob29rRGl2KCkge1xuICAgIHJldHVybiB0aGlzLl9ob29rRGl2O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVUb3VjaEhvb2soKSB7XG4gICAgY29uc3QgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX0hPT0tfU0laRX1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBob29rRGl2LnN0eWxlLnRvcCA9IGAke0RJVl9IT09LX1BPU19YfXB4YDtcbiAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfSE9PS19QT1NfWX1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0ZGMDAwMFwiO1xuICAgIGhvb2tEaXYudGl0bGUgPSBcInNlbGVjdCB0byBlbmFibGUgYWNjZXNzaWJpbGl0eSBmb3IgdGhpcyBjb250ZW50XCI7XG4gICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gICAgICB0aGlzLl9kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rlc3Ryb3lUb3VjaEhvb2soKSB7XG4gICAgaWYgKCF0aGlzLl9ob29rRGl2KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hY3RpdmF0ZSgpIHtcbiAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnBvc3RyZW5kZXIuYWRkKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnZpZXcuY2FudmFzLnBhcmVudE5vZGU/LmFwcGVuZENoaWxkKHRoaXMuX2Rpdik7XG4gIH1cbiAgLyoqXG4gICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlYWN0aXZhdGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2ZSB8fCB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucnVubmVycy5wb3N0cmVuZGVyLnJlbW92ZSh0aGlzKTtcbiAgICB0aGlzLl9kaXYucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQodGhpcy5fZGl2KTtcbiAgfVxuICAvKipcbiAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBjaGVjay5cbiAgICovXG4gIF91cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lci52aXNpYmxlIHx8ICFjb250YWluZXIuYWNjZXNzaWJsZUNoaWxkcmVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjb250YWluZXIuYWNjZXNzaWJsZSAmJiBjb250YWluZXIuaXNJbnRlcmFjdGl2ZSgpKSB7XG4gICAgICBpZiAoIWNvbnRhaW5lci5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9hZGRDaGlsZChjb250YWluZXIpO1xuICAgICAgfVxuICAgICAgY29udGFpbmVyLl9yZW5kZXJJZCA9IHRoaXMuX3JlbmRlcklkO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogUnVubmVyIGluaXQgY2FsbGVkLCB2aWV3IGlzIGF2YWlsYWJsZSBhdCB0aGlzIHBvaW50LlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICB0aGlzLmRlYnVnID0gb3B0aW9ucz8uZGVidWcgPz8gdGhpcy5kZWJ1ZztcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnBvc3RyZW5kZXIucmVtb3ZlKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBSdW5uZXIgcG9zdHJlbmRlciB3YXMgY2FsbGVkLCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBDb250YWluZXJzLlxuICAgKiBPbmx5IGZpcmVzIHdoaWxlIGFjdGl2ZS5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcG9zdHJlbmRlcigpIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBpZiAodGhpcy5fbW9iaWxlSW5mby5hbmRyb2lkLmRldmljZSAmJiBub3cgPCB0aGlzLl9hbmRyb2lkVXBkYXRlQ291bnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5fYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeTtcbiAgICBpZiAoIXRoaXMuX3JlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuIHx8ICF0aGlzLl9yZW5kZXJlci52aWV3LmNhbnZhcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICB0aGlzLl91cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLl9yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQpO1xuICAgIH1cbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuX3JlbmRlcmVyLnZpZXcuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHsgd2lkdGg6IHZpZXdXaWR0aCwgaGVpZ2h0OiB2aWV3SGVpZ2h0LCByZXNvbHV0aW9uIH0gPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCBzeCA9IHdpZHRoIC8gdmlld1dpZHRoICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBzeSA9IGhlaWdodCAvIHZpZXdIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgIGxldCBkaXYgPSB0aGlzLl9kaXY7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICBkaXYuc3R5bGUudG9wID0gYCR7eX1weGA7XG4gICAgZGl2LnN0eWxlLndpZHRoID0gYCR7dmlld1dpZHRofXB4YDtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7dmlld0hlaWdodH1weGA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLl9jaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaGlsZC5fcmVuZGVySWQgIT09IHRoaXMuX3JlbmRlcklkKSB7XG4gICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuX2NoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgdGhpcy5fZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgdGhpcy5fcG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuICAgICAgICBpLS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgbGV0IGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICBjb25zdCB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7KHd0LnR4ICsgaGl0QXJlYS54ICogd3QuYSkgKiBzeH1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAkeyh3dC50eSArIGhpdEFyZWEueSAqIHd0LmQpICogc3l9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke2hpdEFyZWEud2lkdGggKiB3dC5hICogc3h9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeX1weGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpLnJlY3RhbmdsZTtcbiAgICAgICAgICB0aGlzLl9jYXBIaXRBcmVhKGhpdEFyZWEpO1xuICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7aGl0QXJlYS54ICogc3h9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtoaXRBcmVhLnkgKiBzeX1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7aGl0QXJlYS53aWR0aCAqIHN4fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiBzeX1weGA7XG4gICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnQgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGNoaWxkLmFjY2Vzc2libGVIaW50IHx8IFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBkaXYudGl0bGUgfHwgY2hpbGQudGFiSW5kZXggIT09IGRpdi50YWJJbmRleCkge1xuICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZSB8fCBcIlwiO1xuICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVEZWJ1Z0hUTUwoZGl2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fcmVuZGVySWQrKztcbiAgfVxuICAvKipcbiAgICogcHJpdmF0ZSBmdW5jdGlvbiB0aGF0IHdpbGwgdmlzdWFsbHkgYWRkIHRoZSBpbmZvcm1hdGlvbiB0byB0aGVcbiAgICogYWNjZXNzaWJpbGl0eSBkaXZcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZGl2IC1cbiAgICovXG4gIF91cGRhdGVEZWJ1Z0hUTUwoZGl2KSB7XG4gICAgZGl2LmlubmVySFRNTCA9IGB0eXBlOiAke2Rpdi50eXBlfTwvYnI+IHRpdGxlIDogJHtkaXYudGl0bGV9PC9icj4gdGFiSW5kZXg6ICR7ZGl2LnRhYkluZGV4fWA7XG4gIH1cbiAgLyoqXG4gICAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgKi9cbiAgX2NhcEhpdEFyZWEoaGl0QXJlYSkge1xuICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgfVxuICAgIGlmIChoaXRBcmVhLnkgPCAwKSB7XG4gICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICBoaXRBcmVhLnkgPSAwO1xuICAgIH1cbiAgICBjb25zdCB7IHdpZHRoOiB2aWV3V2lkdGgsIGhlaWdodDogdmlld0hlaWdodCB9ID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB2aWV3V2lkdGgpIHtcbiAgICAgIGhpdEFyZWEud2lkdGggPSB2aWV3V2lkdGggLSBoaXRBcmVhLng7XG4gICAgfVxuICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHZpZXdIZWlnaHQpIHtcbiAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdmlld0hlaWdodCAtIGhpdEFyZWEueTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBDb250YWluZXIgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICovXG4gIF9hZGRDaGlsZChjb250YWluZXIpIHtcbiAgICBsZXQgZGl2ID0gdGhpcy5fcG9vbC5wb3AoKTtcbiAgICBpZiAoIWRpdikge1xuICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCIgOiBcInRyYW5zcGFyZW50XCI7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gXCJub25lXCI7XG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY2hyb21lXCIpKSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJvZmZcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSkge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1yZWxldmFudFwiLCBcImFkZGl0aW9uc1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJlbGV2YW50XCIsIFwidGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBjb250YWluZXIuYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM7XG4gICAgZGl2LnR5cGUgPSBjb250YWluZXIuYWNjZXNzaWJsZVR5cGU7XG4gICAgaWYgKGNvbnRhaW5lci5hY2Nlc3NpYmxlVGl0bGUgJiYgY29udGFpbmVyLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgZGl2LnRpdGxlID0gY29udGFpbmVyLmFjY2Vzc2libGVUaXRsZTtcbiAgICB9IGVsc2UgaWYgKCFjb250YWluZXIuYWNjZXNzaWJsZUhpbnQgfHwgY29udGFpbmVyLmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICBkaXYudGl0bGUgPSBgY29udGFpbmVyICR7Y29udGFpbmVyLnRhYkluZGV4fWA7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIuYWNjZXNzaWJsZUhpbnQgJiYgY29udGFpbmVyLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBjb250YWluZXIuYWNjZXNzaWJsZUhpbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgdGhpcy5fdXBkYXRlRGVidWdIVE1MKGRpdik7XG4gICAgfVxuICAgIGNvbnRhaW5lci5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgY29udGFpbmVyLl9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgIGRpdi5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjb250YWluZXIpO1xuICAgIHRoaXMuX2Rpdi5hcHBlbmRDaGlsZChjb250YWluZXIuX2FjY2Vzc2libGVEaXYpO1xuICAgIGNvbnRhaW5lci5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGNvbnRhaW5lci50YWJJbmRleDtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2ggZXZlbnRzIHdpdGggdGhlIEV2ZW50U3lzdGVtLlxuICAgKiBAcGFyYW0gZVxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BhdGNoRXZlbnQoZSwgdHlwZSkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyOiB0YXJnZXQgfSA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5fcmVuZGVyZXIuZXZlbnRzLnJvb3RCb3VuZGFyeTtcbiAgICBjb25zdCBldmVudCA9IE9iamVjdC5hc3NpZ24obmV3IEZlZGVyYXRlZEV2ZW50KGJvdW5kYXJ5KSwgeyB0YXJnZXQgfSk7XG4gICAgYm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMuX3JlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICB0eXBlLmZvckVhY2goKHR5cGUyKSA9PiBib3VuZGFyeS5kaXNwYXRjaEV2ZW50KGV2ZW50LCB0eXBlMikpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBFdmVudFN5c3RlbSAoY2xpY2spXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICovXG4gIF9vbkNsaWNrKGUpIHtcbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcImNsaWNrXCIsIFwicG9pbnRlcnRhcFwiLCBcInRhcFwiXSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEV2ZW50U3lzdGVtIChtb3VzZW92ZXIpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICovXG4gIF9vbkZvY3VzKGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSkge1xuICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwiYXNzZXJ0aXZlXCIpO1xuICAgIH1cbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcIm1vdXNlb3ZlclwiXSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEV2ZW50U3lzdGVtIChtb3VzZW91dClcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgKi9cbiAgX29uRm9jdXNPdXQoZSkge1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIpKSB7XG4gICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgfVxuICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgW1wibW91c2VvdXRcIl0pO1xuICB9XG4gIC8qKlxuICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgKi9cbiAgX29uS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICAgKi9cbiAgX29uTW91c2VNb3ZlKGUpIHtcbiAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICB9XG4gIC8qKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fZGVzdHJveVRvdWNoSG9vaygpO1xuICAgIHRoaXMuX2RpdiA9IG51bGw7XG4gICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX29uS2V5RG93bik7XG4gICAgdGhpcy5fcG9vbCA9IG51bGw7XG4gICAgdGhpcy5fY2hpbGRyZW4gPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkFjY2Vzc2liaWxpdHlTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImFjY2Vzc2liaWxpdHlcIlxufTtcblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzaWJpbGl0eVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5U3lzdGVtIH0gZnJvbSAnLi9BY2Nlc3NpYmlsaXR5U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5VGFyZ2V0IH0gZnJvbSAnLi9hY2Nlc3NpYmlsaXR5VGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoQWNjZXNzaWJpbGl0eVN5c3RlbSk7XG5Db250YWluZXIubWl4aW4oYWNjZXNzaWJpbGl0eVRhcmdldCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYWNjZXNzaWJpbGl0eVRhcmdldCA9IHtcbiAgLyoqXG4gICAqIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgKiBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICovXG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuICAvKipcbiAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdjb250YWluZXIgW3RhYkluZGV4XSdcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKi9cbiAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuICAvKipcbiAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKi9cbiAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gIC8qKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAqL1xuICB0YWJJbmRleDogMCxcbiAgLyoqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG4gIC8qKlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FjY2Vzc2libGVEaXY6IG51bGwsXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICogZGVwZW5kaW5nIG9uIHRoaXMgdHlwZS4gRGVmYXVsdHMgdG8gYnV0dG9uLlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0ICdidXR0b24nXG4gICAqL1xuICBhY2Nlc3NpYmxlVHlwZTogXCJidXR0b25cIixcbiAgLyoqXG4gICAqIFNwZWNpZnkgdGhlIHBvaW50ZXItZXZlbnRzIHRoZSBhY2Nlc3NpYmxlIGRpdiB3aWxsIHVzZVxuICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50c31cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAqL1xuICBhY2Nlc3NpYmxlUG9pbnRlckV2ZW50czogXCJhdXRvXCIsXG4gIC8qKlxuICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAqIGJlIGFjY2Vzc2libGUuIERlZmF1bHRzIHRvIHRydWUuXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGFjY2Vzc2libGVDaGlsZHJlbjogdHJ1ZSxcbiAgLyoqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW5kZXJJZDogLTFcbn07XG5cbmV4cG9ydCB7IGFjY2Vzc2liaWxpdHlUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2liaWxpdHlUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi4vdGlja2VyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICcuLi90aWNrZXIvVGlja2VyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRXZlbnRzVGlja2VyQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogVGhlIGZyZXF1ZW5jeSB0aGF0IGZha2UgZXZlbnRzIHdpbGwgYmUgZmlyZWQuICovXG4gICAgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IDEwO1xuICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG4gICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3RpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGF1c2VVcGRhdGUgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZXZlbnQgdGlja2VyLlxuICAgKiBAcGFyYW0gZXZlbnRzIC0gVGhlIGV2ZW50IHN5c3RlbS5cbiAgICovXG4gIGluaXQoZXZlbnRzKSB7XG4gICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSAxMDtcbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhdXNlVXBkYXRlID0gdHJ1ZTtcbiAgfVxuICAvKiogV2hldGhlciB0byBwYXVzZSB0aGUgdXBkYXRlIGNoZWNrcyBvciBub3QuICovXG4gIGdldCBwYXVzZVVwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGF1c2VVcGRhdGU7XG4gIH1cbiAgc2V0IHBhdXNlVXBkYXRlKHBhdXNlZCkge1xuICAgIHRoaXMuX3BhdXNlVXBkYXRlID0gcGF1c2VkO1xuICB9XG4gIC8qKiBBZGRzIHRoZSB0aWNrZXIgbGlzdGVuZXIuICovXG4gIGFkZFRpY2tlckxpc3RlbmVyKCkge1xuICAgIGlmICh0aGlzLl90aWNrZXJBZGRlZCB8fCAhdGhpcy5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMuX3RpY2tlclVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IHRydWU7XG4gIH1cbiAgLyoqIFJlbW92ZXMgdGhlIHRpY2tlciBsaXN0ZW5lci4gKi9cbiAgcmVtb3ZlVGlja2VyTGlzdGVuZXIoKSB7XG4gICAgaWYgKCF0aGlzLl90aWNrZXJBZGRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLl90aWNrZXJVcGRhdGUsIHRoaXMpO1xuICAgIHRoaXMuX3RpY2tlckFkZGVkID0gZmFsc2U7XG4gIH1cbiAgLyoqIFNldHMgZmxhZyB0byBub3QgZmlyZSBleHRyYSBldmVudHMgd2hlbiB0aGUgdXNlciBoYXMgYWxyZWFkeSBtb3ZlZCB0aGVyZSBtb3VzZSAqL1xuICBwb2ludGVyTW92ZWQoKSB7XG4gICAgdGhpcy5fZGlkTW92ZSA9IHRydWU7XG4gIH1cbiAgLyoqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuICovXG4gIF91cGRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmRvbUVsZW1lbnQgfHwgdGhpcy5fcGF1c2VVcGRhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2RpZE1vdmUpIHtcbiAgICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgcm9vdFBvaW50ZXJFdmVudCA9IHRoaXMuZXZlbnRzW1wiX3Jvb3RQb2ludGVyRXZlbnRcIl07XG4gICAgaWYgKHRoaXMuZXZlbnRzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgcm9vdFBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgUG9pbnRlckV2ZW50KFwicG9pbnRlcm1vdmVcIiwge1xuICAgICAgY2xpZW50WDogcm9vdFBvaW50ZXJFdmVudC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogcm9vdFBvaW50ZXJFdmVudC5jbGllbnRZLFxuICAgICAgcG9pbnRlclR5cGU6IHJvb3RQb2ludGVyRXZlbnQucG9pbnRlclR5cGUsXG4gICAgICBwb2ludGVySWQ6IHJvb3RQb2ludGVyRXZlbnQucG9pbnRlcklkXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzIGlmIGF0IGxlYXN0IHtAbGluayBpbnRlcmFjdGlvbkZyZXF1ZW5jeX1cbiAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAqXG4gICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBUaWNrZXIuc3lzdGVtfS5cbiAgICogQHBhcmFtIHRpY2tlciAtIFRoZSB0aHJvdHRsZWQgdGlja2VyLlxuICAgKi9cbiAgX3RpY2tlclVwZGF0ZSh0aWNrZXIpIHtcbiAgICB0aGlzLl9kZWx0YVRpbWUgKz0gdGlja2VyLmRlbHRhVGltZTtcbiAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG59XG5jb25zdCBFdmVudHNUaWNrZXIgPSBuZXcgRXZlbnRzVGlja2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgRXZlbnRzVGlja2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFRpY2tlci5tanMubWFwXG4iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkRXZlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBjYW52YXMuICovXG4gICAgdGhpcy5jbGllbnQgPSBuZXcgUG9pbnQoKTtcbiAgICAvKiogVGhlIG1vdmVtZW50IGluIHRoaXMgcG9pbnRlciByZWxhdGl2ZSB0byB0aGUgbGFzdCBgbW91c2Vtb3ZlYCBldmVudC4gKi9cbiAgICB0aGlzLm1vdmVtZW50ID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBvZmZzZXQgb2YgdGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgdy5yLnQuIHRhcmdldCBDb250YWluZXIgaW4gd29ybGQgc3BhY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50LiAqL1xuICAgIHRoaXMub2Zmc2V0ID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIGluIHdvcmxkIHNwYWNlLiAqL1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgLyoqXG4gICAgICogVGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgaW4gdGhlIHJlbmRlcmVyJ3Mge0BsaW5rIFJlbmRlcmVyLnNjcmVlbiBzY3JlZW59LiBUaGlzIGhhcyBzbGlnaHRseVxuICAgICAqIGRpZmZlcmVudCBzZW1hbnRpY3MgdGhhbiBuYXRpdmUgUG9pbnRlckV2ZW50IHNjcmVlblgvc2NyZWVuWS5cbiAgICAgKi9cbiAgICB0aGlzLnNjcmVlbiA9IG5ldyBQb2ludCgpO1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IGNsaWVudFgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50Lng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgY2xpZW50WSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQueTtcbiAgfVxuICAvKipcbiAgICogQWxpYXMgZm9yIHtAbGluayBGZWRlcmF0ZWRNb3VzZUV2ZW50LmNsaWVudFggdGhpcy5jbGllbnRYfS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRYO1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBmb3Ige0BsaW5rIEZlZGVyYXRlZE1vdXNlRXZlbnQuY2xpZW50WSB0aGlzLmNsaWVudFl9LlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB5KCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFk7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgbW92ZW1lbnRYKCkge1xuICAgIHJldHVybiB0aGlzLm1vdmVtZW50Lng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgbW92ZW1lbnRZKCkge1xuICAgIHJldHVybiB0aGlzLm1vdmVtZW50Lnk7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgb2Zmc2V0WCgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXQueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBvZmZzZXRZKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldC55O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IGdsb2JhbFgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsLng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgZ2xvYmFsWSgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWwueTtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgaW4gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuLiBBbGlhcyBmb3Ige0Bjb2RlIHNjcmVlbi54fS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2NyZWVuWCgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JlZW4ueDtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgaW4gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuLiBBbGlhcyBmb3Ige0Bjb2RlIHNjcmVlbi55fS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2NyZWVuWSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JlZW4ueTtcbiAgfVxuICAvKipcbiAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBjb250YWluZXIgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gICAqIEBwYXJhbSB7Q29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gICAqICBjb29yZHMgb2ZmXG4gICAqIEBwYXJhbSB7UG9pbnREYXRhfSBwb2ludCAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gICAqIEBwYXJhbSB7UG9pbnREYXRhfSBnbG9iYWxQb3MgLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAqIEByZXR1cm5zIC0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAqICB0byB0aGUgQ29udGFpbmVyXG4gICAqL1xuICBnZXRMb2NhbFBvc2l0aW9uKGNvbnRhaW5lciwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgIHJldHVybiBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBtb2RpZmllciBrZXkgd2FzIHByZXNzZWQgd2hlbiB0aGlzIGV2ZW50IG5hdGl2ZWx5IG9jY3VycmVkLlxuICAgKiBAcGFyYW0ga2V5IC0gVGhlIG1vZGlmaWVyIGtleS5cbiAgICovXG4gIGdldE1vZGlmaWVyU3RhdGUoa2V5KSB7XG4gICAgcmV0dXJuIFwiZ2V0TW9kaWZpZXJTdGF0ZVwiIGluIHRoaXMubmF0aXZlRXZlbnQgJiYgdGhpcy5uYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleSk7XG4gIH1cbiAgLyoqXG4gICAqIE5vdCBzdXBwb3J0ZWQuXG4gICAqIEBwYXJhbSBfdHlwZUFyZ1xuICAgKiBAcGFyYW0gX2NhbkJ1YmJsZUFyZ1xuICAgKiBAcGFyYW0gX2NhbmNlbGFibGVBcmdcbiAgICogQHBhcmFtIF92aWV3QXJnXG4gICAqIEBwYXJhbSBfZGV0YWlsQXJnXG4gICAqIEBwYXJhbSBfc2NyZWVuWEFyZ1xuICAgKiBAcGFyYW0gX3NjcmVlbllBcmdcbiAgICogQHBhcmFtIF9jbGllbnRYQXJnXG4gICAqIEBwYXJhbSBfY2xpZW50WUFyZ1xuICAgKiBAcGFyYW0gX2N0cmxLZXlBcmdcbiAgICogQHBhcmFtIF9hbHRLZXlBcmdcbiAgICogQHBhcmFtIF9zaGlmdEtleUFyZ1xuICAgKiBAcGFyYW0gX21ldGFLZXlBcmdcbiAgICogQHBhcmFtIF9idXR0b25BcmdcbiAgICogQHBhcmFtIF9yZWxhdGVkVGFyZ2V0QXJnXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDcuMC4wXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICBpbml0TW91c2VFdmVudChfdHlwZUFyZywgX2NhbkJ1YmJsZUFyZywgX2NhbmNlbGFibGVBcmcsIF92aWV3QXJnLCBfZGV0YWlsQXJnLCBfc2NyZWVuWEFyZywgX3NjcmVlbllBcmcsIF9jbGllbnRYQXJnLCBfY2xpZW50WUFyZywgX2N0cmxLZXlBcmcsIF9hbHRLZXlBcmcsIF9zaGlmdEtleUFyZywgX21ldGFLZXlBcmcsIF9idXR0b25BcmcsIF9yZWxhdGVkVGFyZ2V0QXJnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkTW91c2VFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkUG9pbnRlckV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkTW91c2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfVxuICAvLyBPbmx5IGluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3MgZm9yIG5vd1xuICBnZXRDb2FsZXNjZWRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gXCJwb2ludGVybW92ZVwiIHx8IHRoaXMudHlwZSA9PT0gXCJtb3VzZW1vdmVcIiB8fCB0aGlzLnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIHJldHVybiBbdGhpc107XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBPbmx5IGluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3MgZm9yIG5vd1xuICBnZXRQcmVkaWN0ZWRFdmVudHMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0UHJlZGljdGVkRXZlbnRzIGlzIG5vdCBzdXBwb3J0ZWQhXCIpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZlZGVyYXRlZFBvaW50ZXJFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkUG9pbnRlckV2ZW50Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGZWRlcmF0ZWRXaGVlbEV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkTW91c2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqIFVuaXRzIHNwZWNpZmllZCBpbiBwaXhlbHMuICovXG4gICAgdGhpcy5ET01fREVMVEFfUElYRUwgPSAwO1xuICAgIC8qKiBVbml0cyBzcGVjaWZpZWQgaW4gbGluZXMuICovXG4gICAgdGhpcy5ET01fREVMVEFfTElORSA9IDE7XG4gICAgLyoqIFVuaXRzIHNwZWNpZmllZCBpbiBwYWdlcy4gKi9cbiAgICB0aGlzLkRPTV9ERUxUQV9QQUdFID0gMjtcbiAgfVxufVxuLyoqIFVuaXRzIHNwZWNpZmllZCBpbiBwaXhlbHMuICovXG5GZWRlcmF0ZWRXaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCA9IDA7XG4vKiogVW5pdHMgc3BlY2lmaWVkIGluIGxpbmVzLiAqL1xuRmVkZXJhdGVkV2hlZWxFdmVudC5ET01fREVMVEFfTElORSA9IDE7XG4vKiogVW5pdHMgc3BlY2lmaWVkIGluIHBhZ2VzLiAqL1xuRmVkZXJhdGVkV2hlZWxFdmVudC5ET01fREVMVEFfUEFHRSA9IDI7XG5cbmV4cG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZFdoZWVsRXZlbnQubWpzLm1hcFxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbWF0aHMvcG9pbnQvUG9pbnQubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcbmltcG9ydCB7IEV2ZW50c1RpY2tlciB9IGZyb20gJy4vRXZlbnRUaWNrZXIubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFBvaW50ZXJFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkUG9pbnRlckV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRXaGVlbEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgUFJPUEFHQVRJT05fTElNSVQgPSAyMDQ4O1xuY29uc3QgdGVtcEhpdExvY2F0aW9uID0gbmV3IFBvaW50KCk7XG5jb25zdCB0ZW1wTG9jYWxNYXBwaW5nID0gbmV3IFBvaW50KCk7XG5jbGFzcyBFdmVudEJvdW5kYXJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSByb290VGFyZ2V0IC0gVGhlIGhvbGRlciBvZiB0aGUgZXZlbnQgYm91bmRhcnkuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihyb290VGFyZ2V0KSB7XG4gICAgLyoqXG4gICAgICogRW1pdHMgZXZlbnRzIGFmdGVyIHRoZXkgd2VyZSBkaXNwYXRjaGVkIGludG8gdGhlIHNjZW5lIGdyYXBoLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgZ2xvYmFsIGV2ZW50cyBsaXN0ZW5pbmcsIHJlZ2FyZGxlc3Mgb2YgdGhlIHNjZW5lIGdyYXBoIGJlaW5nIHVzZWQuIEl0IHNob3VsZFxuICAgICAqIG5vdCBiZSB1c2VkIGJ5IGludGVyYWN0aXZlIGxpYnJhcmllcyBmb3Igbm9ybWFsIHVzZS5cbiAgICAgKlxuICAgICAqIFNwZWNpYWwgZXZlbnRzIHRoYXQgZG8gbm90IGJ1YmJsZSBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCB0YXJnZXQgYXJlIG5vdCBlbWl0dGVkIGZyb20gaGVyZSxcbiAgICAgKiBlLmcuIHBvaW50ZXJlbnRlciwgcG9pbnRlcmxlYXZlLCBjbGljay5cbiAgICAgKi9cbiAgICB0aGlzLmRpc3BhdGNoID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZmxhZyB3b3VsZCBlbWl0IGBwb2ludGVybW92ZWAsIGB0b3VjaG1vdmVgLCBhbmQgYG1vdXNlbW92ZWAgZXZlbnRzIG9uIGFsbCBDb250YWluZXJzLlxuICAgICAqXG4gICAgICogVGhlIGBtb3ZlT25BbGxgIHNlbWFudGljcyBtaXJyb3IgdGhvc2Ugb2YgZWFybGllciB2ZXJzaW9ucyBvZiBQaXhpSlMuIFRoaXMgd2FzIGRpc2FibGVkIGluIGZhdm9yIG9mXG4gICAgICogdGhlIFBvaW50ZXIgRXZlbnQgQVBJJ3MgYXBwcm9hY2guXG4gICAgICovXG4gICAgdGhpcy5tb3ZlT25BbGwgPSBmYWxzZTtcbiAgICAvKiogRW5hYmxlcyB0aGUgZ2xvYmFsIG1vdmUgZXZlbnRzLiBgZ2xvYmFscG9pbnRlcm1vdmVgLCBgZ2xvYmFsdG91Y2htb3ZlYCwgYW5kIGBnbG9iYWxtb3VzZW1vdmVgICovXG4gICAgdGhpcy5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBTdGF0ZSBvYmplY3QgZm9yIG1hcHBpbmcgbWV0aG9kcy5cbiAgICAgKiBAc2VlIEV2ZW50Qm91bmRhcnkjdHJhY2tpbmdEYXRhXG4gICAgICovXG4gICAgdGhpcy5tYXBwaW5nU3RhdGUgPSB7XG4gICAgICB0cmFja2luZ0RhdGE6IHt9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgcG9vbCBtYXBzIGV2ZW50IGNvbnN0cnVjdG9ycyB0byBhbiBmcmVlIHBvb2wgb2YgaW5zdGFuY2VzIG9mIHRob3NlIHNwZWNpZmljIGV2ZW50cy5cbiAgICAgKiBAc2VlIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudFxuICAgICAqIEBzZWUgRXZlbnRCb3VuZGFyeSNmcmVlRXZlbnRcbiAgICAgKi9cbiAgICB0aGlzLmV2ZW50UG9vbCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgLyoqIEV2ZXJ5IGludGVyYWN0aXZlIGVsZW1lbnQgZ2F0aGVyZWQgZnJvbSB0aGUgc2NlbmUuIE9ubHkgdXNlZCBpbiBgcG9pbnRlcm1vdmVgICovXG4gICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cyA9IFtdO1xuICAgIC8qKiBFdmVyeSBlbGVtZW50IHRoYXQgcGFzc2VkIHRoZSBoaXQgdGVzdC4gT25seSB1c2VkIGluIGBwb2ludGVybW92ZWAgKi9cbiAgICB0aGlzLl9oaXRFbGVtZW50cyA9IFtdO1xuICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0byBjb2xsZWN0IGFsbCB0aGUgaW50ZXJhY3RpdmUgZWxlbWVudHMgZnJvbSB0aGUgc2NlbmUuIEVuYWJsZWQgaW4gYHBvaW50ZXJtb3ZlYCAqL1xuICAgIHRoaXMuX2lzUG9pbnRlck1vdmVFdmVudCA9IGZhbHNlO1xuICAgIHRoaXMucm9vdFRhcmdldCA9IHJvb3RUYXJnZXQ7XG4gICAgdGhpcy5oaXRQcnVuZUZuID0gdGhpcy5oaXRQcnVuZUZuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oaXRUZXN0Rm4gPSB0aGlzLmhpdFRlc3RGbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlckRvd24gPSB0aGlzLm1hcFBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyTW92ZSA9IHRoaXMubWFwUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdXQgPSB0aGlzLm1hcFBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdmVyID0gdGhpcy5tYXBQb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlclVwID0gdGhpcy5tYXBQb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUgPSB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFdoZWVsID0gdGhpcy5tYXBXaGVlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwcGluZ1RhYmxlID0ge307XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyZG93blwiLCB0aGlzLm1hcFBvaW50ZXJEb3duKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJtb3ZlXCIsIHRoaXMubWFwUG9pbnRlck1vdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcm91dFwiLCB0aGlzLm1hcFBvaW50ZXJPdXQpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMubWFwUG9pbnRlck91dCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyb3ZlclwiLCB0aGlzLm1hcFBvaW50ZXJPdmVyKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJ1cFwiLCB0aGlzLm1hcFBvaW50ZXJVcCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMubWFwUG9pbnRlclVwT3V0c2lkZSk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJ3aGVlbFwiLCB0aGlzLm1hcFdoZWVsKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhbiBldmVudCBtYXBwaW5nIGZvciB0aGUgZXZlbnQgYHR5cGVgIGhhbmRsZWQgYnkgYGZuYC5cbiAgICpcbiAgICogRXZlbnQgbWFwcGluZ3MgY2FuIGJlIHVzZWQgdG8gaW1wbGVtZW50IGFkZGl0aW9uYWwgb3IgY3VzdG9tIGV2ZW50cy4gVGhleSB0YWtlIGFuIGV2ZW50XG4gICAqIGNvbWluZyBmcm9tIHRoZSB1cHN0cmVhbSBzY2VuZSAob3IgZGlyZWN0bHkgZnJvbSB0aGUge0BsaW5rIEV2ZW50U3lzdGVtfSkgYW5kIGRpc3BhdGNoIG5ldyBkb3duc3RyZWFtIGV2ZW50c1xuICAgKiBnZW5lcmFsbHkgdHJpY2tsaW5nIGRvd24gYW5kIGJ1YmJsaW5nIHVwIHRvIHtAbGluayBFdmVudEJvdW5kYXJ5LnJvb3RUYXJnZXQgdGhpcy5yb290VGFyZ2V0fS5cbiAgICpcbiAgICogVG8gbW9kaWZ5IHRoZSBzZW1hbnRpY3Mgb2YgZXhpc3RpbmcgZXZlbnRzLCB0aGUgYnVpbHQtaW4gbWFwcGluZyBtZXRob2RzIG9mIEV2ZW50Qm91bmRhcnkgc2hvdWxkIGJlIG92ZXJyaWRkZW5cbiAgICogaW5zdGVhZC5cbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiB1cHN0cmVhbSBldmVudCB0byBtYXAuXG4gICAqIEBwYXJhbSBmbiAtIFRoZSBtYXBwaW5nIG1ldGhvZC4gVGhlIGNvbnRleHQgb2YgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIGJvdW5kIG1hbnVhbGx5LCBpZiBkZXNpcmVkLlxuICAgKi9cbiAgYWRkRXZlbnRNYXBwaW5nKHR5cGUsIGZuKSB7XG4gICAgaWYgKCF0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXSkge1xuICAgICAgdGhpcy5tYXBwaW5nVGFibGVbdHlwZV0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5tYXBwaW5nVGFibGVbdHlwZV0ucHVzaCh7XG4gICAgICBmbixcbiAgICAgIHByaW9yaXR5OiAwXG4gICAgfSk7XG4gICAgdGhpcy5tYXBwaW5nVGFibGVbdHlwZV0uc29ydCgoYSwgYikgPT4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHkpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIHRoZSBnaXZlbiBldmVudFxuICAgKiBAcGFyYW0gZSAtIFRoZSBldmVudCB0byBkaXNwYXRjaC5cbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBkaXNwYXRjaC4gRGVmYXVsdHMgdG8gYGUudHlwZWAuXG4gICAqL1xuICBkaXNwYXRjaEV2ZW50KGUsIHR5cGUpIHtcbiAgICBlLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAgIGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BhZ2F0ZShlLCB0eXBlKTtcbiAgICB0aGlzLmRpc3BhdGNoLmVtaXQodHlwZSB8fCBlLnR5cGUsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSBnaXZlbiB1cHN0cmVhbSBldmVudCB0aHJvdWdoIHRoZSBldmVudCBib3VuZGFyeSBhbmQgcHJvcGFnYXRlcyBpdCBkb3duc3RyZWFtLlxuICAgKiBAcGFyYW0gZSAtIFRoZSBldmVudCB0byBtYXAuXG4gICAqL1xuICBtYXBFdmVudChlKSB7XG4gICAgaWYgKCF0aGlzLnJvb3RUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWFwcGVycyA9IHRoaXMubWFwcGluZ1RhYmxlW2UudHlwZV07XG4gICAgaWYgKG1hcHBlcnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFwcGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbWFwcGVyc1tpXS5mbihlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihgW0V2ZW50Qm91bmRhcnldOiBFdmVudCBtYXBwaW5nIG5vdCBkZWZpbmVkIGZvciAke2UudHlwZX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBDb250YWluZXIgdGhhdCBpcyB0aGUgdGFyZ2V0IG9mIGEgZXZlbnQgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBUaGUgcGFzc2VkICh4LHkpIGNvb3JkaW5hdGVzIGFyZSBpbiB0aGUgd29ybGQgc3BhY2UgYWJvdmUgdGhpcyBldmVudCBib3VuZGFyeS5cbiAgICogQHBhcmFtIHggLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHkgLSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSBldmVudC5cbiAgICovXG4gIGhpdFRlc3QoeCwgeSkge1xuICAgIEV2ZW50c1RpY2tlci5wYXVzZVVwZGF0ZSA9IHRydWU7XG4gICAgY29uc3QgdXNlTW92ZSA9IHRoaXMuX2lzUG9pbnRlck1vdmVFdmVudCAmJiB0aGlzLmVuYWJsZUdsb2JhbE1vdmVFdmVudHM7XG4gICAgY29uc3QgZm4gPSB1c2VNb3ZlID8gXCJoaXRUZXN0TW92ZVJlY3Vyc2l2ZVwiIDogXCJoaXRUZXN0UmVjdXJzaXZlXCI7XG4gICAgY29uc3QgaW52ZXJ0ZWRQYXRoID0gdGhpc1tmbl0oXG4gICAgICB0aGlzLnJvb3RUYXJnZXQsXG4gICAgICB0aGlzLnJvb3RUYXJnZXQuZXZlbnRNb2RlLFxuICAgICAgdGVtcEhpdExvY2F0aW9uLnNldCh4LCB5KSxcbiAgICAgIHRoaXMuaGl0VGVzdEZuLFxuICAgICAgdGhpcy5oaXRQcnVuZUZuXG4gICAgKTtcbiAgICByZXR1cm4gaW52ZXJ0ZWRQYXRoICYmIGludmVydGVkUGF0aFswXTtcbiAgfVxuICAvKipcbiAgICogUHJvcGFnYXRlIHRoZSBwYXNzZWQgZXZlbnQgZnJvbSBmcm9tIHtAbGluayBFdmVudEJvdW5kYXJ5LnJvb3RUYXJnZXQgdGhpcy5yb290VGFyZ2V0fSB0byBpdHNcbiAgICogdGFyZ2V0IHtAY29kZSBlLnRhcmdldH0uXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHRvIHByb3BhZ2F0ZS5cbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBwcm9wYWdhdGUuIERlZmF1bHRzIHRvIGBlLnR5cGVgLlxuICAgKi9cbiAgcHJvcGFnYXRlKGUsIHR5cGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgZS5ldmVudFBoYXNlID0gZS5DQVBUVVJJTkdfUEhBU0U7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBjb21wb3NlZFBhdGgubGVuZ3RoIC0gMTsgaSA8IGo7IGkrKykge1xuICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY29tcG9zZWRQYXRoW2ldO1xuICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgdHlwZSk7XG4gICAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQgfHwgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLmV2ZW50UGhhc2UgPSBlLkFUX1RBUkdFVDtcbiAgICBlLmN1cnJlbnRUYXJnZXQgPSBlLnRhcmdldDtcbiAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQgfHwgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZClcbiAgICAgIHJldHVybjtcbiAgICBlLmV2ZW50UGhhc2UgPSBlLkJVQkJMSU5HX1BIQVNFO1xuICAgIGZvciAobGV0IGkgPSBjb21wb3NlZFBhdGgubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGUuY3VycmVudFRhcmdldCA9IGNvbXBvc2VkUGF0aFtpXTtcbiAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIHR5cGUpO1xuICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVtaXRzIHRoZSBldmVudCB7QGNvZGUgZX0gdG8gYWxsIGludGVyYWN0aXZlIGNvbnRhaW5lcnMuIFRoZSBldmVudCBpcyBwcm9wYWdhdGVkIGluIHRoZSBidWJibGluZyBwaGFzZSBhbHdheXMuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZCBpbiB0aGUgYGdsb2JhbHBvaW50ZXJtb3ZlYCBldmVudC5cbiAgICogQHBhcmFtIGUgLSBUaGUgZW1pdHRlZCBldmVudC5cbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgbGlzdGVuZXJzIHRvIG5vdGlmeS5cbiAgICogQHBhcmFtIHRhcmdldHMgLSBUaGUgdGFyZ2V0cyB0byBub3RpZnkuXG4gICAqL1xuICBhbGwoZSwgdHlwZSwgdGFyZ2V0cyA9IHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMpIHtcbiAgICBpZiAodGFyZ2V0cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgZS5ldmVudFBoYXNlID0gZS5CVUJCTElOR19QSEFTRTtcbiAgICBjb25zdCBldmVudHMgPSBBcnJheS5pc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBmb3IgKGxldCBpID0gdGFyZ2V0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgIGUuY3VycmVudFRhcmdldCA9IHRhcmdldHNbaV07XG4gICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluZHMgdGhlIHByb3BhZ2F0aW9uIHBhdGggZnJvbSB7QGxpbmsgRXZlbnRCb3VuZGFyeS5yb290VGFyZ2V0IHJvb3RUYXJnZXR9IHRvIHRoZSBwYXNzZWRcbiAgICoge0Bjb2RlIHRhcmdldH0uIFRoZSBsYXN0IGVsZW1lbnQgaW4gdGhlIHBhdGggaXMge0Bjb2RlIHRhcmdldH0uXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IHRvIGZpbmQgdGhlIHByb3BhZ2F0aW9uIHBhdGggdG8uXG4gICAqL1xuICBwcm9wYWdhdGlvblBhdGgodGFyZ2V0KSB7XG4gICAgY29uc3QgcHJvcGFnYXRpb25QYXRoID0gW3RhcmdldF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUk9QQUdBVElPTl9MSU1JVCAmJiAodGFyZ2V0ICE9PSB0aGlzLnJvb3RUYXJnZXQgJiYgdGFyZ2V0LnBhcmVudCk7IGkrKykge1xuICAgICAgaWYgKCF0YXJnZXQucGFyZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHByb3BhZ2F0aW9uIHBhdGggdG8gZGlzY29ubmVjdGVkIHRhcmdldFwiKTtcbiAgICAgIH1cbiAgICAgIHByb3BhZ2F0aW9uUGF0aC5wdXNoKHRhcmdldC5wYXJlbnQpO1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudDtcbiAgICB9XG4gICAgcHJvcGFnYXRpb25QYXRoLnJldmVyc2UoKTtcbiAgICByZXR1cm4gcHJvcGFnYXRpb25QYXRoO1xuICB9XG4gIGhpdFRlc3RNb3ZlUmVjdXJzaXZlKGN1cnJlbnRUYXJnZXQsIGV2ZW50TW9kZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbiwgaWdub3JlID0gZmFsc2UpIHtcbiAgICBsZXQgc2hvdWxkUmV0dXJuID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX2ludGVyYWN0aXZlUHJ1bmUoY3VycmVudFRhcmdldCkpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoY3VycmVudFRhcmdldC5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiIHx8IGV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgIEV2ZW50c1RpY2tlci5wYXVzZVVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY3VycmVudFRhcmdldC5jaGlsZHJlbjtcbiAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRIaXQgPSB0aGlzLmhpdFRlc3RNb3ZlUmVjdXJzaXZlKFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKSA/IGV2ZW50TW9kZSA6IGNoaWxkLmV2ZW50TW9kZSxcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICB0ZXN0Rm4sXG4gICAgICAgICAgcHJ1bmVGbixcbiAgICAgICAgICBpZ25vcmUgfHwgcHJ1bmVGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG5lc3RlZEhpdCkge1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCAmJiAhbmVzdGVkSGl0W25lc3RlZEhpdC5sZW5ndGggLSAxXS5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gY3VycmVudFRhcmdldC5pc0ludGVyYWN0aXZlKCk7XG4gICAgICAgICAgaWYgKG5lc3RlZEhpdC5sZW5ndGggPiAwIHx8IGlzSW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmIChpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICBuZXN0ZWRIaXQucHVzaChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX2hpdEVsZW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2hpdEVsZW1lbnRzID0gbmVzdGVkSGl0O1xuICAgICAgICAgIHNob3VsZFJldHVybiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZU1vZGUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKGV2ZW50TW9kZSk7XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZVRhcmdldCA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgIGlmIChpc0ludGVyYWN0aXZlVGFyZ2V0ICYmIGlzSW50ZXJhY3RpdmVUYXJnZXQpXG4gICAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgaWYgKGlnbm9yZSB8fCB0aGlzLl9oaXRFbGVtZW50cy5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKHNob3VsZFJldHVybilcbiAgICAgIHJldHVybiB0aGlzLl9oaXRFbGVtZW50cztcbiAgICBpZiAoaXNJbnRlcmFjdGl2ZU1vZGUgJiYgKCFwcnVuZUZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSAmJiB0ZXN0Rm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pKSkge1xuICAgICAgcmV0dXJuIGlzSW50ZXJhY3RpdmVUYXJnZXQgPyBbY3VycmVudFRhcmdldF0gOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3Ige0BsaW5rIEV2ZW50Qm91bmRhcnkuaGl0VGVzdCBoaXRUZXN0fS5cbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBUaGUgQ29udGFpbmVyIHRoYXQgaXMgdG8gYmUgaGl0IHRlc3RlZC5cbiAgICogQHBhcmFtIGV2ZW50TW9kZSAtIFRoZSBldmVudCBtb2RlIGZvciB0aGUgYGN1cnJlbnRUYXJnZXRgIG9yIG9uZSBvZiBpdHMgcGFyZW50cy5cbiAgICogQHBhcmFtIGxvY2F0aW9uIC0gVGhlIGxvY2F0aW9uIHRoYXQgaXMgYmVpbmcgdGVzdGVkIGZvciBvdmVybGFwLlxuICAgKiBAcGFyYW0gdGVzdEZuIC0gQ2FsbGJhY2sgdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHRhcmdldCBwYXNzZXMgaGl0IHRlc3RpbmcuIFRoaXMgY2FsbGJhY2tcbiAgICogIGNhbiBhc3N1bWUgdGhhdCBgcHJ1bmVGbmAgZmFpbGVkIHRvIHBydW5lIHRoZSBjb250YWluZXIuXG4gICAqIEBwYXJhbSBwcnVuZUZuIC0gQ2FsbGJhY2sgdGhhdCBkZXRlcm1pbmVzcyB3aGV0aGVyIHRoZSB0YXJnZXQgYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW5cbiAgICogIGNhbm5vdCBwYXNzIHRoZSBoaXQgdGVzdC4gSXQgaXMgdXNlZCBhcyBhIHByZWxpbWluYXJ5IG9wdGltaXphdGlvbiB0byBwcnVuZSBlbnRpcmUgc3VidHJlZXNcbiAgICogIG9mIHRoZSBzY2VuZSBncmFwaC5cbiAgICogQHJldHVybnMgQW4gYXJyYXkgaG9sZGluZyB0aGUgaGl0IHRlc3RpbmcgdGFyZ2V0IGFuZCBhbGwgaXRzIGFuY2VzdG9ycyBpbiBvcmRlci4gVGhlIGZpcnN0IGVsZW1lbnRcbiAgICogIGlzIHRoZSB0YXJnZXQgaXRzZWxmIGFuZCB0aGUgbGFzdCBpcyB7QGxpbmsgRXZlbnRCb3VuZGFyeS5yb290VGFyZ2V0IHJvb3RUYXJnZXR9LiBUaGlzIGlzIHRoZSBvcHBvc2l0ZVxuICAgKiAgb3JkZXIgdy5yLnQuIHRoZSBwcm9wYWdhdGlvbiBwYXRoLiBJZiBubyBoaXQgdGVzdGluZyB0YXJnZXQgaXMgZm91bmQsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBoaXRUZXN0UmVjdXJzaXZlKGN1cnJlbnRUYXJnZXQsIGV2ZW50TW9kZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbikge1xuICAgIGlmICh0aGlzLl9pbnRlcmFjdGl2ZVBydW5lKGN1cnJlbnRUYXJnZXQpIHx8IHBydW5lRm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQuZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIiB8fCBldmVudE1vZGUgPT09IFwiZHluYW1pY1wiKSB7XG4gICAgICBFdmVudHNUaWNrZXIucGF1c2VVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBjdXJyZW50VGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGN1cnJlbnRUYXJnZXQuY2hpbGRyZW47XG4gICAgICBjb25zdCByZWxhdGl2ZUxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICBmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgY29uc3QgbmVzdGVkSGl0ID0gdGhpcy5oaXRUZXN0UmVjdXJzaXZlKFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKSA/IGV2ZW50TW9kZSA6IGNoaWxkLmV2ZW50TW9kZSxcbiAgICAgICAgICByZWxhdGl2ZUxvY2F0aW9uLFxuICAgICAgICAgIHRlc3RGbixcbiAgICAgICAgICBwcnVuZUZuXG4gICAgICAgICk7XG4gICAgICAgIGlmIChuZXN0ZWRIaXQpIHtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgJiYgIW5lc3RlZEhpdFtuZXN0ZWRIaXQubGVuZ3RoIC0gMV0ucGFyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCB8fCBpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgbmVzdGVkSGl0LnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgcmV0dXJuIG5lc3RlZEhpdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc0ludGVyYWN0aXZlTW9kZSA9IHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlVGFyZ2V0ID0gY3VycmVudFRhcmdldC5pc0ludGVyYWN0aXZlKCk7XG4gICAgaWYgKGlzSW50ZXJhY3RpdmVNb2RlICYmIHRlc3RGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikpIHtcbiAgICAgIHJldHVybiBpc0ludGVyYWN0aXZlVGFyZ2V0ID8gW2N1cnJlbnRUYXJnZXRdIDogW107XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIF9pc0ludGVyYWN0aXZlKGludCkge1xuICAgIHJldHVybiBpbnQgPT09IFwic3RhdGljXCIgfHwgaW50ID09PSBcImR5bmFtaWNcIjtcbiAgfVxuICBfaW50ZXJhY3RpdmVQcnVuZShjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLnZpc2libGUgfHwgIWNvbnRhaW5lci5yZW5kZXJhYmxlIHx8ICFjb250YWluZXIuaW5jbHVkZUluQnVpbGQgfHwgIWNvbnRhaW5lci5tZWFzdXJhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ldmVudE1vZGUgPT09IFwibm9uZVwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ldmVudE1vZGUgPT09IFwicGFzc2l2ZVwiICYmICFjb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNvbnRhaW5lciBvciBhbnkgb2YgaXRzIGNoaWxkcmVuIGNhbm5vdCBwYXNzIHRoZSBoaXQgdGVzdCBhdCBhbGwuXG4gICAqXG4gICAqIHtAbGluayBFdmVudEJvdW5kYXJ5fSdzIGltcGxlbWVudGF0aW9uIHVzZXMgdGhlIHtAbGluayBDb250YWluZXIuaGl0QXJlYSBoaXRBcmVhfVxuICAgKiBhbmQge0BsaW5rIENvbnRhaW5lci5fbWFza0VmZmVjdH0gZm9yIHBydW5pbmcuXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHBydW5lLlxuICAgKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgbG9jYXRpb24gdG8gdGVzdCBmb3Igb3ZlcmxhcC5cbiAgICovXG4gIGhpdFBydW5lRm4oY29udGFpbmVyLCBsb2NhdGlvbikge1xuICAgIGlmIChjb250YWluZXIuaGl0QXJlYSkge1xuICAgICAgY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShsb2NhdGlvbiwgdGVtcExvY2FsTWFwcGluZyk7XG4gICAgICBpZiAoIWNvbnRhaW5lci5oaXRBcmVhLmNvbnRhaW5zKHRlbXBMb2NhbE1hcHBpbmcueCwgdGVtcExvY2FsTWFwcGluZy55KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5lZmZlY3RzICYmIGNvbnRhaW5lci5lZmZlY3RzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXIuZWZmZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlZmZlY3QgPSBjb250YWluZXIuZWZmZWN0c1tpXTtcbiAgICAgICAgaWYgKGVmZmVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgY29uc3QgZWZmZWN0Q29udGFpbnNQb2ludCA9IGVmZmVjdC5jb250YWluc1BvaW50KGxvY2F0aW9uLCB0aGlzLmhpdFRlc3RGbik7XG4gICAgICAgICAgaWYgKCFlZmZlY3RDb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY29udGFpbmVyIHBhc3NlcyBoaXQgdGVzdGluZyBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uLlxuICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byB0ZXN0LlxuICAgKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgbG9jYXRpb24gdG8gdGVzdCBmb3Igb3ZlcmxhcC5cbiAgICogQHJldHVybnMgLSBXaGV0aGVyIGBjb250YWluZXJgIHBhc3NlcyBoaXQgdGVzdGluZyBmb3IgYGxvY2F0aW9uYC5cbiAgICovXG4gIGhpdFRlc3RGbihjb250YWluZXIsIGxvY2F0aW9uKSB7XG4gICAgaWYgKGNvbnRhaW5lci5oaXRBcmVhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lcj8uY29udGFpbnNQb2ludCkge1xuICAgICAgY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShsb2NhdGlvbiwgdGVtcExvY2FsTWFwcGluZyk7XG4gICAgICByZXR1cm4gY29udGFpbmVyLmNvbnRhaW5zUG9pbnQodGVtcExvY2FsTWFwcGluZyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogTm90aWZ5IGFsbCB0aGUgbGlzdGVuZXJzIHRvIHRoZSBldmVudCdzIGBjdXJyZW50VGFyZ2V0YC5cbiAgICpcbiAgICogSWYgdGhlIGBjdXJyZW50VGFyZ2V0YCBjb250YWlucyB0aGUgcHJvcGVydHkgYG9uPHR5cGU+YCwgdGhlbiBpdCBpcyBjYWxsZWQgaGVyZSxcbiAgICogc2ltdWxhdGluZyB0aGUgYmVoYXZpb3IgZnJvbSB2ZXJzaW9uIDYueCBhbmQgcHJpb3IuXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHBhc3NlZCB0byB0aGUgdGFyZ2V0LlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRvIG5vdGlmeS4gRGVmYXVsdHMgdG8gYGUudHlwZWAuXG4gICAqL1xuICBub3RpZnlUYXJnZXQoZSwgdHlwZSkge1xuICAgIGlmICghZS5jdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0eXBlID0gdHlwZSA/PyBlLnR5cGU7XG4gICAgY29uc3QgaGFuZGxlcktleSA9IGBvbiR7dHlwZX1gO1xuICAgIGUuY3VycmVudFRhcmdldFtoYW5kbGVyS2V5XT8uKGUpO1xuICAgIGNvbnN0IGtleSA9IGUuZXZlbnRQaGFzZSA9PT0gZS5DQVBUVVJJTkdfUEhBU0UgfHwgZS5ldmVudFBoYXNlID09PSBlLkFUX1RBUkdFVCA/IGAke3R5cGV9Y2FwdHVyZWAgOiB0eXBlO1xuICAgIHRoaXMuX25vdGlmeUxpc3RlbmVycyhlLCBrZXkpO1xuICAgIGlmIChlLmV2ZW50UGhhc2UgPT09IGUuQVRfVEFSR0VUKSB7XG4gICAgICB0aGlzLl9ub3RpZnlMaXN0ZW5lcnMoZSwgdHlwZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcmRvd25gIGV2ZW50cyB0byBhIGRvd25zdHJlYW0gYHBvaW50ZXJkb3duYCBldmVudC5cbiAgICpcbiAgICogYHRvdWNoc3RhcnRgLCBgcmlnaHRkb3duYCwgYG1vdXNlZG93bmAgZXZlbnRzIGFyZSBhbHNvIGRpc3BhdGNoZWQgZm9yIHNwZWNpZmljIHBvaW50ZXIgdHlwZXMuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVyZG93bmAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyRG93bihmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVyZG93blwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJ0b3VjaHN0YXJ0XCIpO1xuICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBlLmJ1dHRvbiA9PT0gMjtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBpc1JpZ2h0QnV0dG9uID8gXCJyaWdodGRvd25cIiA6IFwibW91c2Vkb3duXCIpO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgdHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXSA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVybW92ZWAgdG8gZG93bnN0cmVhbSBgcG9pbnRlcm91dGAsIGBwb2ludGVyb3ZlcmAsIGFuZCBgcG9pbnRlcm1vdmVgIGV2ZW50cywgaW4gdGhhdCBvcmRlci5cbiAgICpcbiAgICogVGhlIHRyYWNraW5nIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBwb2ludGVyIGhhcyBhbiB1cGRhdGVkIGBvdmVyVGFyZ2V0YC4gYG1vdXNlb3V0YCwgYG1vdXNlb3ZlcmAsXG4gICAqIGBtb3VzZW1vdmVgLCBhbmQgYHRvdWNobW92ZWAgZXZlbnRzIGFyZSBmaXJlZCBhcyB3ZWxsIGZvciBzcGVjaWZpYyBwb2ludGVyIHR5cGVzLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcm1vdmVgIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlck1vdmUoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9pc1BvaW50ZXJNb3ZlRXZlbnQgPSB0cnVlO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICB0aGlzLl9pc1BvaW50ZXJNb3ZlRXZlbnQgPSBmYWxzZTtcbiAgICBjb25zdCBpc01vdXNlID0gZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCI7XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IG91dFRhcmdldCA9IHRoaXMuZmluZE1vdW50ZWRUYXJnZXQodHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzKTtcbiAgICBpZiAodHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzPy5sZW5ndGggPiAwICYmIG91dFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgIGNvbnN0IG91dFR5cGUgPSBmcm9tLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgPyBcIm1vdXNlb3V0XCIgOiBcInBvaW50ZXJvdXRcIjtcbiAgICAgIGNvbnN0IG91dEV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgb3V0VHlwZSwgb3V0VGFyZ2V0KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCwgXCJwb2ludGVyb3V0XCIpO1xuICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCwgXCJtb3VzZW91dFwiKTtcbiAgICAgIGlmICghZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhvdXRUYXJnZXQpKSB7XG4gICAgICAgIGNvbnN0IGxlYXZlRXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBcInBvaW50ZXJsZWF2ZVwiLCBvdXRUYXJnZXQpO1xuICAgICAgICBsZWF2ZUV2ZW50LmV2ZW50UGhhc2UgPSBsZWF2ZUV2ZW50LkFUX1RBUkdFVDtcbiAgICAgICAgd2hpbGUgKGxlYXZlRXZlbnQudGFyZ2V0ICYmICFlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGxlYXZlRXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgIGxlYXZlRXZlbnQuY3VycmVudFRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0O1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQpO1xuICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCwgXCJtb3VzZWxlYXZlXCIpO1xuICAgICAgICAgIGxlYXZlRXZlbnQudGFyZ2V0ID0gbGVhdmVFdmVudC50YXJnZXQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJlZUV2ZW50KGxlYXZlRXZlbnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5mcmVlRXZlbnQob3V0RXZlbnQpO1xuICAgIH1cbiAgICBpZiAob3V0VGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgY29uc3Qgb3ZlclR5cGUgPSBmcm9tLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgPyBcIm1vdXNlb3ZlclwiIDogXCJwb2ludGVyb3ZlclwiO1xuICAgICAgY29uc3Qgb3ZlckV2ZW50ID0gdGhpcy5jbG9uZVBvaW50ZXJFdmVudChlLCBvdmVyVHlwZSk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3ZlckV2ZW50LCBcInBvaW50ZXJvdmVyXCIpO1xuICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdmVyRXZlbnQsIFwibW91c2VvdmVyXCIpO1xuICAgICAgbGV0IG92ZXJUYXJnZXRBbmNlc3RvciA9IG91dFRhcmdldD8ucGFyZW50O1xuICAgICAgd2hpbGUgKG92ZXJUYXJnZXRBbmNlc3RvciAmJiBvdmVyVGFyZ2V0QW5jZXN0b3IgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgaWYgKG92ZXJUYXJnZXRBbmNlc3RvciA9PT0gZS50YXJnZXQpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIG92ZXJUYXJnZXRBbmNlc3RvciA9IG92ZXJUYXJnZXRBbmNlc3Rvci5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBjb25zdCBkaWRQb2ludGVyRW50ZXIgPSAhb3ZlclRhcmdldEFuY2VzdG9yIHx8IG92ZXJUYXJnZXRBbmNlc3RvciA9PT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudDtcbiAgICAgIGlmIChkaWRQb2ludGVyRW50ZXIpIHtcbiAgICAgICAgY29uc3QgZW50ZXJFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgXCJwb2ludGVyZW50ZXJcIik7XG4gICAgICAgIGVudGVyRXZlbnQuZXZlbnRQaGFzZSA9IGVudGVyRXZlbnQuQVRfVEFSR0VUO1xuICAgICAgICB3aGlsZSAoZW50ZXJFdmVudC50YXJnZXQgJiYgZW50ZXJFdmVudC50YXJnZXQgIT09IG91dFRhcmdldCAmJiBlbnRlckV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgICAgIGVudGVyRXZlbnQuY3VycmVudFRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0O1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQpO1xuICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZW50ZXJFdmVudCwgXCJtb3VzZWVudGVyXCIpO1xuICAgICAgICAgIGVudGVyRXZlbnQudGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJlZUV2ZW50KGVudGVyRXZlbnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5mcmVlRXZlbnQob3ZlckV2ZW50KTtcbiAgICB9XG4gICAgY29uc3QgYWxsTWV0aG9kcyA9IFtdO1xuICAgIGNvbnN0IGFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyA9IHRoaXMuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cyA/PyB0cnVlO1xuICAgIHRoaXMubW92ZU9uQWxsID8gYWxsTWV0aG9kcy5wdXNoKFwicG9pbnRlcm1vdmVcIikgOiB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVybW92ZVwiKTtcbiAgICBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgJiYgYWxsTWV0aG9kcy5wdXNoKFwiZ2xvYmFscG9pbnRlcm1vdmVcIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5tb3ZlT25BbGwgPyBhbGxNZXRob2RzLnNwbGljZSgxLCAwLCBcInRvdWNobW92ZVwiKSA6IHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInRvdWNobW92ZVwiKTtcbiAgICAgIGFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyAmJiBhbGxNZXRob2RzLnB1c2goXCJnbG9iYWx0b3VjaG1vdmVcIik7XG4gICAgfVxuICAgIGlmIChpc01vdXNlKSB7XG4gICAgICB0aGlzLm1vdmVPbkFsbCA/IGFsbE1ldGhvZHMuc3BsaWNlKDEsIDAsIFwibW91c2Vtb3ZlXCIpIDogdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwibW91c2Vtb3ZlXCIpO1xuICAgICAgYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzICYmIGFsbE1ldGhvZHMucHVzaChcImdsb2JhbG1vdXNlbW92ZVwiKTtcbiAgICAgIHRoaXMuY3Vyc29yID0gZS50YXJnZXQ/LmN1cnNvcjtcbiAgICB9XG4gICAgaWYgKGFsbE1ldGhvZHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5hbGwoZSwgYWxsTWV0aG9kcyk7XG4gICAgfVxuICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9oaXRFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVyb3ZlcmAgdG8gZG93bnN0cmVhbSBgcG9pbnRlcm92ZXJgIGFuZCBgcG9pbnRlcmVudGVyYCBldmVudHMsIGluIHRoYXQgb3JkZXIuXG4gICAqXG4gICAqIFRoZSB0cmFja2luZyBkYXRhIGZvciB0aGUgc3BlY2lmaWMgcG9pbnRlciBnZXRzIGEgbmV3IGBvdmVyVGFyZ2V0YC5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJvdmVyYCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJPdmVyKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICBjb25zdCBpc01vdXNlID0gZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCI7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcm92ZXJcIik7XG4gICAgaWYgKGlzTW91c2UpXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJtb3VzZW92ZXJcIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIilcbiAgICAgIHRoaXMuY3Vyc29yID0gZS50YXJnZXQ/LmN1cnNvcjtcbiAgICBjb25zdCBlbnRlckV2ZW50ID0gdGhpcy5jbG9uZVBvaW50ZXJFdmVudChlLCBcInBvaW50ZXJlbnRlclwiKTtcbiAgICBlbnRlckV2ZW50LmV2ZW50UGhhc2UgPSBlbnRlckV2ZW50LkFUX1RBUkdFVDtcbiAgICB3aGlsZSAoZW50ZXJFdmVudC50YXJnZXQgJiYgZW50ZXJFdmVudC50YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgIGVudGVyRXZlbnQuY3VycmVudFRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0O1xuICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZW50ZXJFdmVudCk7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZW50ZXJFdmVudCwgXCJtb3VzZWVudGVyXCIpO1xuICAgICAgZW50ZXJFdmVudC50YXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgfVxuICAgIHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gICAgdGhpcy5mcmVlRXZlbnQoZW50ZXJFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVyb3V0YCB0byBkb3duc3RyZWFtIGBwb2ludGVyb3V0YCwgYHBvaW50ZXJsZWF2ZWAgZXZlbnRzLCBpbiB0aGF0IG9yZGVyLlxuICAgKlxuICAgKiBUaGUgdHJhY2tpbmcgZGF0YSBmb3IgdGhlIHNwZWNpZmljIHBvaW50ZXIgaXMgY2xlYXJlZCBvZiBhIGBvdmVyVGFyZ2V0YC5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJvdXRgIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlck91dChmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBpZiAodHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzKSB7XG4gICAgICBjb25zdCBpc01vdXNlID0gZnJvbS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGZyb20ucG9pbnRlclR5cGUgPT09IFwicGVuXCI7XG4gICAgICBjb25zdCBvdXRUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyk7XG4gICAgICBjb25zdCBvdXRFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIFwicG9pbnRlcm91dFwiLCBvdXRUYXJnZXQpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50KTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwibW91c2VvdXRcIik7XG4gICAgICBjb25zdCBsZWF2ZUV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgXCJwb2ludGVybGVhdmVcIiwgb3V0VGFyZ2V0KTtcbiAgICAgIGxlYXZlRXZlbnQuZXZlbnRQaGFzZSA9IGxlYXZlRXZlbnQuQVRfVEFSR0VUO1xuICAgICAgd2hpbGUgKGxlYXZlRXZlbnQudGFyZ2V0ICYmIGxlYXZlRXZlbnQudGFyZ2V0ICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICAgIGxlYXZlRXZlbnQuY3VycmVudFRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0O1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50KTtcbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCwgXCJtb3VzZWxlYXZlXCIpO1xuICAgICAgICBsZWF2ZUV2ZW50LnRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyA9IG51bGw7XG4gICAgICB0aGlzLmZyZWVFdmVudChvdXRFdmVudCk7XG4gICAgICB0aGlzLmZyZWVFdmVudChsZWF2ZUV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcnVwYCBldmVudCB0byBkb3duc3RyZWFtIGBwb2ludGVydXBgLCBgcG9pbnRlcnVwb3V0c2lkZWAsXG4gICAqIGFuZCBgY2xpY2tgL2ByaWdodGNsaWNrYC9gcG9pbnRlcnRhcGAgZXZlbnRzLCBpbiB0aGF0IG9yZGVyLlxuICAgKlxuICAgKiBUaGUgYHBvaW50ZXJ1cG91dHNpZGVgIGV2ZW50IGJ1YmJsZXMgZnJvbSB0aGUgb3JpZ2luYWwgYHBvaW50ZXJkb3duYCB0YXJnZXQgdG8gdGhlIG1vc3Qgc3BlY2lmaWNcbiAgICogYW5jZXN0b3Igb2YgdGhlIGBwb2ludGVyZG93bmAgYW5kIGBwb2ludGVydXBgIHRhcmdldHMsIHdoaWNoIGlzIGFsc28gdGhlIGBjbGlja2AgZXZlbnQncyB0YXJnZXQuIGB0b3VjaGVuZGAsXG4gICAqIGByaWdodHVwYCwgYG1vdXNldXBgLCBgdG91Y2hlbmRvdXRzaWRlYCwgYHJpZ2h0dXBvdXRzaWRlYCwgYG1vdXNldXBvdXRzaWRlYCwgYW5kIGB0YXBgIGFyZSBmaXJlZCBhcyB3ZWxsIGZvclxuICAgKiBzcGVjaWZpYyBwb2ludGVyIHR5cGVzLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcnVwYCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJVcChmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVydXBcIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2hlbmRcIik7XG4gICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiA6IFwibW91c2V1cFwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IHByZXNzVGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dKTtcbiAgICBsZXQgY2xpY2tUYXJnZXQgPSBwcmVzc1RhcmdldDtcbiAgICBpZiAocHJlc3NUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMocHJlc3NUYXJnZXQpKSB7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJwb2ludGVydXBvdXRzaWRlXCIpO1xuICAgICAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJ0b3VjaGVuZG91dHNpZGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cG91dHNpZGVcIiA6IFwibW91c2V1cG91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgICBjbGlja1RhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgfVxuICAgIGlmIChjbGlja1RhcmdldCkge1xuICAgICAgY29uc3QgY2xpY2tFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgXCJjbGlja1wiKTtcbiAgICAgIGNsaWNrRXZlbnQudGFyZ2V0ID0gY2xpY2tUYXJnZXQ7XG4gICAgICBjbGlja0V2ZW50LnBhdGggPSBudWxsO1xuICAgICAgaWYgKCF0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dKSB7XG4gICAgICAgIHRyYWNraW5nRGF0YS5jbGlja3NCeUJ1dHRvbltmcm9tLmJ1dHRvbl0gPSB7XG4gICAgICAgICAgY2xpY2tDb3VudDogMCxcbiAgICAgICAgICB0YXJnZXQ6IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICAgIHRpbWVTdGFtcDogbm93XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjbGlja0hpc3RvcnkgPSB0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dO1xuICAgICAgaWYgKGNsaWNrSGlzdG9yeS50YXJnZXQgPT09IGNsaWNrRXZlbnQudGFyZ2V0ICYmIG5vdyAtIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPCAyMDApIHtcbiAgICAgICAgKytjbGlja0hpc3RvcnkuY2xpY2tDb3VudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWNrSGlzdG9yeS5jbGlja0NvdW50ID0gMTtcbiAgICAgIH1cbiAgICAgIGNsaWNrSGlzdG9yeS50YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPSBub3c7XG4gICAgICBjbGlja0V2ZW50LmRldGFpbCA9IGNsaWNrSGlzdG9yeS5jbGlja0NvdW50O1xuICAgICAgaWYgKGNsaWNrRXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gY2xpY2tFdmVudC5idXR0b24gPT09IDI7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBpc1JpZ2h0QnV0dG9uID8gXCJyaWdodGNsaWNrXCIgOiBcImNsaWNrXCIpO1xuICAgICAgfSBlbHNlIGlmIChjbGlja0V2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQsIFwidGFwXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQsIFwicG9pbnRlcnRhcFwiKTtcbiAgICAgIHRoaXMuZnJlZUV2ZW50KGNsaWNrRXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJ1cG91dHNpZGVgIGV2ZW50IHRvIGEgZG93bnN0cmVhbSBgcG9pbnRlcnVwb3V0c2lkZWAgZXZlbnQsIGJ1YmJsaW5nIGZyb20gdGhlIG9yaWdpbmFsXG4gICAqIGBwb2ludGVyZG93bmAgdGFyZ2V0IHRvIGByb290VGFyZ2V0YC5cbiAgICpcbiAgICogKFRoZSBtb3N0IHNwZWNpZmljIGFuY2VzdG9yIG9mIHRoZSBgcG9pbnRlcmRvd25gIGV2ZW50IGFuZCB0aGUgYHBvaW50ZXJ1cGAgZXZlbnQgbXVzdCB0aGVcbiAgICogYHtAbGluayBFdmVudEJvdW5kYXJ5fSdzIHJvb3QgYmVjYXVzZSB0aGUgYHBvaW50ZXJ1cGAgZXZlbnQgb2NjdXJyZWQgb3V0c2lkZSBvZiB0aGUgYm91bmRhcnkuKVxuICAgKlxuICAgKiBgdG91Y2hlbmRvdXRzaWRlYCwgYG1vdXNldXBvdXRzaWRlYCwgYW5kIGByaWdodHVwb3V0c2lkZWAgZXZlbnRzIGFyZSBmaXJlZCBhcyB3ZWxsIGZvciBzcGVjaWZpYyBwb2ludGVyXG4gICAqIHR5cGVzLiBUaGUgdHJhY2tpbmcgZGF0YSBmb3IgdGhlIHNwZWNpZmljIHBvaW50ZXIgaXMgY2xlYXJlZCBvZiBhIGBwcmVzc1RhcmdldGAuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVydXBvdXRzaWRlYCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJVcE91dHNpZGUoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgcHJlc3NUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl0pO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICBpZiAocHJlc3NUYXJnZXQpIHtcbiAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gcHJlc3NUYXJnZXQ7XG4gICAgICB3aGlsZSAoY3VycmVudFRhcmdldCkge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInBvaW50ZXJ1cG91dHNpZGVcIik7XG4gICAgICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInRvdWNoZW5kb3V0c2lkZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIGUuYnV0dG9uID09PSAyID8gXCJyaWdodHVwb3V0c2lkZVwiIDogXCJtb3VzZXVwb3V0c2lkZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBkZWxldGUgdHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXTtcbiAgICB9XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGB3aGVlbGAgZXZlbnQgdG8gYSBkb3duc3RyZWFtIGB3aGVlbGAgZXZlbnQuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGB3aGVlbGAgZXZlbnQuXG4gICAqL1xuICBtYXBXaGVlbChmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFdoZWVsRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXdoZWVsIGV2ZW50IGFzIGEgd2hlZWwgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdoZWVsRXZlbnQgPSB0aGlzLmNyZWF0ZVdoZWVsRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KHdoZWVsRXZlbnQpO1xuICAgIHRoaXMuZnJlZUV2ZW50KHdoZWVsRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgbW9zdCBzcGVjaWZpYyBldmVudC10YXJnZXQgaW4gdGhlIGdpdmVuIHByb3BhZ2F0aW9uIHBhdGggdGhhdCBpcyBzdGlsbCBtb3VudGVkIGluIHRoZSBzY2VuZSBncmFwaC5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VkIHRvIGZpbmQgdGhlIGNvcnJlY3QgYHBvaW50ZXJ1cGAgYW5kIGBwb2ludGVyb3V0YCB0YXJnZXQgaW4gdGhlIGNhc2UgdGhhdCB0aGUgb3JpZ2luYWwgYHBvaW50ZXJkb3duYFxuICAgKiBvciBgcG9pbnRlcm92ZXJgIHRhcmdldCB3YXMgdW5tb3VudGVkIGZyb20gdGhlIHNjZW5lIGdyYXBoLlxuICAgKiBAcGFyYW0gcHJvcGFnYXRpb25QYXRoIC0gVGhlIHByb3BhZ2F0aW9uIHBhdGggd2FzIHZhbGlkIGluIHRoZSBwYXN0LlxuICAgKiBAcmV0dXJucyAtIFRoZSBtb3N0IHNwZWNpZmljIGV2ZW50LXRhcmdldCBzdGlsbCBtb3VudGVkIGF0IHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBzY2VuZSBncmFwaC5cbiAgICovXG4gIGZpbmRNb3VudGVkVGFyZ2V0KHByb3BhZ2F0aW9uUGF0aCkge1xuICAgIGlmICghcHJvcGFnYXRpb25QYXRoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRUYXJnZXQgPSBwcm9wYWdhdGlvblBhdGhbMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9wYWdhdGlvblBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9wYWdhdGlvblBhdGhbaV0ucGFyZW50ID09PSBjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXQgPSBwcm9wYWdhdGlvblBhdGhbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRUYXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZXZlbnQgd2hvc2Uge0Bjb2RlIG9yaWdpbmFsRXZlbnR9IGlzIHtAY29kZSBmcm9tfSwgd2l0aCBhbiBvcHRpb25hbCBgdHlwZWAgYW5kIGB0YXJnZXRgIG92ZXJyaWRlLlxuICAgKlxuICAgKiBUaGUgZXZlbnQgaXMgYWxsb2NhdGVkIHVzaW5nIHtAbGluayBFdmVudEJvdW5kYXJ5I2FsbG9jYXRlRXZlbnQgdGhpcy5hbGxvY2F0ZUV2ZW50fS5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUge0Bjb2RlIG9yaWdpbmFsRXZlbnR9IGZvciB0aGUgcmV0dXJuZWQgZXZlbnQuXG4gICAqIEBwYXJhbSBbdHlwZT1mcm9tLnR5cGVdIC0gVGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGV2ZW50LlxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgcmV0dXJuZWQgZXZlbnQuXG4gICAqL1xuICBjcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgdHlwZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmFsbG9jYXRlRXZlbnQoRmVkZXJhdGVkUG9pbnRlckV2ZW50KTtcbiAgICB0aGlzLmNvcHlQb2ludGVyRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5TW91c2VEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlEYXRhKGZyb20sIGV2ZW50KTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IGZyb20ubmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQub3JpZ2luYWxFdmVudCA9IGZyb207XG4gICAgZXZlbnQudGFyZ2V0ID0gdGFyZ2V0ID8/IHRoaXMuaGl0VGVzdChldmVudC5nbG9iYWwueCwgZXZlbnQuZ2xvYmFsLnkpID8/IHRoaXMuX2hpdEVsZW1lbnRzWzBdO1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZXZlbnQudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHdoZWVsIGV2ZW50IHdob3NlIHtAY29kZSBvcmlnaW5hbEV2ZW50fSBpcyB7QGNvZGUgZnJvbX0uXG4gICAqXG4gICAqIFRoZSBldmVudCBpcyBhbGxvY2F0ZWQgdXNpbmcge0BsaW5rIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudCB0aGlzLmFsbG9jYXRlRXZlbnR9LlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSB3aGVlbCBldmVudC5cbiAgICovXG4gIGNyZWF0ZVdoZWVsRXZlbnQoZnJvbSkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFdoZWVsRXZlbnQpO1xuICAgIHRoaXMuY29weVdoZWVsRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5TW91c2VEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlEYXRhKGZyb20sIGV2ZW50KTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IGZyb20ubmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQub3JpZ2luYWxFdmVudCA9IGZyb207XG4gICAgZXZlbnQudGFyZ2V0ID0gdGhpcy5oaXRUZXN0KGV2ZW50Lmdsb2JhbC54LCBldmVudC5nbG9iYWwueSk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIGV2ZW50IHtAY29kZSBmcm9tfSwgd2l0aCBhbiBvcHRpb25hbCB7QGNvZGUgdHlwZX0gb3ZlcnJpZGUuXG4gICAqXG4gICAqIFRoZSBldmVudCBpcyBhbGxvY2F0ZWQgdXNpbmcge0BsaW5rIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudCB0aGlzLmFsbG9jYXRlRXZlbnR9LlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBldmVudCB0byBjbG9uZS5cbiAgICogQHBhcmFtIFt0eXBlPWZyb20udHlwZV0gLSBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuZWQgZXZlbnQuXG4gICAqL1xuICBjbG9uZVBvaW50ZXJFdmVudChmcm9tLCB0eXBlKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmFsbG9jYXRlRXZlbnQoRmVkZXJhdGVkUG9pbnRlckV2ZW50KTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IGZyb20ubmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQub3JpZ2luYWxFdmVudCA9IGZyb20ub3JpZ2luYWxFdmVudDtcbiAgICB0aGlzLmNvcHlQb2ludGVyRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5TW91c2VEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlEYXRhKGZyb20sIGV2ZW50KTtcbiAgICBldmVudC50YXJnZXQgPSBmcm9tLnRhcmdldDtcbiAgICBldmVudC5wYXRoID0gZnJvbS5jb21wb3NlZFBhdGgoKS5zbGljZSgpO1xuICAgIGV2ZW50LnR5cGUgPSB0eXBlID8/IGV2ZW50LnR5cGU7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgd2hlZWwge0BsaW5rIEZlZGVyYXRlZFdoZWVsRXZlbnR9IGRhdGEgZnJvbSB7QGNvZGUgZnJvbX0gaW50byB7QGNvZGUgdG99LlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIGNvcGllZDpcbiAgICogKyBkZWx0YU1vZGVcbiAgICogKyBkZWx0YVhcbiAgICogKyBkZWx0YVlcbiAgICogKyBkZWx0YVpcbiAgICogQHBhcmFtIGZyb20gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGZyb20uXG4gICAqIEBwYXJhbSB0byAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgaW50by5cbiAgICovXG4gIGNvcHlXaGVlbERhdGEoZnJvbSwgdG8pIHtcbiAgICB0by5kZWx0YU1vZGUgPSBmcm9tLmRlbHRhTW9kZTtcbiAgICB0by5kZWx0YVggPSBmcm9tLmRlbHRhWDtcbiAgICB0by5kZWx0YVkgPSBmcm9tLmRlbHRhWTtcbiAgICB0by5kZWx0YVogPSBmcm9tLmRlbHRhWjtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIHBvaW50ZXIge0BsaW5rIEZlZGVyYXRlZFBvaW50ZXJFdmVudH0gZGF0YSBmcm9tIHtAY29kZSBmcm9tfSBpbnRvIHtAY29kZSB0b30uXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgY29waWVkOlxuICAgKiArIHBvaW50ZXJJZFxuICAgKiArIHdpZHRoXG4gICAqICsgaGVpZ2h0XG4gICAqICsgaXNQcmltYXJ5XG4gICAqICsgcG9pbnRlclR5cGVcbiAgICogKyBwcmVzc3VyZVxuICAgKiArIHRhbmdlbnRpYWxQcmVzc3VyZVxuICAgKiArIHRpbHRYXG4gICAqICsgdGlsdFlcbiAgICogQHBhcmFtIGZyb20gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGZyb20uXG4gICAqIEBwYXJhbSB0byAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgaW50by5cbiAgICovXG4gIGNvcHlQb2ludGVyRGF0YShmcm9tLCB0bykge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgJiYgdG8gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIHRvLnBvaW50ZXJJZCA9IGZyb20ucG9pbnRlcklkO1xuICAgIHRvLndpZHRoID0gZnJvbS53aWR0aDtcbiAgICB0by5oZWlnaHQgPSBmcm9tLmhlaWdodDtcbiAgICB0by5pc1ByaW1hcnkgPSBmcm9tLmlzUHJpbWFyeTtcbiAgICB0by5wb2ludGVyVHlwZSA9IGZyb20ucG9pbnRlclR5cGU7XG4gICAgdG8ucHJlc3N1cmUgPSBmcm9tLnByZXNzdXJlO1xuICAgIHRvLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGZyb20udGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIHRvLnRpbHRYID0gZnJvbS50aWx0WDtcbiAgICB0by50aWx0WSA9IGZyb20udGlsdFk7XG4gICAgdG8udHdpc3QgPSBmcm9tLnR3aXN0O1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgbW91c2Uge0BsaW5rIEZlZGVyYXRlZE1vdXNlRXZlbnR9IGRhdGEgZnJvbSB7QGNvZGUgZnJvbX0gdG8ge0Bjb2RlIHRvfS5cbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQ6XG4gICAqICsgYWx0S2V5XG4gICAqICsgYnV0dG9uXG4gICAqICsgYnV0dG9uc1xuICAgKiArIGNsaWVudFhcbiAgICogKyBjbGllbnRZXG4gICAqICsgbWV0YUtleVxuICAgKiArIG1vdmVtZW50WFxuICAgKiArIG1vdmVtZW50WVxuICAgKiArIHBhZ2VYXG4gICAqICsgcGFnZVlcbiAgICogKyB4XG4gICAqICsgeVxuICAgKiArIHNjcmVlblxuICAgKiArIHNoaWZ0S2V5XG4gICAqICsgZ2xvYmFsXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBmcm9tLlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGludG8uXG4gICAqL1xuICBjb3B5TW91c2VEYXRhKGZyb20sIHRvKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZE1vdXNlRXZlbnQgJiYgdG8gaW5zdGFuY2VvZiBGZWRlcmF0ZWRNb3VzZUV2ZW50KSlcbiAgICAgIHJldHVybjtcbiAgICB0by5hbHRLZXkgPSBmcm9tLmFsdEtleTtcbiAgICB0by5idXR0b24gPSBmcm9tLmJ1dHRvbjtcbiAgICB0by5idXR0b25zID0gZnJvbS5idXR0b25zO1xuICAgIHRvLmNsaWVudC5jb3B5RnJvbShmcm9tLmNsaWVudCk7XG4gICAgdG8uY3RybEtleSA9IGZyb20uY3RybEtleTtcbiAgICB0by5tZXRhS2V5ID0gZnJvbS5tZXRhS2V5O1xuICAgIHRvLm1vdmVtZW50LmNvcHlGcm9tKGZyb20ubW92ZW1lbnQpO1xuICAgIHRvLnNjcmVlbi5jb3B5RnJvbShmcm9tLnNjcmVlbik7XG4gICAgdG8uc2hpZnRLZXkgPSBmcm9tLnNoaWZ0S2V5O1xuICAgIHRvLmdsb2JhbC5jb3B5RnJvbShmcm9tLmdsb2JhbCk7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyBiYXNlIHtAbGluayBGZWRlcmF0ZWRFdmVudH0gZGF0YSBmcm9tIHtAY29kZSBmcm9tfSBpbnRvIHtAY29kZSB0b30uXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgY29waWVkOlxuICAgKiArIGlzVHJ1c3RlZFxuICAgKiArIHNyY0VsZW1lbnRcbiAgICogKyB0aW1lU3RhbXBcbiAgICogKyB0eXBlXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBmcm9tLlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGludG8uXG4gICAqL1xuICBjb3B5RGF0YShmcm9tLCB0bykge1xuICAgIHRvLmlzVHJ1c3RlZCA9IGZyb20uaXNUcnVzdGVkO1xuICAgIHRvLnNyY0VsZW1lbnQgPSBmcm9tLnNyY0VsZW1lbnQ7XG4gICAgdG8udGltZVN0YW1wID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdG8udHlwZSA9IGZyb20udHlwZTtcbiAgICB0by5kZXRhaWwgPSBmcm9tLmRldGFpbDtcbiAgICB0by52aWV3ID0gZnJvbS52aWV3O1xuICAgIHRvLndoaWNoID0gZnJvbS53aGljaDtcbiAgICB0by5sYXllci5jb3B5RnJvbShmcm9tLmxheWVyKTtcbiAgICB0by5wYWdlLmNvcHlGcm9tKGZyb20ucGFnZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBpZCAtIFRoZSBwb2ludGVyIElELlxuICAgKiBAcmV0dXJucyBUaGUgdHJhY2tpbmcgZGF0YSBzdG9yZWQgZm9yIHRoZSBnaXZlbiBwb2ludGVyLiBJZiBubyBkYXRhIGV4aXN0cywgYSBibGFua1xuICAgKiAgc3RhdGUgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgdHJhY2tpbmdEYXRhKGlkKSB7XG4gICAgaWYgKCF0aGlzLm1hcHBpbmdTdGF0ZS50cmFja2luZ0RhdGFbaWRdKSB7XG4gICAgICB0aGlzLm1hcHBpbmdTdGF0ZS50cmFja2luZ0RhdGFbaWRdID0ge1xuICAgICAgICBwcmVzc1RhcmdldHNCeUJ1dHRvbjoge30sXG4gICAgICAgIGNsaWNrc0J5QnV0dG9uOiB7fSxcbiAgICAgICAgb3ZlclRhcmdldDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF07XG4gIH1cbiAgLyoqXG4gICAqIEFsbG9jYXRlIGEgc3BlY2lmaWMgdHlwZSBvZiBldmVudCBmcm9tIHtAbGluayBFdmVudEJvdW5kYXJ5I2V2ZW50UG9vbCB0aGlzLmV2ZW50UG9vbH0uXG4gICAqXG4gICAqIFRoaXMgYWxsb2NhdGlvbiBpcyBjb25zdHJ1Y3Rvci1hZ25vc3RpYywgYXMgbG9uZyBhcyBpdCBvbmx5IHRha2VzIG9uZSBhcmd1bWVudCAtIHRoaXMgZXZlbnRcbiAgICogYm91bmRhcnkuXG4gICAqIEBwYXJhbSBjb25zdHJ1Y3RvciAtIFRoZSBldmVudCdzIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgYWxsb2NhdGVFdmVudChjb25zdHJ1Y3Rvcikge1xuICAgIGlmICghdGhpcy5ldmVudFBvb2wuaGFzKGNvbnN0cnVjdG9yKSkge1xuICAgICAgdGhpcy5ldmVudFBvb2wuc2V0KGNvbnN0cnVjdG9yLCBbXSk7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ldmVudFBvb2wuZ2V0KGNvbnN0cnVjdG9yKS5wb3AoKSB8fCBuZXcgY29uc3RydWN0b3IodGhpcyk7XG4gICAgZXZlbnQuZXZlbnRQaGFzZSA9IGV2ZW50Lk5PTkU7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgZXZlbnQucGF0aCA9IG51bGw7XG4gICAgZXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEZyZWVzIHRoZSBldmVudCBhbmQgcHV0cyBpdCBiYWNrIGludG8gdGhlIGV2ZW50IHBvb2wuXG4gICAqXG4gICAqIEl0IGlzIGlsbGVnYWwgdG8gcmV1c2UgdGhlIGV2ZW50IHVudGlsIGl0IGlzIGFsbG9jYXRlZCBhZ2FpbiwgdXNpbmcgYHRoaXMuYWxsb2NhdGVFdmVudGAuXG4gICAqXG4gICAqIEl0IGlzIGFsc28gYWR2aXNlZCB0aGF0IGV2ZW50cyBub3QgYWxsb2NhdGVkIGZyb20ge0BsaW5rIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudCB0aGlzLmFsbG9jYXRlRXZlbnR9XG4gICAqIG5vdCBiZSBmcmVlZC4gVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBwb3NzaWJpbGl0eSB0aGF0IHRoZSBzYW1lIGV2ZW50IGlzIGZyZWVkIHR3aWNlLCB3aGljaCBjYW4gY2F1c2VcbiAgICogaXQgdG8gYmUgYWxsb2NhdGVkIHR3aWNlICYgcmVzdWx0IGluIG92ZXJ3cml0aW5nLlxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgZnJlZWQuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGV2ZW50IGlzIG1hbmFnZWQgYnkgYW5vdGhlciBldmVudCBib3VuZGFyeS5cbiAgICovXG4gIGZyZWVFdmVudChldmVudCkge1xuICAgIGlmIChldmVudC5tYW5hZ2VyICE9PSB0aGlzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgaXMgaWxsZWdhbCB0byBmcmVlIGFuIGV2ZW50IG5vdCBtYW5hZ2VkIGJ5IHRoaXMgRXZlbnRCb3VuZGFyeSFcIik7XG4gICAgY29uc3QgY29uc3RydWN0b3IgPSBldmVudC5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoIXRoaXMuZXZlbnRQb29sLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQb29sLnNldChjb25zdHJ1Y3RvciwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50UG9vbC5nZXQoY29uc3RydWN0b3IpLnB1c2goZXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIHtAbGluayBFdmVudEVtaXR0ZXIuZW1pdH0sIGV4Y2VwdCBpdCBzdG9wcyBpZiB0aGUgYHByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkYCBmbGFnXG4gICAqIGlzIHNldCBvbiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHRvIGNhbGwgZWFjaCBsaXN0ZW5lciB3aXRoLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBldmVudCBrZXkuXG4gICAqL1xuICBfbm90aWZ5TGlzdGVuZXJzKGUsIHR5cGUpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBlLmN1cnJlbnRUYXJnZXQuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJmblwiIGluIGxpc3RlbmVycykge1xuICAgICAgaWYgKGxpc3RlbmVycy5vbmNlKVxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzLmZuLCB2b2lkIDAsIHRydWUpO1xuICAgICAgbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBqICYmICFlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0uZm4sIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgRXZlbnRCb3VuZGFyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRCb3VuZGFyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBFdmVudEJvdW5kYXJ5IH0gZnJvbSAnLi9FdmVudEJvdW5kYXJ5Lm1qcyc7XG5pbXBvcnQgeyBFdmVudHNUaWNrZXIgfSBmcm9tICcuL0V2ZW50VGlja2VyLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkV2hlZWxFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuY29uc3QgVE9VQ0hfVE9fUE9JTlRFUiA9IHtcbiAgdG91Y2hzdGFydDogXCJwb2ludGVyZG93blwiLFxuICB0b3VjaGVuZDogXCJwb2ludGVydXBcIixcbiAgdG91Y2hlbmRvdXRzaWRlOiBcInBvaW50ZXJ1cG91dHNpZGVcIixcbiAgdG91Y2htb3ZlOiBcInBvaW50ZXJtb3ZlXCIsXG4gIHRvdWNoY2FuY2VsOiBcInBvaW50ZXJjYW5jZWxcIlxufTtcbmNvbnN0IF9FdmVudFN5c3RlbSA9IGNsYXNzIF9FdmVudFN5c3RlbSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmVyfSByZW5kZXJlclxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKiogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvICovXG4gICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gXCJvbnRvdWNoc3RhcnRcIiBpbiBnbG9iYWxUaGlzO1xuICAgIC8qKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50cyBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy8gKi9cbiAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQ7XG4gICAgLyoqXG4gICAgICogVGhlIERPTSBlbGVtZW50IHRvIHdoaWNoIHRoZSByb290IGV2ZW50IGxpc3RlbmVycyBhcmUgYm91bmQuIFRoaXMgaXMgYXV0b21hdGljYWxseSBzZXQgdG9cbiAgICAgKiB0aGUgcmVuZGVyZXIncyB7QGxpbmsgUmVuZGVyZXIjdmlldyB2aWV3fS5cbiAgICAgKi9cbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIC8qKiBUaGUgcmVzb2x1dGlvbiB1c2VkIHRvIGNvbnZlcnQgYmV0d2VlbiB0aGUgRE9NIGNsaWVudCBzcGFjZSBpbnRvIHdvcmxkIHNwYWNlLiAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5ID0gbmV3IEV2ZW50Qm91bmRhcnkobnVsbCk7XG4gICAgRXZlbnRzVGlja2VyLmluaXQodGhpcyk7XG4gICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgIHRoaXMuX2V2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcm9vdFBvaW50ZXJFdmVudCA9IG5ldyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQobnVsbCk7XG4gICAgdGhpcy5fcm9vdFdoZWVsRXZlbnQgPSBuZXcgRmVkZXJhdGVkV2hlZWxFdmVudChudWxsKTtcbiAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgIGRlZmF1bHQ6IFwiaW5oZXJpdFwiLFxuICAgICAgcG9pbnRlcjogXCJwb2ludGVyXCJcbiAgICB9O1xuICAgIHRoaXMuZmVhdHVyZXMgPSBuZXcgUHJveHkoeyAuLi5fRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50RmVhdHVyZXMgfSwge1xuICAgICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiZ2xvYmFsTW92ZVwiKSB7XG4gICAgICAgICAgdGhpcy5yb290Qm91bmRhcnkuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX29uUG9pbnRlckRvd24gPSB0aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Qb2ludGVyTW92ZSA9IHRoaXMuX29uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBvaW50ZXJVcCA9IHRoaXMuX29uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Qb2ludGVyT3Zlck91dCA9IHRoaXMuX29uUG9pbnRlck92ZXJPdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV2hlZWwgPSB0aGlzLm9uV2hlZWwuYmluZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgaW50ZXJhY3Rpb24gbW9kZSBmb3IgYWxsIGRpc3BsYXkgb2JqZWN0cy5cbiAgICogQHNlZSBDb250YWluZXIuZXZlbnRNb2RlXG4gICAqIEB0eXBlIHtFdmVudE1vZGV9XG4gICAqIEByZWFkb25seVxuICAgKiBAc2luY2UgNy4yLjBcbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdEV2ZW50TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEV2ZW50TW9kZTtcbiAgfVxuICAvKipcbiAgICogUnVubmVyIGluaXQgY2FsbGVkLCB2aWV3IGlzIGF2YWlsYWJsZSBhdCB0aGlzIHBvaW50LlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGNhbnZhcywgcmVzb2x1dGlvbiB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQoY2FudmFzKTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIF9FdmVudFN5c3RlbS5fZGVmYXVsdEV2ZW50TW9kZSA9IG9wdGlvbnMuZXZlbnRNb2RlID8/IFwicGFzc2l2ZVwiO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5mZWF0dXJlcywgb3B0aW9ucy5ldmVudEZlYXR1cmVzID8/IHt9KTtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzID0gdGhpcy5mZWF0dXJlcy5nbG9iYWxNb3ZlO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdpbmcgcmVzb2x1dGlvbi5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcmVzb2x1dGlvbkNoYW5nZShyZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgfVxuICAvKiogRGVzdHJveXMgYWxsIGV2ZW50IGxpc3RlbmVycyBhbmQgZGV0YWNoZXMgdGhlIHJlbmRlcmVyLiAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudChudWxsKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9jdXJyZW50Q3Vyc29yID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICogQHBhcmFtIG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICovXG4gIHNldEN1cnNvcihtb2RlKSB7XG4gICAgbW9kZSA9IG1vZGUgfHwgXCJkZWZhdWx0XCI7XG4gICAgbGV0IGFwcGx5U3R5bGVzID0gdHJ1ZTtcbiAgICBpZiAoZ2xvYmFsVGhpcy5PZmZzY3JlZW5DYW52YXMgJiYgdGhpcy5kb21FbGVtZW50IGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICBhcHBseVN0eWxlcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5fY3VycmVudEN1cnNvciA9PT0gbW9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9jdXJyZW50Q3Vyc29yID0gbW9kZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGlmIChhcHBseVN0eWxlcykge1xuICAgICAgICAgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAoYXBwbHlTdHlsZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kb21FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwbHlTdHlsZXMgJiYgdHlwZW9mIG1vZGUgPT09IFwic3RyaW5nXCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIGdsb2JhbCBwb2ludGVyIGV2ZW50LlxuICAgKiBVc2VmdWwgZm9yIGdldHRpbmcgdGhlIHBvaW50ZXIgcG9zaXRpb24gd2l0aG91dCBsaXN0ZW5pbmcgdG8gZXZlbnRzLlxuICAgKiBAc2luY2UgNy4yLjBcbiAgICovXG4gIGdldCBwb2ludGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9yb290UG9pbnRlckV2ZW50O1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIGRvd24gZXZlbnRzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uXG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudCAtIFRoZSBuYXRpdmUgbW91c2UvcG9pbnRlci90b3VjaCBldmVudC5cbiAgICovXG4gIF9vblBvaW50ZXJEb3duKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG5hdGl2ZUV2ZW50LmNhbmNlbGFibGUgfHwgIShcImNhbmNlbGFibGVcIiBpbiBuYXRpdmVFdmVudCk7XG4gICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICBuYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUV2ZW50MiA9IGV2ZW50c1tpXTtcbiAgICAgIGNvbnN0IGZlZGVyYXRlZEV2ZW50ID0gdGhpcy5fYm9vdHN0cmFwRXZlbnQodGhpcy5fcm9vdFBvaW50ZXJFdmVudCwgbmF0aXZlRXZlbnQyKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGZlZGVyYXRlZEV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcG9pbnRlciBtb3ZlIGV2ZW50cyBvbiBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnRzLlxuICAgKi9cbiAgX29uUG9pbnRlck1vdmUobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMubW92ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgRXZlbnRzVGlja2VyLnBvaW50ZXJNb3ZlZCgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG5vcm1hbGl6ZWRFdmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuX2Jvb3RzdHJhcEV2ZW50KHRoaXMuX3Jvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIHVwIGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnQuXG4gICAqL1xuICBfb25Qb2ludGVyVXAobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMuY2xpY2spXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIGxldCB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQ7XG4gICAgaWYgKG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCAmJiBuYXRpdmVFdmVudC5jb21wb3NlZFBhdGgoKS5sZW5ndGggPiAwKSB7XG4gICAgICB0YXJnZXQgPSBuYXRpdmVFdmVudC5jb21wb3NlZFBhdGgoKVswXTtcbiAgICB9XG4gICAgY29uc3Qgb3V0c2lkZSA9IHRhcmdldCAhPT0gdGhpcy5kb21FbGVtZW50ID8gXCJvdXRzaWRlXCIgOiBcIlwiO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG5vcm1hbGl6ZWRFdmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuX2Jvb3RzdHJhcEV2ZW50KHRoaXMuX3Jvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgZXZlbnQudHlwZSArPSBvdXRzaWRlO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIG92ZXIgJiBvdXQgZXZlbnRzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uXG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudCAtIFRoZSBuYXRpdmUgbW91c2UvcG9pbnRlci90b3VjaCBldmVudC5cbiAgICovXG4gIF9vblBvaW50ZXJPdmVyT3V0KG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gdGhpcy5fbm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ib290c3RyYXBFdmVudCh0aGlzLl9yb290UG9pbnRlckV2ZW50LCBub3JtYWxpemVkRXZlbnRzW2ldKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogUGFzc2l2ZSBoYW5kbGVyIGZvciBgd2hlZWxgIGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0uZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIHdoZWVsIGV2ZW50LlxuICAgKi9cbiAgb25XaGVlbChuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy53aGVlbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB3aGVlbEV2ZW50ID0gdGhpcy5ub3JtYWxpemVXaGVlbEV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQod2hlZWxFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IGRvbUVsZW1lbnR9IGFuZCBiaW5kcyBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIFRvIGRlcmVnaXN0ZXIgdGhlIGN1cnJlbnQgRE9NIGVsZW1lbnQgd2l0aG91dCBzZXR0aW5nIGEgbmV3IG9uZSwgcGFzcyB7QGNvZGUgbnVsbH0uXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIG5ldyBET00gZWxlbWVudC5cbiAgICovXG4gIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgRXZlbnRzVGlja2VyLmRvbUVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX2FkZEV2ZW50cygpO1xuICB9XG4gIC8qKiBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgb24ge0BsaW5rIFJlbmRlcmVyI2RvbUVsZW1lbnQgdGhpcy5kb21FbGVtZW50fS4gKi9cbiAgX2FkZEV2ZW50cygpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRzQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBFdmVudHNUaWNrZXIuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9tRWxlbWVudC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSBcIm5vbmVcIjtcbiAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMub25XaGVlbCwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLl9ldmVudHNBZGRlZCA9IHRydWU7XG4gIH1cbiAgLyoqIFVucmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uICovXG4gIF9yZW1vdmVFdmVudHMoKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHNBZGRlZCB8fCAhdGhpcy5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEV2ZW50c1RpY2tlci5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5kb21FbGVtZW50LnN0eWxlO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaWYgKGdsb2JhbFRoaXMubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9IFwiXCI7XG4gICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIlwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5fb25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fb25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5fb25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5vbldoZWVsLCB0cnVlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX2V2ZW50c0FkZGVkID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gIHtQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICovXG4gIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSkge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmRvbUVsZW1lbnQuaXNDb25uZWN0ZWQgPyB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiB0aGlzLmRvbUVsZW1lbnQud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuZG9tRWxlbWVudC5oZWlnaHQsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwXG4gICAgfTtcbiAgICBjb25zdCByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEgLyB0aGlzLnJlc29sdXRpb247XG4gICAgcG9pbnQueCA9ICh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmRvbUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIHBvaW50LnkgPSAoeSAtIHJlY3QudG9wKSAqICh0aGlzLmRvbUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gIH1cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICogQHJldHVybnMgQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAqL1xuICBfbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKykge1xuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5idXR0b24gPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guYnV0dG9ucyA9IDE7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnRpbHRYID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gucG9pbnRlclR5cGUgPSBcInRvdWNoXCI7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcbiAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdG91Y2gudHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghZ2xvYmFsVGhpcy5Nb3VzZUV2ZW50IHx8IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICBjb25zdCB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC53aWR0aCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LndpZHRoID0gMTtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmhlaWdodCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LmhlaWdodCA9IDE7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnRpbHRYID0gMDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRZID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudGlsdFkgPSAwO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9IFwibW91c2VcIjtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJJZCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50d2lzdCA9IDA7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgdGVtcEV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godGVtcEV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgdGhlIG5hdGl2ZSB7QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3VpZXZlbnRzLyNpbnRlcmZhY2Utd2hlZWxldmVudCBXaGVlbEV2ZW50fS5cbiAgICpcbiAgICogVGhlIHJldHVybmVkIHtAbGluayBGZWRlcmF0ZWRXaGVlbEV2ZW50fSBpcyBhIHNoYXJlZCBpbnN0YW5jZS4gSXQgd2lsbCBub3QgcGVyc2lzdCBhY3Jvc3NcbiAgICogbXVsdGlwbGUgbmF0aXZlIHdoZWVsIGV2ZW50cy5cbiAgICogQHBhcmFtIG5hdGl2ZUV2ZW50IC0gVGhlIG5hdGl2ZSB3aGVlbCBldmVudCB0aGF0IG9jY3VycmVkIG9uIHRoZSBjYW52YXMuXG4gICAqIEByZXR1cm5zIEEgZmVkZXJhdGVkIHdoZWVsIGV2ZW50LlxuICAgKi9cbiAgbm9ybWFsaXplV2hlZWxFdmVudChuYXRpdmVFdmVudCkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fcm9vdFdoZWVsRXZlbnQ7XG4gICAgdGhpcy5fdHJhbnNmZXJNb3VzZURhdGEoZXZlbnQsIG5hdGl2ZUV2ZW50KTtcbiAgICBldmVudC5kZWx0YVggPSBuYXRpdmVFdmVudC5kZWx0YVg7XG4gICAgZXZlbnQuZGVsdGFZID0gbmF0aXZlRXZlbnQuZGVsdGFZO1xuICAgIGV2ZW50LmRlbHRhWiA9IG5hdGl2ZUV2ZW50LmRlbHRhWjtcbiAgICBldmVudC5kZWx0YU1vZGUgPSBuYXRpdmVFdmVudC5kZWx0YU1vZGU7XG4gICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoZXZlbnQuc2NyZWVuLCBuYXRpdmVFdmVudC5jbGllbnRYLCBuYXRpdmVFdmVudC5jbGllbnRZKTtcbiAgICBldmVudC5nbG9iYWwuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5vZmZzZXQuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50LnR5cGUgPSBuYXRpdmVFdmVudC50eXBlO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogTm9ybWFsaXplcyB0aGUgYG5hdGl2ZUV2ZW50YCBpbnRvIGEgZmVkZXJhdGVlZCB7QGxpbmsgRmVkZXJhdGVkUG9pbnRlckV2ZW50fS5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudFxuICAgKi9cbiAgX2Jvb3RzdHJhcEV2ZW50KGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQucG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgIGV2ZW50LndpZHRoID0gbmF0aXZlRXZlbnQud2lkdGg7XG4gICAgZXZlbnQuaGVpZ2h0ID0gbmF0aXZlRXZlbnQuaGVpZ2h0O1xuICAgIGV2ZW50LmlzUHJpbWFyeSA9IG5hdGl2ZUV2ZW50LmlzUHJpbWFyeTtcbiAgICBldmVudC5wb2ludGVyVHlwZSA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIGV2ZW50LnByZXNzdXJlID0gbmF0aXZlRXZlbnQucHJlc3N1cmU7XG4gICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gbmF0aXZlRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIGV2ZW50LnRpbHRYID0gbmF0aXZlRXZlbnQudGlsdFg7XG4gICAgZXZlbnQudGlsdFkgPSBuYXRpdmVFdmVudC50aWx0WTtcbiAgICBldmVudC50d2lzdCA9IG5hdGl2ZUV2ZW50LnR3aXN0O1xuICAgIHRoaXMuX3RyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCk7XG4gICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoZXZlbnQuc2NyZWVuLCBuYXRpdmVFdmVudC5jbGllbnRYLCBuYXRpdmVFdmVudC5jbGllbnRZKTtcbiAgICBldmVudC5nbG9iYWwuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5vZmZzZXQuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5pc1RydXN0ZWQgPSBuYXRpdmVFdmVudC5pc1RydXN0ZWQ7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwicG9pbnRlcmxlYXZlXCIpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBcInBvaW50ZXJvdXRcIjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIm1vdXNlXCIpKSB7XG4gICAgICBldmVudC50eXBlID0gZXZlbnQudHlwZS5yZXBsYWNlKFwibW91c2VcIiwgXCJwb2ludGVyXCIpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKFwidG91Y2hcIikpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBUT1VDSF9UT19QT0lOVEVSW2V2ZW50LnR5cGVdIHx8IGV2ZW50LnR5cGU7XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogVHJhbnNmZXJzIGJhc2UgJiBtb3VzZSBldmVudCBkYXRhIGZyb20gdGhlIHtAY29kZSBuYXRpdmVFdmVudH0gdG8gdGhlIGZlZGVyYXRlZCBldmVudC5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudFxuICAgKi9cbiAgX3RyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBldmVudC5zcmNFbGVtZW50ID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudDtcbiAgICBldmVudC50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZTtcbiAgICBldmVudC5hbHRLZXkgPSBuYXRpdmVFdmVudC5hbHRLZXk7XG4gICAgZXZlbnQuYnV0dG9uID0gbmF0aXZlRXZlbnQuYnV0dG9uO1xuICAgIGV2ZW50LmJ1dHRvbnMgPSBuYXRpdmVFdmVudC5idXR0b25zO1xuICAgIGV2ZW50LmNsaWVudC54ID0gbmF0aXZlRXZlbnQuY2xpZW50WDtcbiAgICBldmVudC5jbGllbnQueSA9IG5hdGl2ZUV2ZW50LmNsaWVudFk7XG4gICAgZXZlbnQuY3RybEtleSA9IG5hdGl2ZUV2ZW50LmN0cmxLZXk7XG4gICAgZXZlbnQubWV0YUtleSA9IG5hdGl2ZUV2ZW50Lm1ldGFLZXk7XG4gICAgZXZlbnQubW92ZW1lbnQueCA9IG5hdGl2ZUV2ZW50Lm1vdmVtZW50WDtcbiAgICBldmVudC5tb3ZlbWVudC55ID0gbmF0aXZlRXZlbnQubW92ZW1lbnRZO1xuICAgIGV2ZW50LnBhZ2UueCA9IG5hdGl2ZUV2ZW50LnBhZ2VYO1xuICAgIGV2ZW50LnBhZ2UueSA9IG5hdGl2ZUV2ZW50LnBhZ2VZO1xuICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBudWxsO1xuICAgIGV2ZW50LnNoaWZ0S2V5ID0gbmF0aXZlRXZlbnQuc2hpZnRLZXk7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0V2ZW50U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgbmFtZTogXCJldmVudHNcIixcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgcHJpb3JpdHk6IC0xXG59O1xuLyoqXG4gKiBUaGUgZXZlbnQgZmVhdHVyZXMgdGhhdCBhcmUgZW5hYmxlZCBieSB0aGUgRXZlbnRTeXN0ZW1cbiAqIChpbmNsdWRlZCBpbiB0aGUgKipwaXhpLmpzKiogYW5kICoqcGl4aS5qcy1sZWdhY3kqKiBidW5kbGUpLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBpZ25vcmVkLlxuICogQHNpbmNlIDcuMi4wXG4gKi9cbl9FdmVudFN5c3RlbS5kZWZhdWx0RXZlbnRGZWF0dXJlcyA9IHtcbiAgLyoqIEVuYWJsZXMgcG9pbnRlciBldmVudHMgYXNzb2NpYXRlZCB3aXRoIHBvaW50ZXIgbW92ZW1lbnQuICovXG4gIG1vdmU6IHRydWUsXG4gIC8qKiBFbmFibGVzIGdsb2JhbCBwb2ludGVyIG1vdmUgZXZlbnRzLiAqL1xuICBnbG9iYWxNb3ZlOiB0cnVlLFxuICAvKiogRW5hYmxlcyBwb2ludGVyIGV2ZW50cyBhc3NvY2lhdGVkIHdpdGggY2xpY2tpbmcuICovXG4gIGNsaWNrOiB0cnVlLFxuICAvKiogRW5hYmxlcyB3aGVlbCBldmVudHMuICovXG4gIHdoZWVsOiB0cnVlXG59O1xubGV0IEV2ZW50U3lzdGVtID0gX0V2ZW50U3lzdGVtO1xuXG5leHBvcnQgeyBFdmVudFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBGZWRlcmF0ZWRDb250YWluZXIgPSB7XG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYGNsaWNrYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBjbGlja1xuICAgKiB9XG4gICAqL1xuICBvbmNsaWNrOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZWRvd25gIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBtb3VzZWRvd25cbiAgICogfVxuICAgKi9cbiAgb25tb3VzZWRvd246IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYG1vdXNlZW50ZXJgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZWVudGVyID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2VlbnRlclxuICAgKiB9XG4gICAqL1xuICBvbm1vdXNlZW50ZXI6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYG1vdXNlbGVhdmVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZWxlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2VsZWF2ZVxuICAgKiB9XG4gICAqL1xuICBvbm1vdXNlbGVhdmU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYG1vdXNlbW92ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbm1vdXNlbW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNlbW92ZVxuICAgKiB9XG4gICAqL1xuICBvbm1vdXNlbW92ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgZ2xvYmFsbW91c2Vtb3ZlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9uZ2xvYmFsbW91c2Vtb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gZ2xvYmFsbW91c2Vtb3ZlXG4gICAqIH1cbiAgICovXG4gIG9uZ2xvYmFsbW91c2Vtb3ZlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZW91dGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbm1vdXNlb3V0ID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2VvdXRcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZW91dDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgbW91c2VvdmVyYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ubW91c2VvdmVyID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2VvdmVyXG4gICAqIH1cbiAgICovXG4gIG9ubW91c2VvdmVyOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZXVwYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ubW91c2V1cCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNldXBcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZXVwOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZXVwb3V0c2lkZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbm1vdXNldXBvdXRzaWRlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2V1cG91dHNpZGVcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZXVwb3V0c2lkZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcmNhbmNlbGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJjYW5jZWwgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVyY2FuY2VsXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcmNhbmNlbDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcmRvd25gIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVyZG93biA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJkb3duXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcmRvd246IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJlbnRlcmAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJlbnRlciA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJlbnRlclxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJlbnRlcjogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcmxlYXZlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcmxlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcmxlYXZlXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcmxlYXZlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVybW92ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJtb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcm1vdmVcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVybW92ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgZ2xvYmFscG9pbnRlcm1vdmVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25nbG9iYWxwb2ludGVybW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIGdsb2JhbHBvaW50ZXJtb3ZlXG4gICAqIH1cbiAgICovXG4gIG9uZ2xvYmFscG9pbnRlcm1vdmU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJvdXRgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVyb3V0ID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcm91dFxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJvdXQ6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJvdmVyYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcm92ZXIgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVyb3ZlclxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJvdmVyOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVydGFwYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcnRhcCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJ0YXBcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVydGFwOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVydXBgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVydXAgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVydXBcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVydXA6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJ1cG91dHNpZGVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVydXBvdXRzaWRlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcnVwb3V0c2lkZVxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJ1cG91dHNpZGU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHJpZ2h0Y2xpY2tgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25yaWdodGNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcmlnaHRjbGlja1xuICAgKiB9XG4gICAqL1xuICBvbnJpZ2h0Y2xpY2s6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHJpZ2h0ZG93bmAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnJpZ2h0ZG93biA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHJpZ2h0ZG93blxuICAgKiB9XG4gICAqL1xuICBvbnJpZ2h0ZG93bjogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcmlnaHR1cGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnJpZ2h0dXAgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiByaWdodHVwXG4gICAqIH1cbiAgICovXG4gIG9ucmlnaHR1cDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcmlnaHR1cG91dHNpZGVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25yaWdodHVwb3V0c2lkZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHJpZ2h0dXBvdXRzaWRlXG4gICAqIH1cbiAgICovXG4gIG9ucmlnaHR1cG91dHNpZGU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHRhcGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnRhcCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHRhcFxuICAgKiB9XG4gICAqL1xuICBvbnRhcDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgdG91Y2hjYW5jZWxgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub250b3VjaGNhbmNlbCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHRvdWNoY2FuY2VsXG4gICAqIH1cbiAgICovXG4gIG9udG91Y2hjYW5jZWw6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHRvdWNoZW5kYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9udG91Y2hlbmQgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0b3VjaGVuZFxuICAgKiB9XG4gICAqL1xuICBvbnRvdWNoZW5kOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB0b3VjaGVuZG91dHNpZGVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub250b3VjaGVuZG91dHNpZGUgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0b3VjaGVuZG91dHNpZGVcbiAgICogfVxuICAgKi9cbiAgb250b3VjaGVuZG91dHNpZGU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHRvdWNobW92ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnRvdWNobW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHRvdWNobW92ZVxuICAgKiB9XG4gICAqL1xuICBvbnRvdWNobW92ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgZ2xvYmFsdG91Y2htb3ZlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9uZ2xvYmFsdG91Y2htb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gZ2xvYmFsdG91Y2htb3ZlXG4gICAqIH1cbiAgICovXG4gIG9uZ2xvYmFsdG91Y2htb3ZlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB0b3VjaHN0YXJ0YCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9udG91Y2hzdGFydCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHRvdWNoc3RhcnRcbiAgICogfVxuICAgKi9cbiAgb250b3VjaHN0YXJ0OiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB3aGVlbGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbndoZWVsID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gd2hlZWxcbiAgICogfVxuICAgKi9cbiAgb253aGVlbDogbnVsbCxcbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBDb250YWluZXIuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKi9cbiAgZ2V0IGludGVyYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIgfHwgdGhpcy5ldmVudE1vZGUgPT09IFwic3RhdGljXCI7XG4gIH0sXG4gIHNldCBpbnRlcmFjdGl2ZSh2YWx1ZSkge1xuICAgIHRoaXMuZXZlbnRNb2RlID0gdmFsdWUgPyBcInN0YXRpY1wiIDogXCJwYXNzaXZlXCI7XG4gIH0sXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBfaW50ZXJuYWxFdmVudE1vZGU6IHZvaWQgMCxcbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBDb250YWluZXIuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZS5cbiAgICogVGhlcmUgYXJlIDUgdHlwZXMgb2YgaW50ZXJhY3Rpb24gc2V0dGluZ3M6XG4gICAqIC0gYCdub25lJ2A6IElnbm9yZXMgYWxsIGludGVyYWN0aW9uIGV2ZW50cywgZXZlbiBvbiBpdHMgY2hpbGRyZW4uXG4gICAqIC0gYCdwYXNzaXZlJ2A6ICoqKGRlZmF1bHQpKiogRG9lcyBub3QgZW1pdCBldmVudHMgYW5kIGlnbm9yZXMgYWxsIGhpdCB0ZXN0aW5nIG9uIGl0c2VsZiBhbmQgbm9uLWludGVyYWN0aXZlIGNoaWxkcmVuLlxuICAgKiBJbnRlcmFjdGl2ZSBjaGlsZHJlbiB3aWxsIHN0aWxsIGVtaXQgZXZlbnRzLlxuICAgKiAtIGAnYXV0bydgOiBEb2VzIG5vdCBlbWl0IGV2ZW50cyBidXQgaXMgaGl0IHRlc3RlZCBpZiBwYXJlbnQgaXMgaW50ZXJhY3RpdmUuIFNhbWUgYXMgYGludGVyYWN0aXZlID0gZmFsc2VgIGluIHY3XG4gICAqIC0gYCdzdGF0aWMnYDogRW1pdCBldmVudHMgYW5kIGlzIGhpdCB0ZXN0ZWQuIFNhbWUgYXMgYGludGVyYWN0aW9uID0gdHJ1ZWAgaW4gdjdcbiAgICogLSBgJ2R5bmFtaWMnYDogRW1pdHMgZXZlbnRzIGFuZCBpcyBoaXQgdGVzdGVkIGJ1dCB3aWxsIGFsc28gcmVjZWl2ZSBtb2NrIGludGVyYWN0aW9uIGV2ZW50cyBmaXJlZCBmcm9tIGEgdGlja2VyIHRvXG4gICAqIGFsbG93IGZvciBpbnRlcmFjdGlvbiB3aGVuIHRoZSBtb3VzZSBpc24ndCBtb3ZpbmdcbiAgICogQGV4YW1wbGVcbiAgICogaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAncGl4aS5qcyc7XG4gICAqXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5ldmVudE1vZGUgPSAnc3RhdGljJztcbiAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICogICAgIC8vIEhhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQHNpbmNlIDcuMi4wXG4gICAqL1xuICBnZXQgZXZlbnRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbEV2ZW50TW9kZSA/PyBFdmVudFN5c3RlbS5kZWZhdWx0RXZlbnRNb2RlO1xuICB9LFxuICBzZXQgZXZlbnRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5faW50ZXJuYWxFdmVudE1vZGUgPSB2YWx1ZTtcbiAgfSxcbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGNvbnRhaW5lciBpcyBpbnRlcmFjdGl2ZSBvciBub3RcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNvbnRhaW5lciBpcyBpbnRlcmFjdGl2ZSBvciBub3RcbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQHNpbmNlIDcuMi4wXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ3BpeGkuanMnO1xuICAgKlxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuZXZlbnRNb2RlID0gJ3N0YXRpYyc7XG4gICAqIHNwcml0ZS5pc0ludGVyYWN0aXZlKCk7IC8vIHRydWVcbiAgICpcbiAgICogc3ByaXRlLmV2ZW50TW9kZSA9ICdkeW5hbWljJztcbiAgICogc3ByaXRlLmlzSW50ZXJhY3RpdmUoKTsgLy8gdHJ1ZVxuICAgKlxuICAgKiBzcHJpdGUuZXZlbnRNb2RlID0gJ25vbmUnO1xuICAgKiBzcHJpdGUuaXNJbnRlcmFjdGl2ZSgpOyAvLyBmYWxzZVxuICAgKlxuICAgKiBzcHJpdGUuZXZlbnRNb2RlID0gJ3Bhc3NpdmUnO1xuICAgKiBzcHJpdGUuaXNJbnRlcmFjdGl2ZSgpOyAvLyBmYWxzZVxuICAgKlxuICAgKiBzcHJpdGUuZXZlbnRNb2RlID0gJ2F1dG8nO1xuICAgKiBzcHJpdGUuaXNJbnRlcmFjdGl2ZSgpOyAvLyBmYWxzZVxuICAgKi9cbiAgaXNJbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudE1vZGUgPT09IFwic3RhdGljXCIgfHwgdGhpcy5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiO1xuICB9LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lciBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gIC8qKlxuICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGNvbnRhaW5lcidzIGJvdW5kcy5cbiAgICogQGV4YW1wbGVcbiAgICogaW1wb3J0IHsgUmVjdGFuZ2xlLCBTcHJpdGUgfSBmcm9tICdwaXhpLmpzJztcbiAgICpcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICogQG1lbWJlciB7SUhpdEFyZWF9XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqL1xuICBoaXRBcmVhOiBudWxsLFxuICAvKipcbiAgICogVW5saWtlIGBvbmAgb3IgYGFkZExpc3RlbmVyYCB3aGljaCBhcmUgbWV0aG9kcyBmcm9tIEV2ZW50RW1pdHRlciwgYGFkZEV2ZW50TGlzdGVuZXJgXG4gICAqIHNlZWtzIHRvIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgRE9NJ3MgYGFkZEV2ZW50TGlzdGVuZXJgIHdpdGggc3VwcG9ydCBmb3Igb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lclxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRvIGxpc3RlbiB0by5cbiAgICogQHBhcmFtIGxpc3RlbmVyIC0gVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG9yIG9iamVjdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBMaXN0ZW5lciBvcHRpb25zLCB1c2VkIGZvciBjYXB0dXJlIHBoYXNlLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBUZWxsIHRoZSB1c2VyIHdoZXRoZXIgdGhleSBkaWQgYSBzaW5nbGUsIGRvdWJsZSwgdHJpcGxlLCBvciBudGggY2xpY2suXG4gICAqIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHtcbiAgICogICAgIGhhbmRsZUV2ZW50KGUpOiB7XG4gICAqICAgICAgICAgbGV0IHByZWZpeDtcbiAgICpcbiAgICogICAgICAgICBzd2l0Y2ggKGUuZGV0YWlsKSB7XG4gICAqICAgICAgICAgICAgIGNhc2UgMTogcHJlZml4ID0gJ3NpbmdsZSc7IGJyZWFrO1xuICAgKiAgICAgICAgICAgICBjYXNlIDI6IHByZWZpeCA9ICdkb3VibGUnOyBicmVhaztcbiAgICogICAgICAgICAgICAgY2FzZSAzOiBwcmVmaXggPSAndHJpcGxlJzsgYnJlYWs7XG4gICAqICAgICAgICAgICAgIGRlZmF1bHQ6IHByZWZpeCA9IGUuZGV0YWlsICsgJ3RoJzsgYnJlYWs7XG4gICAqICAgICAgICAgfVxuICAgKlxuICAgKiAgICAgICAgIGNvbnNvbGUubG9nKCdUaGF0IHdhcyBhICcgKyBwcmVmaXggKyAnY2xpY2snKTtcbiAgICogICAgIH1cbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEJ1dCBza2lwIHRoZSBmaXJzdCBjbGljayFcbiAgICogYnV0dG9uLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIGJsb2NrQ2xpY2tPbmNlKGUpIHtcbiAgICogICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAqICAgICBidXR0b24ucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYmxvY2tDbGlja09uY2UsIHRydWUpO1xuICAgKiB9LCB7XG4gICAqICAgICBjYXB0dXJlOiB0cnVlLFxuICAgKiB9KTtcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXB0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiICYmIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5jYXB0dXJlO1xuICAgIGNvbnN0IHNpZ25hbCA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5zaWduYWwgOiB2b2lkIDA7XG4gICAgY29uc3Qgb25jZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5vbmNlID09PSB0cnVlIDogZmFsc2U7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBjb25zdCBsaXN0ZW5lckZuID0gdHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIgPyBsaXN0ZW5lciA6IGxpc3RlbmVyLmhhbmRsZUV2ZW50O1xuICAgIGNvbnN0IGVtaXR0ZXIgPSB0aGlzO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuICAgICAgICBlbWl0dGVyLm9mZih0eXBlLCBsaXN0ZW5lckZuLCBjb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKHR5cGUsIGxpc3RlbmVyRm4sIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKHR5cGUsIGxpc3RlbmVyRm4sIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIFVubGlrZSBgb2ZmYCBvciBgcmVtb3ZlTGlzdGVuZXJgIHdoaWNoIGFyZSBtZXRob2RzIGZyb20gRXZlbnRFbWl0dGVyLCBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmBcbiAgICogc2Vla3MgdG8gYmUgY29tcGF0aWJsZSB3aXRoIHRoZSBET00ncyBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgd2l0aCBzdXBwb3J0IGZvciBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgZXZlbnQgdGhlIGxpc3RlbmVyIGlzIGJvdW5kIHRvLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgLSBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgb3Igb2JqZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcmlnaW5hbCBsaXN0ZW5lciBvcHRpb25zLiBUaGlzIGlzIHJlcXVpcmVkIHRvIGRlcmVnaXN0ZXIgYSBjYXB0dXJlIHBoYXNlIGxpc3RlbmVyLlxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhcHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmNhcHR1cmU7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBsaXN0ZW5lciA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gbGlzdGVuZXIgOiBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICB0aGlzLm9mZih0eXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH0sXG4gIC8qKlxuICAgKiBEaXNwYXRjaCB0aGUgZXZlbnQgb24gdGhpcyB7QGxpbmsgQ29udGFpbmVyfSB1c2luZyB0aGUgZXZlbnQncyB7QGxpbmsgRXZlbnRCb3VuZGFyeX0uXG4gICAqXG4gICAqIFRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50IGlzIHNldCB0byBgdGhpc2AgYW5kIHRoZSBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZyBpcyBjbGVhcmVkIGJlZm9yZSBkaXNwYXRjaC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lclxuICAgKiBAcGFyYW0gZSAtIFRoZSBldmVudCB0byBkaXNwYXRjaC5cbiAgICogQHJldHVybnMgV2hldGhlciB0aGUge0BsaW5rIEZlZGVyYXRlZEV2ZW50LnByZXZlbnREZWZhdWx0IHByZXZlbnREZWZhdWx0fSgpIG1ldGhvZCB3YXMgbm90IGludm9rZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIFJldXNlIGEgY2xpY2sgZXZlbnQhXG4gICAqIGJ1dHRvbi5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpO1xuICAgKi9cbiAgZGlzcGF0Y2hFdmVudChlKSB7XG4gICAgaWYgKCEoZSBpbnN0YW5jZW9mIEZlZGVyYXRlZEV2ZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIGNhbm5vdCBwcm9wYWdhdGUgZXZlbnRzIG91dHNpZGUgb2YgdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJXCIpO1xuICAgIH1cbiAgICBlLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICBlLnBhdGggPSBudWxsO1xuICAgIGUudGFyZ2V0ID0gdGhpcztcbiAgICBlLm1hbmFnZXIuZGlzcGF0Y2hFdmVudChlKTtcbiAgICByZXR1cm4gIWUuZGVmYXVsdFByZXZlbnRlZDtcbiAgfVxufTtcblxuZXhwb3J0IHsgRmVkZXJhdGVkQ29udGFpbmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRFdmVudFRhcmdldC5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBFdmVudFN5c3RlbSB9IGZyb20gJy4vRXZlbnRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZENvbnRhaW5lciB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChFdmVudFN5c3RlbSk7XG5Db250YWluZXIubWl4aW4oRmVkZXJhdGVkQ29udGFpbmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkZlZGVyYXRlZEV2ZW50IiwiY29uc3RydWN0b3IiLCJtYW5hZ2VyIiwidGhpcyIsImJ1YmJsZXMiLCJjYW5jZWxCdWJibGUiLCJjYW5jZWxhYmxlIiwiY29tcG9zZWQiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRQaGFzZSIsInByb3RvdHlwZSIsIk5PTkUiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJwcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCIsImxheWVyIiwiUG9pbnQiLCJwYWdlIiwiQ0FQVFVSSU5HX1BIQVNFIiwiQVRfVEFSR0VUIiwiQlVCQkxJTkdfUEhBU0UiLCJsYXllclgiLCJ4IiwibGF5ZXJZIiwieSIsInBhZ2VYIiwicGFnZVkiLCJkYXRhIiwiY29tcG9zZWRQYXRoIiwicGF0aCIsImxlbmd0aCIsInRhcmdldCIsInByb3BhZ2F0aW9uUGF0aCIsImluaXRFdmVudCIsIl90eXBlIiwiX2J1YmJsZXMiLCJfY2FuY2VsYWJsZSIsIkVycm9yIiwiaW5pdFVJRXZlbnQiLCJfdHlwZUFyZyIsIl9idWJibGVzQXJnIiwiX2NhbmNlbGFibGVBcmciLCJfdmlld0FyZyIsIl9kZXRhaWxBcmciLCJwcmV2ZW50RGVmYXVsdCIsIm5hdGl2ZUV2ZW50IiwiRXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJhcHBsZUlwaG9uZSIsImFwcGxlSXBvZCIsImFwcGxlVGFibGV0IiwiYXBwbGVVbml2ZXJzYWwiLCJhbmRyb2lkUGhvbmUiLCJhbmRyb2lkVGFibGV0IiwiYW1hem9uUGhvbmUiLCJhbWF6b25UYWJsZXQiLCJ3aW5kb3dzUGhvbmUiLCJ3aW5kb3dzVGFibGV0Iiwib3RoZXJCbGFja0JlcnJ5Iiwib3RoZXJCbGFja0JlcnJ5MTAiLCJvdGhlck9wZXJhIiwib3RoZXJDaHJvbWUiLCJvdGhlckZpcmVmb3giLCJpc0FwcGxlVGFibGV0T25Jb3MxMyIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJNU1N0cmVhbSIsImlzTW9iaWxlIiwicGFyYW0iLCJuYXYiLCJ1c2VyQWdlbnQiLCJ0bXAiLCJzcGxpdCIsIm1hdGNoIiwicmVnZXgiLCJ0ZXN0IiwiY3JlYXRlTWF0Y2giLCJyZXN1bHQiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsInVuaXZlcnNhbCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiZ2xvYmFsVGhpcyIsIkFjY2Vzc2liaWxpdHlTeXN0ZW0iLCJyZW5kZXJlciIsIl9tb2JpbGVJbmZvIiwiZGVidWciLCJfaXNBY3RpdmUiLCJfaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiX3Bvb2wiLCJfcmVuZGVySWQiLCJfY2hpbGRyZW4iLCJfYW5kcm9pZFVwZGF0ZUNvdW50IiwiX2FuZHJvaWRVcGRhdGVGcmVxdWVuY3kiLCJfaG9va0RpdiIsIl9jcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiekluZGV4IiwidG9TdHJpbmciLCJfZGl2IiwiX3JlbmRlcmVyIiwiX29uS2V5RG93biIsImJpbmQiLCJfb25Nb3VzZU1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJob29rRGl2IiwiYmFja2dyb3VuZENvbG9yIiwidGl0bGUiLCJfYWN0aXZhdGUiLCJfZGVzdHJveVRvdWNoSG9vayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJ1bm5lcnMiLCJwb3N0cmVuZGVyIiwiYWRkIiwidmlldyIsImNhbnZhcyIsInBhcmVudE5vZGUiLCJfZGVhY3RpdmF0ZSIsInJlbW92ZSIsIl91cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImNvbnRhaW5lciIsInZpc2libGUiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJhY2Nlc3NpYmxlIiwiaXNJbnRlcmFjdGl2ZSIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FkZENoaWxkIiwiY2hpbGRyZW4iLCJpIiwiaW5pdCIsIm9wdGlvbnMiLCJub3ciLCJwZXJmb3JtYW5jZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwibGFzdE9iamVjdFJlbmRlcmVkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld1dpZHRoIiwidmlld0hlaWdodCIsInJlc29sdXRpb24iLCJzeCIsInN5IiwiY2hpbGQiLCJyZW1vdmVJdGVtcyIsIl9hY2Nlc3NpYmxlRGl2IiwicHVzaCIsImhpdEFyZWEiLCJ3dCIsIndvcmxkVHJhbnNmb3JtIiwidHgiLCJhIiwidHkiLCJkIiwiZ2V0Qm91bmRzIiwicmVjdGFuZ2xlIiwiX2NhcEhpdEFyZWEiLCJhY2Nlc3NpYmxlVGl0bGUiLCJnZXRBdHRyaWJ1dGUiLCJhY2Nlc3NpYmxlSGludCIsInNldEF0dHJpYnV0ZSIsInRhYkluZGV4IiwiX3VwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsInR5cGUiLCJwb3AiLCJib3JkZXJTdHlsZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJwb2ludGVyRXZlbnRzIiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlVHlwZSIsIl9kaXNwYXRjaEV2ZW50IiwiZSIsImJvdW5kYXJ5IiwiZXZlbnRzIiwicm9vdEJvdW5kYXJ5IiwiZXZlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJyb290VGFyZ2V0IiwiZm9yRWFjaCIsInR5cGUyIiwiZGlzcGF0Y2hFdmVudCIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJkZXN0cm95IiwiZXh0ZW5zaW9uIiwiV2ViR0xTeXN0ZW0iLCJXZWJHUFVTeXN0ZW0iLCJuYW1lIiwiQ29udGFpbmVyIiwibWl4aW4iLCJFdmVudHNUaWNrZXIiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIl9kZWx0YVRpbWUiLCJfZGlkTW92ZSIsIl90aWNrZXJBZGRlZCIsIl9wYXVzZVVwZGF0ZSIsInJlbW92ZVRpY2tlckxpc3RlbmVyIiwicGF1c2VVcGRhdGUiLCJwYXVzZWQiLCJhZGRUaWNrZXJMaXN0ZW5lciIsImRvbUVsZW1lbnQiLCJUaWNrZXIiLCJzeXN0ZW0iLCJfdGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJwb2ludGVyTW92ZWQiLCJfdXBkYXRlIiwicm9vdFBvaW50ZXJFdmVudCIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJwb2ludGVyVHlwZSIsIlBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwicG9pbnRlcklkIiwidGlja2VyIiwiZGVsdGFUaW1lIiwiRmVkZXJhdGVkTW91c2VFdmVudCIsInN1cGVyIiwiYXJndW1lbnRzIiwiY2xpZW50IiwibW92ZW1lbnQiLCJvZmZzZXQiLCJnbG9iYWwiLCJzY3JlZW4iLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwic2NyZWVuWCIsInNjcmVlblkiLCJnZXRMb2NhbFBvc2l0aW9uIiwicG9pbnQiLCJnbG9iYWxQb3MiLCJhcHBseUludmVyc2UiLCJnZXRNb2RpZmllclN0YXRlIiwia2V5IiwiaW5pdE1vdXNlRXZlbnQiLCJfY2FuQnViYmxlQXJnIiwiX3NjcmVlblhBcmciLCJfc2NyZWVuWUFyZyIsIl9jbGllbnRYQXJnIiwiX2NsaWVudFlBcmciLCJfY3RybEtleUFyZyIsIl9hbHRLZXlBcmciLCJfc2hpZnRLZXlBcmciLCJfbWV0YUtleUFyZyIsIl9idXR0b25BcmciLCJfcmVsYXRlZFRhcmdldEFyZyIsIkZlZGVyYXRlZFBvaW50ZXJFdmVudCIsImlzUHJpbWFyeSIsImdldENvYWxlc2NlZEV2ZW50cyIsImdldFByZWRpY3RlZEV2ZW50cyIsIkZlZGVyYXRlZFdoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsIkRPTV9ERUxUQV9QQUdFIiwidGVtcEhpdExvY2F0aW9uIiwidGVtcExvY2FsTWFwcGluZyIsIkV2ZW50Qm91bmRhcnkiLCJkaXNwYXRjaCIsIm1vdmVPbkFsbCIsImVuYWJsZUdsb2JhbE1vdmVFdmVudHMiLCJtYXBwaW5nU3RhdGUiLCJ0cmFja2luZ0RhdGEiLCJldmVudFBvb2wiLCJNYXAiLCJfYWxsSW50ZXJhY3RpdmVFbGVtZW50cyIsIl9oaXRFbGVtZW50cyIsIl9pc1BvaW50ZXJNb3ZlRXZlbnQiLCJoaXRQcnVuZUZuIiwiaGl0VGVzdEZuIiwibWFwUG9pbnRlckRvd24iLCJtYXBQb2ludGVyTW92ZSIsIm1hcFBvaW50ZXJPdXQiLCJtYXBQb2ludGVyT3ZlciIsIm1hcFBvaW50ZXJVcCIsIm1hcFBvaW50ZXJVcE91dHNpZGUiLCJtYXBXaGVlbCIsIm1hcHBpbmdUYWJsZSIsImFkZEV2ZW50TWFwcGluZyIsImZuIiwicHJpb3JpdHkiLCJzb3J0IiwiYiIsInByb3BhZ2F0ZSIsImVtaXQiLCJtYXBFdmVudCIsIm1hcHBlcnMiLCJqIiwid2FybiIsImhpdFRlc3QiLCJpbnZlcnRlZFBhdGgiLCJldmVudE1vZGUiLCJzZXQiLCJjdXJyZW50VGFyZ2V0Iiwibm90aWZ5VGFyZ2V0IiwiYWxsIiwidGFyZ2V0cyIsIkFycmF5IiwiaXNBcnJheSIsInBhcmVudCIsInJldmVyc2UiLCJoaXRUZXN0TW92ZVJlY3Vyc2l2ZSIsImxvY2F0aW9uIiwidGVzdEZuIiwicHJ1bmVGbiIsImlnbm9yZSIsInNob3VsZFJldHVybiIsIl9pbnRlcmFjdGl2ZVBydW5lIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIm5lc3RlZEhpdCIsIl9pc0ludGVyYWN0aXZlIiwiaXNJbnRlcmFjdGl2ZU1vZGUiLCJpc0ludGVyYWN0aXZlVGFyZ2V0IiwiaGl0VGVzdFJlY3Vyc2l2ZSIsInJlbGF0aXZlTG9jYXRpb24iLCJpbnQiLCJyZW5kZXJhYmxlIiwiaW5jbHVkZUluQnVpbGQiLCJtZWFzdXJhYmxlIiwiY29udGFpbnMiLCJlZmZlY3RzIiwiZWZmZWN0IiwiY29udGFpbnNQb2ludCIsImhhbmRsZXJLZXkiLCJfbm90aWZ5TGlzdGVuZXJzIiwiZnJvbSIsImNyZWF0ZVBvaW50ZXJFdmVudCIsImlzUmlnaHRCdXR0b24iLCJidXR0b24iLCJwcmVzc1RhcmdldHNCeUJ1dHRvbiIsImZyZWVFdmVudCIsImlzTW91c2UiLCJvdXRUYXJnZXQiLCJmaW5kTW91bnRlZFRhcmdldCIsIm92ZXJUYXJnZXRzIiwib3V0VHlwZSIsIm91dEV2ZW50IiwibGVhdmVFdmVudCIsIm92ZXJUeXBlIiwib3ZlckV2ZW50IiwiY2xvbmVQb2ludGVyRXZlbnQiLCJvdmVyVGFyZ2V0QW5jZXN0b3IiLCJlbnRlckV2ZW50IiwiYWxsTWV0aG9kcyIsImFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyIsInNwbGljZSIsImN1cnNvciIsInByZXNzVGFyZ2V0IiwiY2xpY2tUYXJnZXQiLCJjbGlja0V2ZW50IiwiY2xpY2tzQnlCdXR0b24iLCJjbGlja0NvdW50IiwidGltZVN0YW1wIiwiY2xpY2tIaXN0b3J5IiwiZGV0YWlsIiwid2hlZWxFdmVudCIsImNyZWF0ZVdoZWVsRXZlbnQiLCJhbGxvY2F0ZUV2ZW50IiwiY29weVBvaW50ZXJEYXRhIiwiY29weU1vdXNlRGF0YSIsImNvcHlEYXRhIiwib3JpZ2luYWxFdmVudCIsImNvcHlXaGVlbERhdGEiLCJzbGljZSIsInRvIiwiZGVsdGFNb2RlIiwiZGVsdGFYIiwiZGVsdGFZIiwiZGVsdGFaIiwicHJlc3N1cmUiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwidHdpc3QiLCJhbHRLZXkiLCJidXR0b25zIiwiY29weUZyb20iLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5IiwiaXNUcnVzdGVkIiwic3JjRWxlbWVudCIsIndoaWNoIiwiaWQiLCJvdmVyVGFyZ2V0IiwiaGFzIiwiZ2V0IiwibGlzdGVuZXJzIiwiX2V2ZW50cyIsIm9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsImNhbGwiLCJjb250ZXh0IiwiVE9VQ0hfVE9fUE9JTlRFUiIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNoZW5kb3V0c2lkZSIsInRvdWNobW92ZSIsInRvdWNoY2FuY2VsIiwiX0V2ZW50U3lzdGVtIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiX2V2ZW50c0FkZGVkIiwiX3Jvb3RQb2ludGVyRXZlbnQiLCJfcm9vdFdoZWVsRXZlbnQiLCJjdXJzb3JTdHlsZXMiLCJkZWZhdWx0IiwicG9pbnRlciIsImZlYXR1cmVzIiwiUHJveHkiLCJkZWZhdWx0RXZlbnRGZWF0dXJlcyIsInZhbHVlIiwiX29uUG9pbnRlckRvd24iLCJfb25Qb2ludGVyTW92ZSIsIl9vblBvaW50ZXJVcCIsIl9vblBvaW50ZXJPdmVyT3V0Iiwib25XaGVlbCIsImRlZmF1bHRFdmVudE1vZGUiLCJfZGVmYXVsdEV2ZW50TW9kZSIsInNldFRhcmdldEVsZW1lbnQiLCJldmVudEZlYXR1cmVzIiwiZ2xvYmFsTW92ZSIsInJlc29sdXRpb25DaGFuZ2UiLCJfY3VycmVudEN1cnNvciIsInNldEN1cnNvciIsIm1vZGUiLCJhcHBseVN0eWxlcyIsIk9mZnNjcmVlbkNhbnZhcyIsImhhc093blByb3BlcnR5IiwiY2xpY2siLCJfbm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsIm5hdGl2ZUV2ZW50MiIsImZlZGVyYXRlZEV2ZW50IiwiX2Jvb3RzdHJhcEV2ZW50IiwibW92ZSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJvdXRzaWRlIiwid2hlZWwiLCJub3JtYWxpemVXaGVlbEV2ZW50IiwiZWxlbWVudCIsIl9yZW1vdmVFdmVudHMiLCJfYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsIm1zQ29udGVudFpvb21pbmciLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJwYXNzaXZlIiwiY2FwdHVyZSIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInJlY3QiLCJpc0Nvbm5lY3RlZCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwiVG91Y2hFdmVudCIsImxpIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaCIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImlkZW50aWZpZXIiLCJmb3JjZSIsIk1vdXNlRXZlbnQiLCJ0ZW1wRXZlbnQiLCJfdHJhbnNmZXJNb3VzZURhdGEiLCJzdGFydHNXaXRoIiwicmVwbGFjZSIsInJlbGF0ZWRUYXJnZXQiLCJDYW52YXNTeXN0ZW0iLCJFdmVudFN5c3RlbSIsIkZlZGVyYXRlZENvbnRhaW5lciIsIm9uY2xpY2siLCJvbm1vdXNlZG93biIsIm9ubW91c2VlbnRlciIsIm9ubW91c2VsZWF2ZSIsIm9ubW91c2Vtb3ZlIiwib25nbG9iYWxtb3VzZW1vdmUiLCJvbm1vdXNlb3V0Iiwib25tb3VzZW92ZXIiLCJvbm1vdXNldXAiLCJvbm1vdXNldXBvdXRzaWRlIiwib25wb2ludGVyY2FuY2VsIiwib25wb2ludGVyZG93biIsIm9ucG9pbnRlcmVudGVyIiwib25wb2ludGVybGVhdmUiLCJvbnBvaW50ZXJtb3ZlIiwib25nbG9iYWxwb2ludGVybW92ZSIsIm9ucG9pbnRlcm91dCIsIm9ucG9pbnRlcm92ZXIiLCJvbnBvaW50ZXJ0YXAiLCJvbnBvaW50ZXJ1cCIsIm9ucG9pbnRlcnVwb3V0c2lkZSIsIm9ucmlnaHRjbGljayIsIm9ucmlnaHRkb3duIiwib25yaWdodHVwIiwib25yaWdodHVwb3V0c2lkZSIsIm9udGFwIiwib250b3VjaGNhbmNlbCIsIm9udG91Y2hlbmQiLCJvbnRvdWNoZW5kb3V0c2lkZSIsIm9udG91Y2htb3ZlIiwib25nbG9iYWx0b3VjaG1vdmUiLCJvbnRvdWNoc3RhcnQiLCJvbndoZWVsIiwiaW50ZXJhY3RpdmUiLCJfaW50ZXJuYWxFdmVudE1vZGUiLCJsaXN0ZW5lciIsInNpZ25hbCIsImxpc3RlbmVyRm4iLCJoYW5kbGVFdmVudCIsImVtaXR0ZXIiLCJvZmYiLCJvbiJdLCJzb3VyY2VSb290IjoiIn0=