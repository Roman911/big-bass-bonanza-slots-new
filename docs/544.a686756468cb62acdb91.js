"use strict";(self.webpackChunkbig_bass_bonanza_slots=self.webpackChunkbig_bass_bonanza_slots||[]).push([[544],{2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>s,mA:()=>i});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},s={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},i={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},3391:(e,t,r)=>{r.d(t,{R:()=>n,m:()=>s});const n={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n         \n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},s={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n         \n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},7084:(e,t,r)=>{r.d(t,{q:()=>i});var n=r(268),s=r(8306);function i(e,t){for(const r in e.attributes){const s=e.attributes[r],i=t[r];i?(s.format??(s.format=i.format),s.offset??(s.offset=i.offset),s.instance??(s.instance=i.instance)):(0,n.R)(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}!function(e){const{buffers:t,attributes:r}=e,n={},i={};for(const e in t){const r=t[e];n[r.uid]=0,i[r.uid]=0}for(const e in r){const t=r[e];n[t.buffer.uid]+=(0,s.m)(t.format).stride}for(const e in r){const t=r[e];t.stride??(t.stride=n[t.buffer.uid]),t.start??(t.start=i[t.buffer.uid]),i[t.buffer.uid]+=(0,s.m)(t.format).stride}}(e)}},1172:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(1957);const s=[];s[n.K.NONE]=void 0,s[n.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},s[n.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},s[n.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},s[n.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}}},581:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(8875),s=r(133);class i extends n.A{constructor({buffer:e,offset:t,size:r}){super(),this.uid=(0,s.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,s.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=0|t,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,s.L)("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},279:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(133),s=r(6932),i=r(4492);const a=class e{constructor(t={}){if(this.uid=(0,n.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...e.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"==typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map((e=>e.source))];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof i.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,n=!1){this.dirtyId++,this.colorTextures.forEach(((s,i)=>{n&&0===i||s.source.resize(e,t,r)})),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach((e=>{e.destroy()})),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};a.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let o=a},7238:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(9313),s=r(9252),i=r(1257),a=r(7729),o=r(4884),u=r(6932),d=r(4492),l=r(8725),c=r(279);class h{constructor(e){this.rootViewPort=new s.M,this.viewport=new s.M,this.onRenderTargetChange=new a.C("onRenderTargetChange"),this.projectionMatrix=new n.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:n}){this._renderTargetStack.length=0,this.push(e,t,r,n),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=function(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(e,t=!0,r,n){const s=this.getRenderTarget(e),i=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const a=this.getGpuRenderTarget(s);s.pixelWidth===a.width&&s.pixelHeight===a.height||(this.adaptor.resizeGpuRenderTarget(s),a.width=s.pixelWidth,a.height=s.pixelHeight);const o=s.colorTexture,u=this.viewport,l=o.pixelWidth,c=o.pixelHeight;if(!n&&e instanceof d.g&&(n=e.frame),n){const e=o._resolution;u.x=n.x*e+.5|0,u.y=n.y*e+.5|0,u.width=n.width*e+.5|0,u.height=n.height*e+.5|0}else u.x=0,u.y=0,u.width=l,u.height=c;return function(e,t,r,n,s,i){const a=i?1:-1;e.identity(),e.a=1/n*2,e.d=a*(1/s*2),e.tx=-1-0*e.a,e.ty=-a-0*e.d}(this.projectionMatrix,0,0,u.width/o.resolution,u.height/o.resolution,!s.isRoot),this.adaptor.startRenderPass(s,t,r,u),i&&this.onRenderTargetChange.emit(s),s}clear(e,t=i.u.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=i.u.ALL,r,n){const s=this.bind(e,t,r,n);return this._renderTargetStack.push({renderTarget:s,frame:n}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,n,s){r.x<0&&(n.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(n.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:i,pixelHeight:a}=e;return n.width=Math.min(n.width,i-r.x),n.height=Math.min(n.height,a-r.y),this.adaptor.copyToTexture(e,t,r,n,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach(((e,t)=>{e!==t&&e.destroy()})),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return o.q.test(e)&&(e=(0,l.c)(e).source),e instanceof c.O?t=e:e instanceof u.v&&(t=new c.O({colorTextures:[e]}),o.q.test(e.source.resource)&&(t.isRoot=!0),e.once("destroy",(()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))}))),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}}},7047:(e,t,r)=>{r.d(t,{W:()=>a});var n=r(4577),s=r(949),i=r(1132);class a{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,n.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(t.layout.size/4),usage:i.S.UNIFORM|i.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const n=Object.keys(e.uniformStructures).map((t=>e.uniformStructures[t])),s=this._adaptor.createUboElements(n),i=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[t]={layout:s,syncFunction:i}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const n=this.getUniformGroupData(e);return e.buffer||(e.buffer=new s.h({data:new Float32Array(n.layout.size/4),usage:i.S.UNIFORM|i.S.COPY_DST})),t||(t=e.buffer.data),r||(r=0),n.syncFunction(e.uniforms,t,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},6423:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(8166);function s(e,t,r,s){const i=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let a=0;for(let o=0;o<e.length;o++){const u=e[o],d=u.data.name;let l=!1,c=0;for(let e=0;e<n.$.length;e++)if(n.$[e].test(u.data)){c=u.offset/4,i.push(`name = "${d}";`,`offset += ${c-a};`,n.$[e][t]||n.$[e].ubo),l=!0;break}if(!l)if(u.data.size>1)c=u.offset/4,i.push(r(u,c-a));else{const e=s[u.data.type];c=u.offset/4,i.push(`\n                    v = uv.${d};\n                    offset += ${c-a};\n                    ${e};\n                `)}a=c}const o=i.join("\n");return new Function("uv","data","offset",o)}},1266:(e,t,r)=>{function n(e,t){return`\n        for (let i = 0; i < ${e*t}; i++) {\n            data[offset + (((i / ${e})|0) * 4) + (i % ${e})] = v[i];\n        }\n    `}r.d(t,{_:()=>i,g:()=>s});const s={f32:"\n        data[offset] = v;",i32:"\n        data[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":n(3,2),"mat4x2<f32>":n(4,2),"mat2x3<f32>":n(2,3),"mat4x3<f32>":n(4,3),"mat2x4<f32>":n(2,4),"mat3x4<f32>":n(3,4)},i={...s,"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "}},8166:(e,t,r)=>{r.d(t,{$:()=>n});const n=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},3314:(e,t,r)=>{r.d(t,{f:()=>ze,i:()=>Fe});var n=r(8507);class s{constructor(e){this._renderer=e}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}function i(e,t){const r=e.instructionSet,n=r.instructions;for(let e=0;e<r.instructionSize;e++){const r=n[e];t[r.renderPipeId].execute(r)}}s.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"customRender"};class a{constructor(e){this._renderer=e}addRenderGroup(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&(this._renderer.globalUniforms.push({worldTransformMatrix:e.worldTransform,worldColor:e.worldColorAlpha}),i(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop())}destroy(){this._renderer=null}}a.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"renderGroup"};var o=r(9313);function u(e,t){const r=e.root,n=e.instructionSet;n.reset();const s=t.renderPipes?t:t.batch.renderer,i=s.renderPipes;i.batch.buildStart(n),i.blendMode.buildStart(),i.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),l(r,n,s,!0),i.batch.buildEnd(n),i.blendMode.buildEnd(n)}function d(e,t,r){const n=r.renderPipes?r:r.batch.renderer;e.globalDisplayStatus<7||!e.includeInBuild||(e.sortableChildren&&e.sortChildren(),e.isSimple?function(e,t,r){if(e.renderPipeId){const{renderPipes:n,renderableGC:s}=r;n.blendMode.setBlendMode(e,e.groupBlendMode,t),e.didViewUpdate=!1,n[e.renderPipeId].addRenderable(e,t),s.addRenderable(e,t)}if(!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)d(n[e],t,r)}}(e,t,n):l(e,t,n,!1))}function l(e,t,r,n){const{renderPipes:s,renderableGC:i}=r;if(!n&&e.renderGroup)s.renderGroup.addRenderGroup(e.renderGroup,t);else{for(let r=0;r<e.effects.length;r++){const n=e.effects[r];s[n.pipe].push(n,e,t)}const n=e.renderPipeId;n&&(s.blendMode.setBlendMode(e,e.groupBlendMode,t),e.didViewUpdate=!1,s[n].addRenderable(e,t),i.addRenderable(e,t));const a=e.children;if(a.length)for(let e=0;e<a.length;e++)d(a[e],t,r);for(let r=e.effects.length-1;r>=0;r--){const n=e.effects[r];s[n.pipe].pop(n,e,t)}}}function c(e,t){t||(t=0);for(let r=t;r<e.length&&e[r];r++)e[r]=null}function h(e,t=[]){t.push(e);for(let r=0;r<e.renderGroupChildren.length;r++)h(e.renderGroupChildren[r],t);return t}var p=r(4263);const f=16777215;function m(e,t){return e===f||t===f?e+t-f:function(e,t){const r=e>>16&255,n=e>>8&255,s=255&e;return(r+.5*((t>>16&255)-r)<<16)+(n+.5*((t>>8&255)-n)<<8)+(s+.5*((255&t)-s))}(e,t)}const g=new p.mc,v=p.fR|p.ig|p.u;function x(e,t=!1){!function(e){const t=e.root;let r;if(e.renderGroupParent){const n=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),e.worldColor=m(t.groupColor,n.worldColor),r=t.groupAlpha*n.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,r=t.localAlpha;r=r<0?0:r>1?1:r,e.worldAlpha=r,e.worldColorAlpha=e.worldColor+(255*r<<24)}(e);const r=e.childrenToUpdate,n=e.updateTick++;for(const t in r){const s=Number(t),i=r[t],a=i.list,o=i.index;for(let t=0;t<o;t++){const r=a[t];r.parentRenderGroup===e&&r.relativeRenderGroupDepth===s&&_(r,n,0)}c(a,o),i.index=0}if(t)for(let r=0;r<e.renderGroupChildren.length;r++)x(e.renderGroupChildren[r],t)}function _(e,t,r){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const n=e.localTransform;e.updateLocalTransform();const s=e.parent;if(s&&!s.renderGroup?(r|=e._updateFlags,e.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),r&v&&b(e,s,r)):(r=e._updateFlags,e.relativeGroupTransform.copyFrom(n),r&v&&b(e,g,r)),!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)_(n[e],t,r);const i=e.parentRenderGroup;e.renderPipeId&&!i.structureDidChange&&i.updateRenderable(e)}}function b(e,t,r){if(r&p.ig){e.groupColor=m(e.localColor,t.groupColor);let r=e.localAlpha*t.groupAlpha;r=r<0?0:r>1?1:r,e.groupAlpha=r,e.groupColorAlpha=e.groupColor+(255*r<<24)}r&p.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),r&p.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}function y(e,t){const{list:r,index:n}=e.childrenRenderablesToUpdate;let s=!1;for(let e=0;e<n;e++){const n=r[e];if(s=t[n.renderPipeId].validateRenderable(n),s)break}return e.structureDidChange=s,s}const k=new o.u;class T{constructor(e){this._renderer=e}render({container:e,transform:t}){e.isRenderGroup=!0;const r=e.parent,n=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer,a=h(e.renderGroup,[]);let o=k;t&&(o=o.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const d=s.renderPipes;for(let e=0;e<a.length;e++){const t=a[e];t.runOnRender(),t.instructionSet.renderPipes=d,t.structureDidChange?c(t.childrenRenderablesToUpdate.list,0):y(t,d),x(t),t.structureDidChange?(t.structureDidChange=!1,u(t,s)):S(t),t.childrenRenderablesToUpdate.index=0,s.renderPipes.batch.upload(t.instructionSet)}s.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),i(e.renderGroup,d),d.uniformBatch&&d.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(o),e.parent=r,e.renderGroup.renderGroupParent=n}destroy(){this._renderer=null}}function S(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const r=t[n];r.didViewUpdate&&e.updateRenderable(r)}c(t,r)}T.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"renderGroup"};var C=r(8218),M=r(8422);class w{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=e._texture,r=this._getGpuSprite(e);return r.texture._source!==t._source&&!r._batcher.checkAndUpdateTexture(r,t)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];C.Z.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){e._didSpriteUpdate=!1,t.bounds=e.bounds,t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=C.Z.get(M.K);return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.bounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e._didSpriteUpdate=!1,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)C.Z.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}w.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"sprite"};var P=r(7073),G=r(7547),A=r(1798);const R=class e{constructor(e,t){this.state=G.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init?.(this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new A.J)),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const e in this._activeBatches)this._activeBatches[e].begin()}addToBatch(t,r){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(r);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const e in t){const r=t[e],n=r.geometry;n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const e in t){const r=t[e],n=r.geometry;r.dirty&&(r.dirty=!1,n.buffers[0].update(4*r.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,r=t.geometry,n=t.shader;this._adaptor.start(this,r,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};R.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"batch"},R._availableBatchers=Object.create(null);let B=R;n.XO.handleByMap(n.Ag.Batcher,B._availableBatchers),n.XO.add(A.J);var U=r(9049),I=r(9113),O=r(3012),F=r(5811),z=r(1196),D=r(6554),W="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,  \n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n};\n\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n\n  \n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n\n     var clip = step(3.5,\n        step(maskClamp.x, filterUv.x) +\n        step(maskClamp.y, filterUv.y) +\n        step(filterUv.x, maskClamp.z) +\n        step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    \n    var npmAlpha = 0.0;\n\n    var alphaMul = 1.0 - npmAlpha * (1.0 - mask.a);\n\n    var a = (alphaMul * mask.r) * clip;\n\n    return vec4(source.rgb, source.a) * a;\n}";class E extends D.d{constructor(e){const{sprite:t,...r}=e,n=new z.N(t.texture),s=new F.k({uFilterMatrix:{value:new o.u,type:"mat3x3<f32>"},uMaskClamp:{value:n.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"}});super({...r,gpuProgram:O.B.from({vertex:{source:W,entryPoint:"mainVertex"},fragment:{source:W,entryPoint:"mainFragment"}}),glProgram:I.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha; \n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * uAlpha * clip);\n\n    finalColor = original;\n}\n",name:"mask-filter"}),resources:{filterUniforms:s,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=n}apply(e,t,r,n){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,n)}}var L=r(9636),H=r(9443),V=r(6844),j=r(4492),$=r(2437),N=r(5099);const K=new L.c;class q extends U.a{constructor(){super(),this.filters=[new E({sprite:new V.k(j.g.EMPTY),resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}}class Y{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const n=this._renderer;if(n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,canBundle:!1,maskedContainer:t}),e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,d(t,r,n),t.includeInBuild=!1}n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const n=C.Z.get(q);if(r){e.mask.mask.measurable=!0;const r=(0,H.fB)(e.mask.mask,!0,K);e.mask.mask.measurable=!1,r.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,i=$.W.getOptimalTexture(r.width,r.height,s._resolution,s.antialias);t.renderTarget.push(i,!0),t.globalUniforms.push({offset:r,worldColor:4294967295});const a=n.sprite;a.texture=i,a.worldTransform.tx=r.minX,a.worldTransform.ty=r.minY,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer,filterTexture:i})}else n.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===N.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();r&&$.W.returnTexture(e.filterTexture),C.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}Y.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"alphaMask"};class Z{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;n[this._colorStackIndex]=n[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;this._colorStackIndex--;const s=n[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}Z.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"colorMask"};var J=r(1257),Q=r(1957);class X{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var n;const s=e,i=this._renderer;i.renderPipes.batch.break(r),i.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,canBundle:!1});const a=s.mask;a.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const o=this._maskHash.get(s);o.instructionsStart=r.instructionSize,d(a,r,i),a.includeInBuild=!1,i.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,canBundle:!1});const u=r.instructionSize-o.instructionsStart-1;o.instructionsLength=u;const l=i.renderTarget.renderTarget.uid;(n=this._maskStackHash)[l]??(n[l]=0)}pop(e,t,r){const n=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(n.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",canBundle:!1});const i=this._maskHash.get(e);for(let e=0;e<i.instructionsLength;e++)r.instructions[r.instructionSize++]=r.instructions[i.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,n=r.renderTarget.renderTarget.uid;let s=(t=this._maskStackHash)[n]??(t[n]=0);"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(Q.K.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(r.stencil.setStencilMode(Q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==s?r.stencil.setStencilMode(Q.K.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,J.u.STENCIL),r.stencil.setStencilMode(Q.K.DISABLED,s)),s--):"popMaskEnd"===e.action&&(r.stencil.setStencilMode(Q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[n]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}X.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"stencilMask"};var ee=r(2577);const te=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ee.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...e.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};te.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"background",priority:0},te.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let re=te;var ne=r(268);const se={};n.XO.handle(n.Ag.BlendMode,(e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");se[e.name]=e.ref}),(e=>{delete se[e.name]}));class ie{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e}setBlendMode(e,t,r){this._activeBlendMode!==t?(this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!se[t],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))):this._isAdvanced&&this._renderableList.push(e)}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!se[t])return void(0,ne.R)(`Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);let r=this._filterHash[t];r||(r=this._filterHash[t]=new U.a,r.filters=[new se[t]]);const n={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=n.renderables,e.add(n)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}ie.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"blendMode"};const ae={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},oe=class e{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof p.mc||e instanceof j.g?{target:e,...t}:{...t,...e}}async image(e){const t=new Image;return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:r,quality:n}=t,s=this.canvas(t);if(void 0!==s.toBlob)return new Promise(((e,t)=>{s.toBlob((r=>{if(!r)return void t(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}),ae[r],n)}));if(void 0!==s.toDataURL)return s.toDataURL(ae[r],n);if(void 0!==s.convertToBlob){const e=await s.convertToBlob({type:ae[r],quality:n});return new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer;if(t instanceof j.g)return r.texture.generateCanvas(t);const n=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(n);return n.destroy(),s}pixels(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer,n=t instanceof j.g?t:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(n);return t instanceof p.mc&&n.destroy(),s}texture(e){return(e=this._normalizeOptions(e)).target instanceof j.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),n=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};oe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"extract"},oe.defaultImageOptions={format:"png",quality:1};let ue=oe;var de=r(9252),le=r(7269),ce=r(6932);class he extends j.g{static create(e){return new he({source:new ce.v(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const pe=new de.M,fe=new L.c,me=[0,0,0,0];class ge{constructor(e){this._renderer=e}generateTexture(e){e instanceof p.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,n=e.target;let s=e.clearColor;s=s?Array.isArray(s)&&4===s.length?s:ee.Q.shared.setValue(s).toArray():me;const i=e.frame?.copyTo(pe)||(0,le.n)(n,fe).rectangle;i.width=0|Math.max(i.width,1/t),i.height=0|Math.max(i.height,1/t);const a=he.create({...e.textureSourceOptions,width:i.width,height:i.height,resolution:t,antialias:r}),u=o.u.shared.translate(-i.x,-i.y);return this._renderer.render({container:n,transform:u,target:a,clearColor:s}),a.source.updateMipmaps(),a}destroy(){this._renderer=null}}ge.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGenerator"};var ve=r(5101),xe=r(2760),_e=r(3513);class be{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:n,offset:s}){const i=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:i,worldTransformMatrix:new o.u,worldColor:4294967295,offset:new ve.b},u={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||i.size,worldTransformMatrix:r||a.worldTransformMatrix,worldColor:n||a.worldColor,offset:s||a.offset,bindGroup:null},d=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(d);const l=d.uniforms;let c;l.uProjectionMatrix=u.projectionMatrix,l.uResolution=u.resolution,l.uWorldTransformMatrix.copyFrom(u.worldTransformMatrix),l.uWorldTransformMatrix.tx-=u.offset.x,l.uWorldTransformMatrix.ty-=u.offset.y,(0,xe.V)(u.worldColor,l.uWorldColorAlpha,0),d.update(),this._renderer.renderPipes.uniformBatch?c=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(d,!1):(c=this._bindGroupPool.pop()||new _e.T,this._activeBindGroups.push(c),c.setResource(d,0)),u.bindGroup=c,this._currentGlobalUniformData=u}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===N.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new F.k({uProjectionMatrix:{value:new o.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new o.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}be.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"globalUniforms"};var ye=r(7309);let ke=1;class Te{constructor(){this._tasks=[]}init(){ye.R.system.add(this._update,this)}repeat(e,t){const r=ke++;return this._tasks.push({func:e,duration:t,start:performance.now(),last:performance.now(),repeat:!0,id:r}),r}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.last>=r.duration){const t=e-r.start;r.func(t),r.last=e}}}destroy(){ye.R.system.remove(this._update,this),this._tasks.length=0}}Te.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"scheduler",priority:0};var Se=r(1761),Ce=r(2571);let Me=!1;class we{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===N.W.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),function(e){if(!Me){if(Se.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${Ce.xv} (${e}) http://www.pixijs.com/\n\n`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${Ce.xv} - ${e} - http://www.pixijs.com/`);Me=!0}}(e)}}}we.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"hello",priority:-2},we.defaultOptions={hello:!1};const Pe=class e{constructor(e){this._managedRenderables=[],this._renderer=e}init(t){t={...e.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?this._handler=this._renderer.scheduler.repeat((()=>this.run()),this._frequency):this._renderer.scheduler.cancel(this._handler))}prerender(){this._now=performance.now()}addRenderable(e,t){this.enabled&&(e._lastUsed=this._now,-1===e._lastInstructionTick&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastInstructionTick=t.tick)}run(){const e=performance.now(),t=this._managedRenderables,r=this._renderer.renderPipes;let n=0;for(let s=0;s<t.length;s++){const i=t[s];if(null===i){n++;continue}const a=i.renderGroup??i.parentRenderGroup,o=a?.instructionSet?.tick??-1;i._lastInstructionTick!==o&&e-i._lastUsed>this.maxUnusedTime?(i.destroyed||r[i.renderPipeId].destroyRenderable(i),i._lastInstructionTick=-1,n++,i.off("destroyed",this._removeRenderable,this)):t[s-n]=i}t.length=t.length-n}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}};Pe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"renderableGC"},Pe.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Ge=Pe;const Ae=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){t={...e.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};Ae.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGC"},Ae.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let Re=Ae;var Be=r(4670),Ue=r(279),Ie=r(8725);const Oe=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t={...e.defaultOptions,...t}).view&&((0,Be.t6)(Be.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new de.M(0,0,t.width,t.height),this.canvas=t.canvas||Se.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,Ie.c)(this.canvas,t),this.renderTarget=new Ue.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){("boolean"==typeof e?e:e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};Oe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"view",priority:0},Oe.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};const Fe=[re,be,we,Oe,T,Re,ge,ue,P.d,Ge,Te],ze=[ie,B,w,a,Y,X,Z,s]},8725:(e,t,r)=>{r.d(t,{c:()=>a});var n=r(4884),s=r(4492);const i=new Map;function a(e,t){if(!i.has(e)){const r=new s.g({source:new n.q({resource:e,...t})}),a=()=>{i.get(e)===r&&i.delete(e)};r.once("destroy",a),r.source.once("destroy",a),i.set(e,r)}return i.get(e)}},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNuQ2pZLEVBQUk1USxNQUFvQixJQUFQNm9CLEdBQWMsSUFBTXRMLEVBQ3JDM00sRUFBSTVRLE1BQWE2b0IsR0FBUSxFQUFJLEtBQU8sSUFBTXRMLEVBQzFDM00sRUFBSTVRLE1BQWE2b0IsR0FBUSxHQUFLLEtBQU8sSUFBTXRMLEVBQzNDM00sRUFBSTVRLEtBQVl1ZCxDQUNsQixDLGtEQ1pBLE1BQU16SCxFQUNKLFdBQUF0VSxHQUNFRyxLQUFLdVYsWUFBYyxVQUVuQnZWLEtBQUs4VixjQUFnQixFQUNyQjlWLEtBQUsyVixVQUFZLEVBQ2pCM1YsS0FBS21uQixZQUFhLEVBQ2xCbm5CLEtBQUtzVSxZQUFjLEVBQ25CdFUsS0FBS29uQixnQkFBa0IsRUFFdkJwbkIsS0FBSzBULFNBQVcsS0FDaEIxVCxLQUFLcW5CLE9BQVMsSUFDaEIsQ0FDQSxhQUFJM1osR0FDRixPQUFPMU4sS0FBS29VLFdBQVc5RixjQUN6QixDQUNBLFNBQUlxTixHQUNGLE9BQU8zYixLQUFLb1UsV0FBV3pDLGVBQ3pCLENBQ0EsS0FBQW5FLEdBQ0V4TixLQUFLb1UsV0FBYSxLQUNsQnBVLEtBQUs0QixRQUFVLEtBQ2Y1QixLQUFLMFQsU0FBVyxLQUNoQjFULEtBQUtxbkIsT0FBUyxLQUNkcm5CLEtBQUtpVSxPQUFTLElBQ2hCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy90ZXh0dXJlQml0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9lbnN1cmVBdHRyaWJ1dGVzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc3RhdGUvR3B1U3RlbmNpbE1vZGVzVG9QaXhpLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlclJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9SZW5kZXJUYXJnZXRTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9yZW5kZXJUYXJnZXQvaXNSZW5kZXJpbmdUb1NjcmVlbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3JlbmRlclRhcmdldC9jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1Vib1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy9jcmVhdGVVYm9TeW5jRnVuY3Rpb24ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvdXRpbHMvdWJvU3luY0Z1bmN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91bmlmb3JtUGFyc2Vycy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci9DdXN0b21SZW5kZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2J1aWxkSW5zdHJ1Y3Rpb25zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2NsZWFyTGlzdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy9jb2xsZWN0UmVuZGVyR3JvdXBzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL21peENvbG9ycy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy9taXhIZXhDb2xvcnMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvU3ByaXRlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9iYXRjaGVyL3NoYXJlZC9CYXRjaGVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9tYXNrLndnc2wubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svTWFza0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9tYXNrLnZlcnQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay5mcmFnLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL21hc2svYWxwaGEvQWxwaGFNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9tYXNrL2NvbG9yL0NvbG9yTWFza1BpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2JsZW5kTW9kZXMvQmxlbmRNb2RlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvRXh0cmFjdFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvR2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9TY2hlZHVsZXJTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9zYXlIZWxsby5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXJ0dXAvSGVsbG9TeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZUdDU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdmlldy9WaWV3U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3lzdGVtL1NoYXJlZFN5c3RlbXMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL3V0aWxzL2dldENhbnZhc1RleHR1cmUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R3JvdXAyID0ge1xuICAuLi5sb2NhbFVuaWZvcm1CaXQsXG4gIHZlcnRleDoge1xuICAgIC4uLmxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXgsXG4gICAgLy8gcmVwbGFjZSB0aGUgZ3JvdXAhXG4gICAgaGVhZGVyOiBsb2NhbFVuaWZvcm1CaXQudmVydGV4LmhlYWRlci5yZXBsYWNlKFwiZ3JvdXAoMSlcIiwgXCJncm91cCgyKVwiKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggPSB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKHVSb3VuZCA9PSAxLilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wsIGxvY2FsVW5pZm9ybUJpdEdyb3VwMiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxVbmlmb3JtQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdGV4dHVyZUJpdCA9IHtcbiAgbmFtZTogXCJ0ZXh0dXJlLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICBzdHJ1Y3QgVGV4dHVyZVVuaWZvcm1zIHtcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICB9XG5cbiAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDIpIHZhcjx1bmlmb3JtPiB0ZXh0dXJlVW5pZm9ybXMgOiBUZXh0dXJlVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHRleHR1cmVVbmlmb3Jtcy51VGV4dHVyZU1hdHJpeCAqIHZlYzModXYsIDEuMCkpLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDEpIHZhciB1U2FtcGxlcjogc2FtcGxlcjtcblxuICAgICAgICAgXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIG91dENvbG9yID0gdGV4dHVyZVNhbXBsZSh1VGV4dHVyZSwgdVNhbXBsZXIsIHZVVik7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCB0ZXh0dXJlQml0R2wgPSB7XG4gIG5hbWU6IFwidGV4dHVyZS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyh1diwgMS4wKSkueHk7XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuXG4gICAgICAgICBcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVUZXh0dXJlLCB2VVYpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyB0ZXh0dXJlQml0LCB0ZXh0dXJlQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmVCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBlbnN1cmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBleHRyYWN0ZWREYXRhKSB7XG4gIGZvciAoY29uc3QgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICBjb25zdCBhdHRyaWJ1dGVEYXRhID0gZXh0cmFjdGVkRGF0YVtpXTtcbiAgICBpZiAoYXR0cmlidXRlRGF0YSkge1xuICAgICAgYXR0cmlidXRlLmZvcm1hdCA/PyAoYXR0cmlidXRlLmZvcm1hdCA9IGF0dHJpYnV0ZURhdGEuZm9ybWF0KTtcbiAgICAgIGF0dHJpYnV0ZS5vZmZzZXQgPz8gKGF0dHJpYnV0ZS5vZmZzZXQgPSBhdHRyaWJ1dGVEYXRhLm9mZnNldCk7XG4gICAgICBhdHRyaWJ1dGUuaW5zdGFuY2UgPz8gKGF0dHJpYnV0ZS5pbnN0YW5jZSA9IGF0dHJpYnV0ZURhdGEuaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBBdHRyaWJ1dGUgJHtpfSBpcyBub3QgcHJlc2VudCBpbiB0aGUgc2hhZGVyLCBidXQgaXMgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkuIFVuYWJsZSB0byBpbmZlciBhdHRyaWJ1dGUgZGV0YWlscy5gKTtcbiAgICB9XG4gIH1cbiAgZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpO1xufVxuZnVuY3Rpb24gZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpIHtcbiAgY29uc3QgeyBidWZmZXJzLCBhdHRyaWJ1dGVzIH0gPSBnZW9tZXRyeTtcbiAgY29uc3QgdGVtcFN0cmlkZSA9IHt9O1xuICBjb25zdCB0ZW1wU3RhcnQgPSB7fTtcbiAgZm9yIChjb25zdCBqIGluIGJ1ZmZlcnMpIHtcbiAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2pdO1xuICAgIHRlbXBTdHJpZGVbYnVmZmVyLnVpZF0gPSAwO1xuICAgIHRlbXBTdGFydFtidWZmZXIudWlkXSA9IDA7XG4gIH1cbiAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdICs9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGF0dHJpYnV0ZS5mb3JtYXQpLnN0cmlkZTtcbiAgfVxuICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgYXR0cmlidXRlLnN0cmlkZSA/PyAoYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdKTtcbiAgICBhdHRyaWJ1dGUuc3RhcnQgPz8gKGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0pO1xuICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0gKz0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQoYXR0cmlidXRlLmZvcm1hdCkuc3RyaWRlO1xuICB9XG59XG5cbmV4cG9ydCB7IGVuc3VyZUF0dHJpYnV0ZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuc3VyZUF0dHJpYnV0ZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgU1RFTkNJTF9NT0RFUyB9IGZyb20gJy4uLy4uL3NoYXJlZC9zdGF0ZS9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IEdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSA9IFtdO1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuTk9ORV0gPSB2b2lkIDA7XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5ESVNBQkxFRF0gPSB7XG4gIHN0ZW5jaWxXcml0ZU1hc2s6IDAsXG4gIHN0ZW5jaWxSZWFkTWFzazogMFxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX0FERF0gPSB7XG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiaW5jcmVtZW50LWNsYW1wXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImluY3JlbWVudC1jbGFtcFwiXG4gIH1cbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19SRU1PVkVdID0ge1xuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImRlY3JlbWVudC1jbGFtcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJkZWNyZW1lbnQtY2xhbXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkVdID0ge1xuICBzdGVuY2lsV3JpdGVNYXNrOiAwLFxuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwia2VlcFwiXG4gIH1cbn07XG5cbmV4cG9ydCB7IEdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1U3RlbmNpbE1vZGVzVG9QaXhpLm1qcy5tYXBcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kYXRhL3VpZC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJ1ZmZlclJlc291cmNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBCdWZmZXIgUmVzb3VyY2UuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBidWZmZXIgcmVzb3VyY2VcbiAgICogQHBhcmFtIG9wdGlvbnMuYnVmZmVyIC0gVGhlIHVuZGVybHlpbmcgYnVmZmVyIHRoYXQgdGhpcyByZXNvdXJjZSBpcyB1c2luZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgLSBUaGUgb2Zmc2V0IG9mIHRoZSBidWZmZXIgdGhpcyByZXNvdXJjZSBpcyB1c2luZy5cbiAgICogSWYgbm90IHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgdXNlIHRoZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnMuc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgdGhpcyByZXNvdXJjZSBpcyB1c2luZy5cbiAgICogSWYgbm90IHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgdXNlIHRoZSBzaXplIG9mIHRoZSBidWZmZXIuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGJ1ZmZlciwgb2Zmc2V0LCBzaXplIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIGVtaXRzIHdoZW4gdGhlIHVuZGVybHlpbmcgYnVmZmVyIGhhcyBjaGFuZ2VkIHNoYXBlIChpLmUuIHJlc2l6ZWQpXG4gICAgICogbGV0dGluZyB0aGUgcmVuZGVyZXIga25vdyB0aGF0IGl0IG5lZWRzIHRvIGRpc2NhcmQgdGhlIG9sZCBidWZmZXIgb24gdGhlIEdQVSBhbmQgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAqIEBldmVudCBjaGFuZ2VcbiAgICAgKi9cbiAgICAvKiogYSB1bmlxdWUgaWQgZm9yIHRoaXMgdW5pZm9ybSBncm91cCB1c2VkIHRocm91Z2ggdGhlIHJlbmRlcmVyICovXG4gICAgdGhpcy51aWQgPSB1aWQoXCJidWZmZXJcIik7XG4gICAgLyoqXG4gICAgICogYSByZXNvdXJjZSB0eXBlLCB1c2VkIHRvIGlkZW50aWZ5IGhvdyB0byBoYW5kbGUgaXQgd2hlbiBpdHMgaW4gYSBiaW5kIGdyb3VwIC8gc2hhZGVyIHJlc291cmNlXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3Jlc291cmNlVHlwZSA9IFwiYnVmZmVyUmVzb3VyY2VcIjtcbiAgICAvKipcbiAgICAgKiB1c2VkIGludGVybmFsbHkgdG8ga25vdyBpZiBhIHVuaWZvcm0gZ3JvdXAgd2FzIHVzZWQgaW4gdGhlIGxhc3QgcmVuZGVyIHBhc3NcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fdG91Y2hlZCA9IDA7XG4gICAgLyoqXG4gICAgICogdGhlIHJlc291cmNlIGlkIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcmVuZGVyZXIgdG8gYnVpbGQgYmluZCBncm91cCBrZXlzXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3Jlc291cmNlSWQgPSB1aWQoXCJyZXNvdXJjZVwiKTtcbiAgICAvKipcbiAgICAgKiBBIGNoZWVreSBoaW50IHRvIHRoZSBHTCByZW5kZXJlciB0byBsZXQgaXQga25vdyB0aGlzIGlzIGEgQnVmZmVyUmVzb3VyY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fYnVmZmVyUmVzb3VyY2UgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEhhcyB0aGUgQnVmZmVyIHJlc291cmNlIGJlZW4gZGVzdHJveWVkP1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQgfCAwO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5idWZmZXIub24oXCJjaGFuZ2VcIiwgdGhpcy5vbkJ1ZmZlckNoYW5nZSwgdGhpcyk7XG4gIH1cbiAgb25CdWZmZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyByZXNvdXJjZS4gTWFrZSBzdXJlIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlciBpcyBub3QgdXNlZCBhbnl3aGVyZSBlbHNlXG4gICAqIGlmIHlvdSB3YW50IHRvIGRlc3Ryb3kgaXQgYXMgd2VsbCwgb3IgY29kZSB3aWxsIGV4cGxvZGVcbiAgICogQHBhcmFtIGRlc3Ryb3lCdWZmZXIgLSBTaG91bGQgdGhlIHVuZGVybHlpbmcgYnVmZmVyIGJlIGRlc3Ryb3llZCBhcyB3ZWxsP1xuICAgKi9cbiAgZGVzdHJveShkZXN0cm95QnVmZmVyID0gZmFsc2UpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgaWYgKGRlc3Ryb3lCdWZmZXIpIHtcbiAgICAgIHRoaXMuYnVmZmVyLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHRoaXMpO1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBCdWZmZXJSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVmZmVyUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgdWlkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZGF0YS91aWQubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9SZW5kZXJUYXJnZXQgPSBjbGFzcyBfUmVuZGVyVGFyZ2V0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBbZGVzY3JpcHRvcl0gLSBPcHRpb25zIGZvciBjcmVhdGluZyBhIHJlbmRlciB0YXJnZXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXNjcmlwdG9yID0ge30pIHtcbiAgICAvKiogdW5pcXVlIGlkIGZvciB0aGlzIHJlbmRlciB0YXJnZXQgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcInJlbmRlclRhcmdldFwiKTtcbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB3cml0dGVuIHRvIGJ5IHRoZSBHUFUgLSBtb3N0bHkgdGhpcyBoYXMgb25lIHRleHR1cmUgaW4gUGl4aSwgYnV0IHlvdSBjb3VsZFxuICAgICAqIHdyaXRlIHRvIG11bHRpcGxlIGlmIHJlcXVpcmVkISAoZWcgZGVmZXJyZWQgbGlnaHRpbmcpXG4gICAgICovXG4gICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmlzUm9vdCA9IGZhbHNlO1xuICAgIHRoaXMuX3NpemUgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIC8qKiBpZiB0cnVlLCB0aGVuIHdoZW4gdGhlIHJlbmRlciB0YXJnZXQgaXMgZGVzdHJveWVkLCBpdCB3aWxsIGRlc3Ryb3kgYWxsIHRoZSB0ZXh0dXJlcyB0aGF0IHdlcmUgY3JlYXRlZCBmb3IgaXQuICovXG4gICAgdGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMgPSBmYWxzZTtcbiAgICBkZXNjcmlwdG9yID0geyAuLi5fUmVuZGVyVGFyZ2V0LmRlZmF1bHRPcHRpb25zLCAuLi5kZXNjcmlwdG9yIH07XG4gICAgdGhpcy5zdGVuY2lsID0gZGVzY3JpcHRvci5zdGVuY2lsO1xuICAgIHRoaXMuZGVwdGggPSBkZXNjcmlwdG9yLmRlcHRoO1xuICAgIHRoaXMuaXNSb290ID0gZGVzY3JpcHRvci5pc1Jvb3Q7XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuX21hbmFnZWRDb2xvclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3JpcHRvci5jb2xvclRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzLnB1c2goXG4gICAgICAgICAgbmV3IFRleHR1cmVTb3VyY2Uoe1xuICAgICAgICAgICAgd2lkdGg6IGRlc2NyaXB0b3Iud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGRlc2NyaXB0b3IuaGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZGVzY3JpcHRvci5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBkZXNjcmlwdG9yLmFudGlhbGlhc1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFsuLi5kZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMubWFwKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLnNvdXJjZSldO1xuICAgICAgY29uc3QgY29sb3JTb3VyY2UgPSB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICB0aGlzLnJlc2l6ZShjb2xvclNvdXJjZS53aWR0aCwgY29sb3JTb3VyY2UuaGVpZ2h0LCBjb2xvclNvdXJjZS5fcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5vbihcInJlc2l6ZVwiLCB0aGlzLm9uU291cmNlUmVzaXplLCB0aGlzKTtcbiAgICBpZiAoZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIHx8IHRoaXMuc3RlbmNpbCkge1xuICAgICAgaWYgKGRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUgfHwgZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZVNvdXJjZSkge1xuICAgICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUgPSBkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUuc291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBzaXplKCkge1xuICAgIGNvbnN0IF9zaXplID0gdGhpcy5fc2l6ZTtcbiAgICBfc2l6ZVswXSA9IHRoaXMucGl4ZWxXaWR0aDtcbiAgICBfc2l6ZVsxXSA9IHRoaXMucGl4ZWxIZWlnaHQ7XG4gICAgcmV0dXJuIF9zaXplO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLndpZHRoO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5oZWlnaHQ7XG4gIH1cbiAgZ2V0IHBpeGVsV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5waXhlbFdpZHRoO1xuICB9XG4gIGdldCBwaXhlbEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLnBpeGVsSGVpZ2h0O1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gIH1cbiAgZ2V0IGNvbG9yVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICB9XG4gIG9uU291cmNlUmVzaXplKHNvdXJjZSkge1xuICAgIHRoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwgc291cmNlLl9yZXNvbHV0aW9uLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyB3aWxsIGVuc3VyZSBhIGRlcHRoU3RlbmNpbCB0ZXh0dXJlIGlzIGNyZWF0ZWQgZm9yIHRoaXMgcmVuZGVyIHRhcmdldC5cbiAgICogTW9zdCBsaWtlbHkgY2FsbGVkIGJ5IHRoZSBtYXNrIHN5c3RlbSB0byBtYWtlIHN1cmUgd2UgaGF2ZSBzdGVuY2lsIGJ1ZmZlciBhZGRlZC5cbiAgICogQGludGVybmFsXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUoKSB7XG4gICAgaWYgKCF0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSA9IG5ldyBUZXh0dXJlU291cmNlKHtcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgZm9ybWF0OiBcImRlcHRoMjRwbHVzLXN0ZW5jaWw4XCIsXG4gICAgICAgIGF1dG9HZW5lcmF0ZU1pcG1hcHM6IGZhbHNlLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBtaXBMZXZlbENvdW50OiAxXG4gICAgICAgIC8vIHNhbXBsZUNvdW50OiBoYW5kbGVkIGJ5IHRoZSByZW5kZXIgdGFyZ2V0IHN5c3RlbS4uXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb24sIHNraXBDb2xvclRleHR1cmUgPSBmYWxzZSkge1xuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuY29sb3JUZXh0dXJlcy5mb3JFYWNoKChjb2xvclRleHR1cmUsIGkpID0+IHtcbiAgICAgIGlmIChza2lwQ29sb3JUZXh0dXJlICYmIGkgPT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbG9yVGV4dHVyZS5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZS5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5vZmYoXCJyZXNpemVcIiwgdGhpcy5vblNvdXJjZVJlc2l6ZSwgdGhpcyk7XG4gICAgaWYgKHRoaXMuX21hbmFnZWRDb2xvclRleHR1cmVzKSB7XG4gICAgICB0aGlzLmNvbG9yVGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSkgPT4ge1xuICAgICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgZGVsZXRlIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZTtcbiAgICB9XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgYSByZW5kZXIgdGFyZ2V0ICovXG5fUmVuZGVyVGFyZ2V0LmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogdGhlIHdpZHRoIG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgd2lkdGg6IDAsXG4gIC8qKiB0aGUgaGVpZ2h0IG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgaGVpZ2h0OiAwLFxuICAvKiogdGhlIHJlc29sdXRpb24gb2YgdGhlIFJlbmRlclRhcmdldCAqL1xuICByZXNvbHV0aW9uOiAxLFxuICAvKiogYW4gYXJyYXkgb2YgdGV4dHVyZXMsIG9yIGEgbnVtYmVyIGluZGljYXRpbmcgaG93IG1hbnkgY29sb3IgdGV4dHVyZXMgdGhlcmUgc2hvdWxkIGJlICovXG4gIGNvbG9yVGV4dHVyZXM6IDEsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlcj8gKi9cbiAgc3RlbmNpbDogZmFsc2UsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGhhdmUgYSBkZXB0aCBidWZmZXI/ICovXG4gIGRlcHRoOiBmYWxzZSxcbiAgLyoqIHNob3VsZCB0aGlzIHJlbmRlciB0YXJnZXQgYmUgYW50aWFsaWFzZWQ/ICovXG4gIGFudGlhbGlhczogZmFsc2UsXG4gIC8vIHNhdmUgb24gcGVyZiBieSBkZWZhdWx0IVxuICAvKiogaXMgdGhpcyBhIHJvb3QgZWxlbWVudCwgdHJ1ZSBpZiB0aGlzIGlzIGdsIGNvbnRleHQgb3duZXJzIHJlbmRlciB0YXJnZXQgKi9cbiAgaXNSb290OiBmYWxzZVxufTtcbmxldCBSZW5kZXJUYXJnZXQgPSBfUmVuZGVyVGFyZ2V0O1xuXG5leHBvcnQgeyBSZW5kZXJUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRhcmdldC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBDTEVBUiB9IGZyb20gJy4uLy4uL2dsL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVQcm9qZWN0aW9uIH0gZnJvbSAnLi4vLi4vZ3B1L3JlbmRlclRhcmdldC9jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyBTeXN0ZW1SdW5uZXIgfSBmcm9tICcuLi9zeXN0ZW0vU3lzdGVtUnVubmVyLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU291cmNlIH0gZnJvbSAnLi4vdGV4dHVyZS9zb3VyY2VzL1RleHR1cmVTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc1RleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL3V0aWxzL2dldENhbnZhc1RleHR1cmUubWpzJztcbmltcG9ydCB7IGlzUmVuZGVyaW5nVG9TY3JlZW4gfSBmcm9tICcuL2lzUmVuZGVyaW5nVG9TY3JlZW4ubWpzJztcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4vUmVuZGVyVGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUmVuZGVyVGFyZ2V0U3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKiogVGhpcyBpcyB0aGUgcm9vdCB2aWV3cG9ydCBmb3IgdGhlIHJlbmRlciBwYXNzKi9cbiAgICB0aGlzLnJvb3RWaWV3UG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAvKiogdGhlIGN1cnJlbnQgdmlld3BvcnQgdGhhdCB0aGUgZ3B1IGlzIHVzaW5nICovXG4gICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAvKipcbiAgICAgKiBhIHJ1bm5lciB0aGF0IGxldHMgc3lzdGVtcyBrbm93IGlmIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBoYXMgY2hhbmdlZC5cbiAgICAgKiBFZyB0aGUgU3RlbmNpbCBTeXN0ZW0gbmVlZHMgdG8ga25vdyBzbyBpdCBjYW4gbWFuYWdlIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqL1xuICAgIHRoaXMub25SZW5kZXJUYXJnZXRDaGFuZ2UgPSBuZXcgU3lzdGVtUnVubmVyKFwib25SZW5kZXJUYXJnZXRDaGFuZ2VcIik7XG4gICAgLyoqIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCB0aGF0IGlzIHVzZWQgYnkgdGhlIHNoYWRlcnMgYmFzZWQgb24gdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGFuZCB0aGUgdmlld3BvcnQgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgLyoqIHRoZSBkZWZhdWx0IGNsZWFyIGNvbG9yIGZvciByZW5kZXIgdGFyZ2V0cyAqL1xuICAgIHRoaXMuZGVmYXVsdENsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgLyoqXG4gICAgICogYSBoYXNoIHRoYXQgc3RvcmVzIHRoZSByZW5kZXIgdGFyZ2V0IGZvciBhIGdpdmVuIHJlbmRlciBzdXJmYWNlLiBXaGVuIHlvdSBwYXNzIGluIGEgdGV4dHVyZSBzb3VyY2UsXG4gICAgICogYSByZW5kZXIgdGFyZ2V0IGlzIGNyZWF0ZWQgZm9yIGl0LiBUaGlzIG1hcCBzdG9yZXMgYW5kIG1ha2VzIGl0IGVhc3kgdG8gcmV0cmlldmUgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKi9cbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAvKiogQSBoYXNoIHRoYXQgc3RvcmVzIGEgZ3B1IHJlbmRlciB0YXJnZXQgZm9yIGEgZ2l2ZW4gcmVuZGVyIHRhcmdldC4gKi9cbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLyoqXG4gICAgICogQSBzdGFjayB0aGF0IHN0b3JlcyB0aGUgcmVuZGVyIHRhcmdldCBhbmQgZnJhbWUgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgdG8uXG4gICAgICogV2hlbiBwdXNoIGlzIGNhbGxlZCwgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCBpcyBzdG9yZWQgaW4gdGhpcyBzdGFjay5cbiAgICAgKiBXaGVuIHBvcCBpcyBjYWxsZWQsIHRoZSBwcmV2aW91cyByZW5kZXIgdGFyZ2V0IGlzIHJlc3RvcmVkLlxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKiogY2FsbGVkIHdoZW4gZGV2IHdhbnRzIHRvIGZpbmlzaCBhIHJlbmRlciBwYXNzICovXG4gIGZpbmlzaFJlbmRlclBhc3MoKSB7XG4gICAgdGhpcy5hZGFwdG9yLmZpbmlzaFJlbmRlclBhc3ModGhpcy5yZW5kZXJUYXJnZXQpO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgcmVuZGVyZXIgc3RhcnRzIHRvIHJlbmRlciBhIHNjZW5lLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy50YXJnZXQgLSB0aGUgcmVuZGVyIHRhcmdldCB0byByZW5kZXIgdG9cbiAgICogQHBhcmFtIG9wdGlvbnMuY2xlYXIgLSB0aGUgY2xlYXIgbW9kZSB0byB1c2UuIENhbiBiZSB0cnVlIG9yIGEgQ0xFQVIgbnVtYmVyICdDT0xPUiB8IERFUFRIIHwgU1RFTkNJTCcgMGIxMTFcbiAgICogQHBhcmFtIG9wdGlvbnMuY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucy5mcmFtZSAtIHRoZSBmcmFtZSB0byByZW5kZXIgdG9cbiAgICovXG4gIHJlbmRlclN0YXJ0KHtcbiAgICB0YXJnZXQsXG4gICAgY2xlYXIsXG4gICAgY2xlYXJDb2xvcixcbiAgICBmcmFtZVxuICB9KSB7XG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2subGVuZ3RoID0gMDtcbiAgICB0aGlzLnB1c2goXG4gICAgICB0YXJnZXQsXG4gICAgICBjbGVhcixcbiAgICAgIGNsZWFyQ29sb3IsXG4gICAgICBmcmFtZVxuICAgICk7XG4gICAgdGhpcy5yb290Vmlld1BvcnQuY29weUZyb20odGhpcy52aWV3cG9ydCk7XG4gICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJUYXJnZXQ7XG4gICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IGlzUmVuZGVyaW5nVG9TY3JlZW4odGhpcy5yb290UmVuZGVyVGFyZ2V0KTtcbiAgfVxuICBwb3N0cmVuZGVyKCkge1xuICAgIHRoaXMuYWRhcHRvci5wb3N0cmVuZGVyPy4odGhpcy5yb290UmVuZGVyVGFyZ2V0KTtcbiAgfVxuICAvKipcbiAgICogQmluZGluZyBhIHJlbmRlciBzdXJmYWNlISBUaGlzIGlzIHRoZSBtYWluIGZ1bmN0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0IHN5c3RlbS5cbiAgICogSXQgd2lsbCB0YWtlIHRoZSBSZW5kZXJTdXJmYWNlICh3aGljaCBjYW4gYmUgYSB0ZXh0dXJlLCBjYW52YXMsIG9yIHJlbmRlciB0YXJnZXQpIGFuZCBiaW5kIGl0IHRvIHRoZSByZW5kZXJlci5cbiAgICogT25jZSBib3VuZCBhbGwgZHJhdyBjYWxscyB3aWxsIGJlIHJlbmRlcmVkIHRvIHRoZSByZW5kZXIgc3VyZmFjZS5cbiAgICpcbiAgICogSWYgYSBmcmFtZSBpcyBub3QgcHJvdmlkZSBhbmQgdGhlIHJlbmRlciBzdXJmYWNlIGlzIGEgdGV4dHVyZSwgdGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHdpbGwgYmUgdXNlZC5cbiAgICogQHBhcmFtIHJlbmRlclN1cmZhY2UgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gYmluZFxuICAgKiBAcGFyYW0gY2xlYXIgLSB0aGUgY2xlYXIgbW9kZSB0byB1c2UuIENhbiBiZSB0cnVlIG9yIGEgQ0xFQVIgbnVtYmVyICdDT0xPUiB8IERFUFRIIHwgU1RFTkNJTCcgMGIxMTFcbiAgICogQHBhcmFtIGNsZWFyQ29sb3IgLSB0aGUgY29sb3IgdG8gY2xlYXIgdG9cbiAgICogQHBhcmFtIGZyYW1lIC0gdGhlIGZyYW1lIHRvIHJlbmRlciB0b1xuICAgKiBAcmV0dXJucyB0aGUgcmVuZGVyIHRhcmdldCB0aGF0IHdhcyBib3VuZFxuICAgKi9cbiAgYmluZChyZW5kZXJTdXJmYWNlLCBjbGVhciA9IHRydWUsIGNsZWFyQ29sb3IsIGZyYW1lKSB7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSk7XG4gICAgY29uc3QgZGlkQ2hhbmdlID0gdGhpcy5yZW5kZXJUYXJnZXQgIT09IHJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlclN1cmZhY2UgPSByZW5kZXJTdXJmYWNlO1xuICAgIGNvbnN0IGdwdVJlbmRlclRhcmdldCA9IHRoaXMuZ2V0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgaWYgKHJlbmRlclRhcmdldC5waXhlbFdpZHRoICE9PSBncHVSZW5kZXJUYXJnZXQud2lkdGggfHwgcmVuZGVyVGFyZ2V0LnBpeGVsSGVpZ2h0ICE9PSBncHVSZW5kZXJUYXJnZXQuaGVpZ2h0KSB7XG4gICAgICB0aGlzLmFkYXB0b3IucmVzaXplR3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICBncHVSZW5kZXJUYXJnZXQud2lkdGggPSByZW5kZXJUYXJnZXQucGl4ZWxXaWR0aDtcbiAgICAgIGdwdVJlbmRlclRhcmdldC5oZWlnaHQgPSByZW5kZXJUYXJnZXQucGl4ZWxIZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHJlbmRlclRhcmdldC5jb2xvclRleHR1cmU7XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0O1xuICAgIGNvbnN0IHBpeGVsV2lkdGggPSBzb3VyY2UucGl4ZWxXaWR0aDtcbiAgICBjb25zdCBwaXhlbEhlaWdodCA9IHNvdXJjZS5waXhlbEhlaWdodDtcbiAgICBpZiAoIWZyYW1lICYmIHJlbmRlclN1cmZhY2UgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICBmcmFtZSA9IHJlbmRlclN1cmZhY2UuZnJhbWU7XG4gICAgfVxuICAgIGlmIChmcmFtZSkge1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICAgIHZpZXdwb3J0LnggPSBmcmFtZS54ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC55ID0gZnJhbWUueSAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgICAgdmlld3BvcnQud2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgICAgdmlld3BvcnQuaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXdwb3J0LnggPSAwO1xuICAgICAgdmlld3BvcnQueSA9IDA7XG4gICAgICB2aWV3cG9ydC53aWR0aCA9IHBpeGVsV2lkdGg7XG4gICAgICB2aWV3cG9ydC5oZWlnaHQgPSBwaXhlbEhlaWdodDtcbiAgICB9XG4gICAgY2FsY3VsYXRlUHJvamVjdGlvbihcbiAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdmlld3BvcnQud2lkdGggLyBzb3VyY2UucmVzb2x1dGlvbixcbiAgICAgIHZpZXdwb3J0LmhlaWdodCAvIHNvdXJjZS5yZXNvbHV0aW9uLFxuICAgICAgIXJlbmRlclRhcmdldC5pc1Jvb3RcbiAgICApO1xuICAgIHRoaXMuYWRhcHRvci5zdGFydFJlbmRlclBhc3MocmVuZGVyVGFyZ2V0LCBjbGVhciwgY2xlYXJDb2xvciwgdmlld3BvcnQpO1xuICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgIHRoaXMub25SZW5kZXJUYXJnZXRDaGFuZ2UuZW1pdChyZW5kZXJUYXJnZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIGNsZWFyKHRhcmdldCwgY2xlYXIgPSBDTEVBUi5BTEwsIGNsZWFyQ29sb3IpIHtcbiAgICBpZiAoIWNsZWFyKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldCA9IHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KHRhcmdldCk7XG4gICAgfVxuICAgIHRoaXMuYWRhcHRvci5jbGVhcihcbiAgICAgIHRhcmdldCB8fCB0aGlzLnJlbmRlclRhcmdldCxcbiAgICAgIGNsZWFyLFxuICAgICAgY2xlYXJDb2xvcixcbiAgICAgIHRoaXMudmlld3BvcnRcbiAgICApO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIGEgcmVuZGVyIHN1cmZhY2UgdG8gdGhlIHJlbmRlcmVyLiBUaGlzIHdpbGwgYmluZCB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gdGhlIHJlbmRlcmVyLFxuICAgKiBAcGFyYW0gcmVuZGVyU3VyZmFjZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBwdXNoXG4gICAqIEBwYXJhbSBjbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gZnJhbWUgLSB0aGUgZnJhbWUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSByZW5kZXIgc3VyZmFjZVxuICAgKi9cbiAgcHVzaChyZW5kZXJTdXJmYWNlLCBjbGVhciA9IENMRUFSLkFMTCwgY2xlYXJDb2xvciwgZnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLmJpbmQocmVuZGVyU3VyZmFjZSwgY2xlYXIsIGNsZWFyQ29sb3IsIGZyYW1lKTtcbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5wdXNoKHtcbiAgICAgIHJlbmRlclRhcmdldCxcbiAgICAgIGZyYW1lXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlbmRlclRhcmdldDtcbiAgfVxuICAvKiogUG9wcyB0aGUgY3VycmVudCByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHJlbmRlcmVyIGFuZCByZXN0b3JlcyB0aGUgcHJldmlvdXMgcmVuZGVyIHRhcmdldC4gKi9cbiAgcG9wKCkge1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrLnBvcCgpO1xuICAgIGNvbnN0IGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhID0gdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2tbdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2subGVuZ3RoIC0gMV07XG4gICAgdGhpcy5iaW5kKGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhLnJlbmRlclRhcmdldCwgZmFsc2UsIG51bGwsIGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhLmZyYW1lKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgcmVuZGVyIHRhcmdldCBmcm9tIHRoZSBwcm92aWRlIHJlbmRlciBzdXJmYWNlLiBFZyBpZiBpdHMgYSB0ZXh0dXJlLFxuICAgKiBpdCB3aWxsIHJldHVybiB0aGUgcmVuZGVyIHRhcmdldCBmb3IgdGhlIHRleHR1cmUuXG4gICAqIElmIGl0cyBhIHJlbmRlciB0YXJnZXQsIGl0IHdpbGwgcmV0dXJuIHRoZSBzYW1lIHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSByZW5kZXJTdXJmYWNlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIGdldCB0aGUgcmVuZGVyIHRhcmdldCBmb3JcbiAgICogQHJldHVybnMgdGhlIHJlbmRlciB0YXJnZXQgZm9yIHRoZSByZW5kZXIgc3VyZmFjZVxuICAgKi9cbiAgZ2V0UmVuZGVyVGFyZ2V0KHJlbmRlclN1cmZhY2UpIHtcbiAgICBpZiAocmVuZGVyU3VyZmFjZS5pc1RleHR1cmUpIHtcbiAgICAgIHJlbmRlclN1cmZhY2UgPSByZW5kZXJTdXJmYWNlLnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guZ2V0KHJlbmRlclN1cmZhY2UpID8/IHRoaXMuX2luaXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyBhIHJlbmRlciBzdXJmYWNlIHRvIGFub3RoZXIgdGV4dHVyZVxuICAgKiBAcGFyYW0gc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gY29weSBmcm9tXG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvblRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBjb3B5IHRvXG4gICAqIEBwYXJhbSBvcmlnaW5TcmMgLSB0aGUgb3JpZ2luIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5TcmMueCAtIHRoZSB4IG9yaWdpbiBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gb3JpZ2luU3JjLnkgLSB0aGUgeSBvcmlnaW4gb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIHNpemUgLSB0aGUgc2l6ZSBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZS53aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZS5oZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0IC0gdGhlIGRlc3RpbmF0aW9uIG9yaWdpbiAodG9wIGxlZnQgdG8gcGFzdGUgZnJvbSEpXG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0LnggLSB0aGUgeCBvcmlnaW4gb2YgdGhlIHBhc3RlXG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0LnkgLSB0aGUgeSBvcmlnaW4gb2YgdGhlIHBhc3RlXG4gICAqL1xuICBjb3B5VG9UZXh0dXJlKHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlLCBkZXN0aW5hdGlvblRleHR1cmUsIG9yaWdpblNyYywgc2l6ZSwgb3JpZ2luRGVzdCkge1xuICAgIGlmIChvcmlnaW5TcmMueCA8IDApIHtcbiAgICAgIHNpemUud2lkdGggKz0gb3JpZ2luU3JjLng7XG4gICAgICBvcmlnaW5EZXN0LnggLT0gb3JpZ2luU3JjLng7XG4gICAgICBvcmlnaW5TcmMueCA9IDA7XG4gICAgfVxuICAgIGlmIChvcmlnaW5TcmMueSA8IDApIHtcbiAgICAgIHNpemUuaGVpZ2h0ICs9IG9yaWdpblNyYy55O1xuICAgICAgb3JpZ2luRGVzdC55IC09IG9yaWdpblNyYy55O1xuICAgICAgb3JpZ2luU3JjLnkgPSAwO1xuICAgIH1cbiAgICBjb25zdCB7IHBpeGVsV2lkdGgsIHBpeGVsSGVpZ2h0IH0gPSBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZTtcbiAgICBzaXplLndpZHRoID0gTWF0aC5taW4oc2l6ZS53aWR0aCwgcGl4ZWxXaWR0aCAtIG9yaWdpblNyYy54KTtcbiAgICBzaXplLmhlaWdodCA9IE1hdGgubWluKHNpemUuaGVpZ2h0LCBwaXhlbEhlaWdodCAtIG9yaWdpblNyYy55KTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdG9yLmNvcHlUb1RleHR1cmUoXG4gICAgICBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSxcbiAgICAgIGRlc3RpbmF0aW9uVGV4dHVyZSxcbiAgICAgIG9yaWdpblNyYyxcbiAgICAgIHNpemUsXG4gICAgICBvcmlnaW5EZXN0XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogZW5zdXJlcyB0aGF0IHdlIGhhdmUgYSBkZXB0aCBzdGVuY2lsIGJ1ZmZlciBhdmFpbGFibGUgdG8gcmVuZGVyIHRvXG4gICAqIFRoaXMgaXMgdXNlZCBieSB0aGUgbWFzayBzeXN0ZW0gdG8gbWFrZSBzdXJlIHdlIGhhdmUgYSBzdGVuY2lsIGJ1ZmZlci5cbiAgICovXG4gIGVuc3VyZURlcHRoU3RlbmNpbCgpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyVGFyZ2V0LnN0ZW5jaWwpIHtcbiAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LnN0ZW5jaWwgPSB0cnVlO1xuICAgICAgdGhpcy5hZGFwdG9yLnN0YXJ0UmVuZGVyUGFzcyh0aGlzLnJlbmRlclRhcmdldCwgZmFsc2UsIG51bGwsIHRoaXMudmlld3BvcnQpO1xuICAgIH1cbiAgfVxuICAvKiogbnVrZXMgdGhlIHJlbmRlciB0YXJnZXQgc3lzdGVtICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guZm9yRWFjaCgocmVuZGVyVGFyZ2V0LCBrZXkpID0+IHtcbiAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IGtleSkge1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guY2xlYXIoKTtcbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgX2luaXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSkge1xuICAgIGxldCByZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIGlmIChDYW52YXNTb3VyY2UudGVzdChyZW5kZXJTdXJmYWNlKSkge1xuICAgICAgcmVuZGVyU3VyZmFjZSA9IGdldENhbnZhc1RleHR1cmUocmVuZGVyU3VyZmFjZSkuc291cmNlO1xuICAgIH1cbiAgICBpZiAocmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFJlbmRlclRhcmdldCkge1xuICAgICAgcmVuZGVyVGFyZ2V0ID0gcmVuZGVyU3VyZmFjZTtcbiAgICB9IGVsc2UgaWYgKHJlbmRlclN1cmZhY2UgaW5zdGFuY2VvZiBUZXh0dXJlU291cmNlKSB7XG4gICAgICByZW5kZXJUYXJnZXQgPSBuZXcgUmVuZGVyVGFyZ2V0KHtcbiAgICAgICAgY29sb3JUZXh0dXJlczogW3JlbmRlclN1cmZhY2VdXG4gICAgICB9KTtcbiAgICAgIGlmIChDYW52YXNTb3VyY2UudGVzdChyZW5kZXJTdXJmYWNlLnNvdXJjZS5yZXNvdXJjZSkpIHtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmlzUm9vdCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZW5kZXJTdXJmYWNlLm9uY2UoXCJkZXN0cm95XCIsICgpID0+IHtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5kZWxldGUocmVuZGVyU3VyZmFjZSk7XG4gICAgICAgIGNvbnN0IGdwdVJlbmRlclRhcmdldCA9IHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF07XG4gICAgICAgIGlmIChncHVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmFkYXB0b3IuZGVzdHJveUdwdVJlbmRlclRhcmdldChncHVSZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5zZXQocmVuZGVyU3VyZmFjZSwgcmVuZGVyVGFyZ2V0KTtcbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIGdldEdwdVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXSB8fCAodGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXSA9IHRoaXMuYWRhcHRvci5pbml0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkpO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlbmRlclRhcmdldFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0U3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gaXNSZW5kZXJpbmdUb1NjcmVlbihyZW5kZXJUYXJnZXQpIHtcbiAgY29uc3QgcmVzb3VyY2UgPSByZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlLnNvdXJjZS5yZXNvdXJjZTtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuSFRNTENhbnZhc0VsZW1lbnQgJiYgcmVzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHJlc291cmNlKTtcbn1cblxuZXhwb3J0IHsgaXNSZW5kZXJpbmdUb1NjcmVlbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZW5kZXJpbmdUb1NjcmVlbi5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24ocG0sIHgsIHksIHdpZHRoLCBoZWlnaHQsIGZsaXBZKSB7XG4gIGNvbnN0IHNpZ24gPSBmbGlwWSA/IDEgOiAtMTtcbiAgcG0uaWRlbnRpdHkoKTtcbiAgcG0uYSA9IDEgLyB3aWR0aCAqIDI7XG4gIHBtLmQgPSBzaWduICogKDEgLyBoZWlnaHQgKiAyKTtcbiAgcG0udHggPSAtMSAtIHggKiBwbS5hO1xuICBwbS50eSA9IC1zaWduIC0geSAqIHBtLmQ7XG4gIHJldHVybiBwbTtcbn1cblxuZXhwb3J0IHsgY2FsY3VsYXRlUHJvamVjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsY3VsYXRlUHJvamVjdGlvbi5tanMubWFwXG4iLCJpbXBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvYnJvd3Nlci91bnNhZmVFdmFsU3VwcG9ydGVkLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9idWZmZXIvQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJVc2FnZSB9IGZyb20gJy4uL2J1ZmZlci9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFVib1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKGFkYXB0b3IpIHtcbiAgICAvKiogQ2FjaGUgb2YgdW5pZm9ybSBidWZmZXIgbGF5b3V0cyBhbmQgc3luYyBmdW5jdGlvbnMsIHNvIHdlIGRvbid0IGhhdmUgdG8gcmUtY3JlYXRlIHRoZW0gKi9cbiAgICB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fc3lzdGVtQ2hlY2soKTtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gYnkgYHBpeGkuanMvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zeXN0ZW1DaGVjaygpIHtcbiAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgcGxlYXNlIHVzZSBwaXhpLmpzL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC5cIik7XG4gICAgfVxuICB9XG4gIGVuc3VyZVVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApIHtcbiAgICBjb25zdCB1bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybURhdGEubGF5b3V0LnNpemUgLyA0KSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5VTklGT1JNIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KSk7XG4gIH1cbiAgZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApIHtcbiAgICByZXR1cm4gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXAuX3NpZ25hdHVyZV0gfHwgdGhpcy5faW5pdFVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApO1xuICB9XG4gIF9pbml0VW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCkge1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cFNpZ25hdHVyZSA9IHVuaWZvcm1Hcm91cC5fc2lnbmF0dXJlO1xuICAgIGxldCB1bmlmb3JtRGF0YSA9IHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgICBpZiAoIXVuaWZvcm1EYXRhKSB7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IE9iamVjdC5rZXlzKHVuaWZvcm1Hcm91cC51bmlmb3JtU3RydWN0dXJlcykubWFwKChpKSA9PiB1bmlmb3JtR3JvdXAudW5pZm9ybVN0cnVjdHVyZXNbaV0pO1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fYWRhcHRvci5jcmVhdGVVYm9FbGVtZW50cyhlbGVtZW50cyk7XG4gICAgICBjb25zdCBzeW5jRnVuY3Rpb24gPSB0aGlzLl9nZW5lcmF0ZVVib1N5bmMobGF5b3V0LnVib0VsZW1lbnRzKTtcbiAgICAgIHVuaWZvcm1EYXRhID0gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXBTaWduYXR1cmVdID0ge1xuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHN5bmNGdW5jdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgfVxuICBfZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0b3IuZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKTtcbiAgfVxuICBzeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCwgZGF0YSwgb2Zmc2V0KSB7XG4gICAgY29uc3QgdW5pZm9ybUdyb3VwRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybUdyb3VwRGF0YS5sYXlvdXQuc2l6ZSAvIDQpLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pKTtcbiAgICBkYXRhIHx8IChkYXRhID0gdW5pZm9ybUdyb3VwLmJ1ZmZlci5kYXRhKTtcbiAgICBvZmZzZXQgfHwgKG9mZnNldCA9IDApO1xuICAgIHVuaWZvcm1Hcm91cERhdGEuc3luY0Z1bmN0aW9uKHVuaWZvcm1Hcm91cC51bmlmb3JtcywgZGF0YSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGVVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKSB7XG4gICAgaWYgKHVuaWZvcm1Hcm91cC5pc1N0YXRpYyAmJiAhdW5pZm9ybUdyb3VwLl9kaXJ0eUlkKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHVuaWZvcm1Hcm91cC5fZGlydHlJZCA9IDA7XG4gICAgY29uc3Qgc3luY2VkID0gdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCk7XG4gICAgdW5pZm9ybUdyb3VwLmJ1ZmZlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3luY2VkO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc3luY0Z1bmN0aW9uSGFzaCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgVWJvU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VYm9TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY3JlYXRlVWJvU3luY0Z1bmN0aW9uKHVib0VsZW1lbnRzLCBwYXJzZXJDb2RlLCBhcnJheUdlbmVyYXRpb25GdW5jdGlvbiwgc2luZ2xlU2V0dGVyc01hcCkge1xuICBjb25zdCBmdW5jRnJhZ21lbnRzID0gW2BcbiAgICAgICAgdmFyIHYgPSBudWxsO1xuICAgICAgICB2YXIgdjIgPSBudWxsO1xuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBuYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGFycmF5T2Zmc2V0ID0gbnVsbDtcbiAgICBgXTtcbiAgbGV0IHByZXYgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHVib0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdWJvRWxlbWVudCA9IHVib0VsZW1lbnRzW2ldO1xuICAgIGNvbnN0IG5hbWUgPSB1Ym9FbGVtZW50LmRhdGEubmFtZTtcbiAgICBsZXQgcGFyc2VkID0gZmFsc2U7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bmlmb3JtUGFyc2Vycy5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgdW5pZm9ybVBhcnNlciA9IHVuaWZvcm1QYXJzZXJzW2pdO1xuICAgICAgaWYgKHVuaWZvcm1QYXJzZXIudGVzdCh1Ym9FbGVtZW50LmRhdGEpKSB7XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgIGBuYW1lID0gXCIke25hbWV9XCI7YCxcbiAgICAgICAgICBgb2Zmc2V0ICs9ICR7b2Zmc2V0IC0gcHJldn07YCxcbiAgICAgICAgICB1bmlmb3JtUGFyc2Vyc1tqXVtwYXJzZXJDb2RlXSB8fCB1bmlmb3JtUGFyc2Vyc1tqXS51Ym9cbiAgICAgICAgKTtcbiAgICAgICAgcGFyc2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICBpZiAodWJvRWxlbWVudC5kYXRhLnNpemUgPiAxKSB7XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uKHVib0VsZW1lbnQsIG9mZnNldCAtIHByZXYpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gc2luZ2xlU2V0dGVyc01hcFt1Ym9FbGVtZW50LmRhdGEudHlwZV07XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgIC8qIHdnc2wgKi9cbiAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gJHtvZmZzZXQgLSBwcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgJHt0ZW1wbGF0ZX07XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmV2ID0gb2Zmc2V0O1xuICB9XG4gIGNvbnN0IGZyYWdtZW50U3JjID0gZnVuY0ZyYWdtZW50cy5qb2luKFwiXFxuXCIpO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFxuICAgIFwidXZcIixcbiAgICBcImRhdGFcIixcbiAgICBcIm9mZnNldFwiLFxuICAgIGZyYWdtZW50U3JjXG4gICk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVVib1N5bmNGdW5jdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlVWJvU3luY0Z1bmN0aW9uLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gbG9vcE1hdHJpeChjb2wsIHJvdykge1xuICBjb25zdCB0b3RhbCA9IGNvbCAqIHJvdztcbiAgcmV0dXJuIGBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAke3RvdGFsfTsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArICgoKGkgLyAke2NvbH0pfDApICogNCkgKyAoaSAlICR7Y29sfSldID0gdltpXTtcbiAgICAgICAgfVxuICAgIGA7XG59XG5jb25zdCB1Ym9TeW5jRnVuY3Rpb25zU1RENDAgPSB7XG4gIGYzMjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2O2AsXG4gIGkzMjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2O2AsXG4gIFwidmVjMjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07YCxcbiAgXCJ2ZWMzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07YCxcbiAgXCJ2ZWM0PGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSB2WzNdO2AsXG4gIFwibWF0M3gzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzNdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IHZbNV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSB2WzZdO1xuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSB2WzhdO2AsXG4gIFwibWF0NHg0PGYzMj5cIjogYFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xuICAgICAgICB9YCxcbiAgXCJtYXQzeDI8ZjMyPlwiOiBsb29wTWF0cml4KDMsIDIpLFxuICBcIm1hdDR4MjxmMzI+XCI6IGxvb3BNYXRyaXgoNCwgMiksXG4gIFwibWF0MngzPGYzMj5cIjogbG9vcE1hdHJpeCgyLCAzKSxcbiAgXCJtYXQ0eDM8ZjMyPlwiOiBsb29wTWF0cml4KDQsIDMpLFxuICBcIm1hdDJ4NDxmMzI+XCI6IGxvb3BNYXRyaXgoMiwgNCksXG4gIFwibWF0M3g0PGYzMj5cIjogbG9vcE1hdHJpeCgzLCA0KVxufTtcbmNvbnN0IHVib1N5bmNGdW5jdGlvbnNXR1NMID0ge1xuICAuLi51Ym9TeW5jRnVuY3Rpb25zU1RENDAsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO1xuICAgIGBcbn07XG5cbmV4cG9ydCB7IHVib1N5bmNGdW5jdGlvbnNTVEQ0MCwgdWJvU3luY0Z1bmN0aW9uc1dHU0wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVib1N5bmNGdW5jdGlvbnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB1bmlmb3JtUGFyc2VycyA9IFtcbiAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gIHtcbiAgICB0eXBlOiBcIm1hdDN4MzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZS5hICE9PSB2b2lkIDA7XG4gICAgfSxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB1dltuYW1lXS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gbWF0cml4WzBdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IG1hdHJpeFsxXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSBtYXRyaXhbMl07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDRdID0gbWF0cml4WzNdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA1XSA9IG1hdHJpeFs0XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSBtYXRyaXhbNV07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDhdID0gbWF0cml4WzZdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA5XSA9IG1hdHJpeFs3XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gbWF0cml4WzhdO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbbmFtZV0ubG9jYXRpb24sIGZhbHNlLCB1dltuYW1lXS50b0FycmF5KHRydWUpKTtcbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzRcbiAge1xuICAgIHR5cGU6IFwidmVjNDxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWM0PGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS53aWR0aCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYueTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAzXSA9IHYuaGVpZ2h0O1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHBvaW50IGFzIGEgdmVjMlxuICB7XG4gICAgdHlwZTogXCJ2ZWMyPGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzI8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnggIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2Lnk7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbbmFtZV0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIGNvbG9yIGFzIGEgdmVjNFxuICB7XG4gICAgdHlwZTogXCJ2ZWM0PGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzQ8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnJlZCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi5yZWQ7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdi5hbHBoYTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnJlZCB8fCBjdlsxXSAhPT0gdi5ncmVlbiB8fCBjdlsyXSAhPT0gdi5ibHVlIHx8IGN2WzNdICE9PSB2LmFscGhhKSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2LnJlZDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgY3ZbMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICAgICAgY3ZbM10gPSB2LmFscGhhO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi5yZWQsIHYuZ3JlZW4sIHYuYmx1ZSwgdi5hbHBoYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSBjb2xvciBhcyBhIHZlYzNcbiAge1xuICAgIHR5cGU6IFwidmVjMzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWMzPGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS5yZWQgIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYucmVkO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gdi5ibHVlO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYucmVkIHx8IGN2WzFdICE9PSB2LmdyZWVuIHx8IGN2WzJdICE9PSB2LmJsdWUpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgICAgICBjdlsyXSA9IHYuYmx1ZTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YodWRbbmFtZV0ubG9jYXRpb24sIHYucmVkLCB2LmdyZWVuLCB2LmJsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH1cbl07XG5cbmV4cG9ydCB7IHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlmb3JtUGFyc2Vycy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ3VzdG9tUmVuZGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKGNvbnRhaW5lcik7XG4gIH1cbiAgZXhlY3V0ZShjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lci5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgY29udGFpbmVyLnJlbmRlcih0aGlzLl9yZW5kZXJlcik7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkN1c3RvbVJlbmRlclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImN1c3RvbVJlbmRlclwiXG59O1xuXG5leHBvcnQgeyBDdXN0b21SZW5kZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXN0b21SZW5kZXJQaXBlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXhlY3V0ZUluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgcmVuZGVyZXIpIHtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25TZXQgPSByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldDtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZTsgaSsrKSB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG4gICAgcmVuZGVyZXJbaW5zdHJ1Y3Rpb24ucmVuZGVyUGlwZUlkXS5leGVjdXRlKGluc3RydWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgeyBleGVjdXRlSW5zdHJ1Y3Rpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGVjdXRlSW5zdHJ1Y3Rpb25zLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBSZW5kZXJHcm91cFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYWRkUmVuZGVyR3JvdXAocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChyZW5kZXJHcm91cCk7XG4gIH1cbiAgZXhlY3V0ZShyZW5kZXJHcm91cCkge1xuICAgIGlmICghcmVuZGVyR3JvdXAuaXNSZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLFxuICAgICAgd29ybGRDb2xvcjogcmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhXG4gICAgfSk7XG4gICAgZXhlY3V0ZUluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnBvcCgpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5SZW5kZXJHcm91cFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInJlbmRlckdyb3VwXCJcbn07XG5cbmV4cG9ydCB7IFJlbmRlckdyb3VwUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyR3JvdXBQaXBlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gYnVpbGRJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHJlbmRlcmVyT3JQaXBlcykge1xuICBjb25zdCByb290ID0gcmVuZGVyR3JvdXAucm9vdDtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25TZXQgPSByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldDtcbiAgaW5zdHJ1Y3Rpb25TZXQucmVzZXQoKTtcbiAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlck9yUGlwZXMucmVuZGVyUGlwZXMgPyByZW5kZXJlck9yUGlwZXMgOiByZW5kZXJlck9yUGlwZXMuYmF0Y2gucmVuZGVyZXI7XG4gIGNvbnN0IHJlbmRlclBpcGVzID0gcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gIHJlbmRlclBpcGVzLmJhdGNoLmJ1aWxkU3RhcnQoaW5zdHJ1Y3Rpb25TZXQpO1xuICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuYnVpbGRTdGFydCgpO1xuICByZW5kZXJQaXBlcy5jb2xvck1hc2suYnVpbGRTdGFydCgpO1xuICBpZiAocm9vdC5zb3J0YWJsZUNoaWxkcmVuKSB7XG4gICAgcm9vdC5zb3J0Q2hpbGRyZW4oKTtcbiAgfVxuICBjb2xsZWN0QWxsUmVuZGVyYWJsZXNBZHZhbmNlZChyb290LCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIsIHRydWUpO1xuICByZW5kZXJQaXBlcy5iYXRjaC5idWlsZEVuZChpbnN0cnVjdGlvblNldCk7XG4gIHJlbmRlclBpcGVzLmJsZW5kTW9kZS5idWlsZEVuZChpbnN0cnVjdGlvblNldCk7XG59XG5mdW5jdGlvbiBjb2xsZWN0QWxsUmVuZGVyYWJsZXMoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXJPclBpcGVzKSB7XG4gIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJPclBpcGVzLnJlbmRlclBpcGVzID8gcmVuZGVyZXJPclBpcGVzIDogcmVuZGVyZXJPclBpcGVzLmJhdGNoLnJlbmRlcmVyO1xuICBpZiAoY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXMgPCA3IHx8ICFjb250YWluZXIuaW5jbHVkZUluQnVpbGQpXG4gICAgcmV0dXJuO1xuICBpZiAoY29udGFpbmVyLnNvcnRhYmxlQ2hpbGRyZW4pIHtcbiAgICBjb250YWluZXIuc29ydENoaWxkcmVuKCk7XG4gIH1cbiAgaWYgKGNvbnRhaW5lci5pc1NpbXBsZSkge1xuICAgIGNvbGxlY3RBbGxSZW5kZXJhYmxlc1NpbXBsZShjb250YWluZXIsIGluc3RydWN0aW9uU2V0LCByZW5kZXJlcik7XG4gIH0gZWxzZSB7XG4gICAgY29sbGVjdEFsbFJlbmRlcmFibGVzQWR2YW5jZWQoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIsIGZhbHNlKTtcbiAgfVxufVxuZnVuY3Rpb24gY29sbGVjdEFsbFJlbmRlcmFibGVzU2ltcGxlKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyKSB7XG4gIGlmIChjb250YWluZXIucmVuZGVyUGlwZUlkKSB7XG4gICAgY29uc3QgeyByZW5kZXJQaXBlcywgcmVuZGVyYWJsZUdDIH0gPSByZW5kZXJlcjtcbiAgICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGNvbnRhaW5lciwgY29udGFpbmVyLmdyb3VwQmxlbmRNb2RlLCBpbnN0cnVjdGlvblNldCk7XG4gICAgY29udGFpbmVyLmRpZFZpZXdVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBycCA9IHJlbmRlclBpcGVzO1xuICAgIHJwW2NvbnRhaW5lci5yZW5kZXJQaXBlSWRdLmFkZFJlbmRlcmFibGUoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyYWJsZUdDLmFkZFJlbmRlcmFibGUoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgaWYgKCFjb250YWluZXIucmVuZGVyR3JvdXApIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29sbGVjdEFsbFJlbmRlcmFibGVzKGNoaWxkcmVuW2ldLCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY29sbGVjdEFsbFJlbmRlcmFibGVzQWR2YW5jZWQoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIsIGlzUm9vdCkge1xuICBjb25zdCB7IHJlbmRlclBpcGVzLCByZW5kZXJhYmxlR0MgfSA9IHJlbmRlcmVyO1xuICBpZiAoIWlzUm9vdCAmJiBjb250YWluZXIucmVuZGVyR3JvdXApIHtcbiAgICByZW5kZXJQaXBlcy5yZW5kZXJHcm91cC5hZGRSZW5kZXJHcm91cChjb250YWluZXIucmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5lZmZlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlZmZlY3QgPSBjb250YWluZXIuZWZmZWN0c1tpXTtcbiAgICAgIGNvbnN0IHBpcGUgPSByZW5kZXJQaXBlc1tlZmZlY3QucGlwZV07XG4gICAgICBwaXBlLnB1c2goZWZmZWN0LCBjb250YWluZXIsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyUGlwZUlkID0gY29udGFpbmVyLnJlbmRlclBpcGVJZDtcbiAgICBpZiAocmVuZGVyUGlwZUlkKSB7XG4gICAgICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGNvbnRhaW5lciwgY29udGFpbmVyLmdyb3VwQmxlbmRNb2RlLCBpbnN0cnVjdGlvblNldCk7XG4gICAgICBjb250YWluZXIuZGlkVmlld1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgY29uc3QgcGlwZSA9IHJlbmRlclBpcGVzW3JlbmRlclBpcGVJZF07XG4gICAgICBwaXBlLmFkZFJlbmRlcmFibGUoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCk7XG4gICAgICByZW5kZXJhYmxlR0MuYWRkUmVuZGVyYWJsZShjb250YWluZXIsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb2xsZWN0QWxsUmVuZGVyYWJsZXMoY2hpbGRyZW5baV0sIGluc3RydWN0aW9uU2V0LCByZW5kZXJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBjb250YWluZXIuZWZmZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgZWZmZWN0ID0gY29udGFpbmVyLmVmZmVjdHNbaV07XG4gICAgICBjb25zdCBwaXBlID0gcmVuZGVyUGlwZXNbZWZmZWN0LnBpcGVdO1xuICAgICAgcGlwZS5wb3AoZWZmZWN0LCBjb250YWluZXIsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgYnVpbGRJbnN0cnVjdGlvbnMsIGNvbGxlY3RBbGxSZW5kZXJhYmxlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRJbnN0cnVjdGlvbnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjbGVhckxpc3QobGlzdCwgaW5kZXgpIHtcbiAgaW5kZXggfHwgKGluZGV4ID0gMCk7XG4gIGZvciAobGV0IGogPSBpbmRleDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICBpZiAobGlzdFtqXSkge1xuICAgICAgbGlzdFtqXSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBjbGVhckxpc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsZWFyTGlzdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbGxlY3RSZW5kZXJHcm91cHMocmVuZGVyR3JvdXAsIG91dCA9IFtdKSB7XG4gIG91dC5wdXNoKHJlbmRlckdyb3VwKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29sbGVjdFJlbmRlckdyb3VwcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldLCBvdXQpO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCB7IGNvbGxlY3RSZW5kZXJHcm91cHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbGxlY3RSZW5kZXJHcm91cHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgbWl4SGV4Q29sb3JzIH0gZnJvbSAnLi9taXhIZXhDb2xvcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBXSElURV9CR1IgPSAxNjc3NzIxNTtcbmZ1bmN0aW9uIG1peENvbG9ycyhsb2NhbEJHUkNvbG9yLCBwYXJlbnRCR1JDb2xvcikge1xuICBpZiAobG9jYWxCR1JDb2xvciA9PT0gV0hJVEVfQkdSIHx8IHBhcmVudEJHUkNvbG9yID09PSBXSElURV9CR1IpIHtcbiAgICByZXR1cm4gbG9jYWxCR1JDb2xvciArIHBhcmVudEJHUkNvbG9yIC0gV0hJVEVfQkdSO1xuICB9XG4gIHJldHVybiBtaXhIZXhDb2xvcnMobG9jYWxCR1JDb2xvciwgcGFyZW50QkdSQ29sb3IsIDAuNSk7XG59XG5mdW5jdGlvbiBtaXhTdGFuZGFyZEFuZDMyQml0Q29sb3JzKGxvY2FsQ29sb3JSR0IsIGxvY2FsQWxwaGEsIHBhcmVudENvbG9yKSB7XG4gIGNvbnN0IHBhcmVudEFscGhhID0gKHBhcmVudENvbG9yID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgY29uc3QgZ2xvYmFsQWxwaGEgPSBsb2NhbEFscGhhICogcGFyZW50QWxwaGEgKiAyNTU7XG4gIGNvbnN0IGxvY2FsQkdSQ29sb3IgPSAoKGxvY2FsQ29sb3JSR0IgJiAyNTUpIDw8IDE2KSArIChsb2NhbENvbG9yUkdCICYgNjUyODApICsgKGxvY2FsQ29sb3JSR0IgPj4gMTYgJiAyNTUpO1xuICBjb25zdCBwYXJlbnRCR1JDb2xvciA9IHBhcmVudENvbG9yICYgMTY3NzcyMTU7XG4gIGxldCBzaGFyZWRCR1JDb2xvcjtcbiAgaWYgKGxvY2FsQkdSQ29sb3IgPT09IFdISVRFX0JHUiB8fCBwYXJlbnRCR1JDb2xvciA9PT0gV0hJVEVfQkdSKSB7XG4gICAgc2hhcmVkQkdSQ29sb3IgPSBsb2NhbEJHUkNvbG9yICsgcGFyZW50QkdSQ29sb3IgLSBXSElURV9CR1I7XG4gIH0gZWxzZSB7XG4gICAgc2hhcmVkQkdSQ29sb3IgPSBtaXhIZXhDb2xvcnMobG9jYWxCR1JDb2xvciwgcGFyZW50QkdSQ29sb3IsIDAuNSk7XG4gIH1cbiAgcmV0dXJuIHNoYXJlZEJHUkNvbG9yICsgKGdsb2JhbEFscGhhIDw8IDI0KTtcbn1cblxuZXhwb3J0IHsgbWl4Q29sb3JzLCBtaXhTdGFuZGFyZEFuZDMyQml0Q29sb3JzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhDb2xvcnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBtaXhIZXhDb2xvcnMoY29sb3IxLCBjb2xvcjIsIHJhdGlvKSB7XG4gIGNvbnN0IHIxID0gY29sb3IxID4+IDE2ICYgMjU1O1xuICBjb25zdCBnMSA9IGNvbG9yMSA+PiA4ICYgMjU1O1xuICBjb25zdCBiMSA9IGNvbG9yMSAmIDI1NTtcbiAgY29uc3QgcjIgPSBjb2xvcjIgPj4gMTYgJiAyNTU7XG4gIGNvbnN0IGcyID0gY29sb3IyID4+IDggJiAyNTU7XG4gIGNvbnN0IGIyID0gY29sb3IyICYgMjU1O1xuICBjb25zdCByID0gcjEgKyAocjIgLSByMSkgKiByYXRpbztcbiAgY29uc3QgZyA9IGcxICsgKGcyIC0gZzEpICogcmF0aW87XG4gIGNvbnN0IGIgPSBiMSArIChiMiAtIGIxKSAqIHJhdGlvO1xuICByZXR1cm4gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiO1xufVxuXG5leHBvcnQgeyBtaXhIZXhDb2xvcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peEhleENvbG9ycy5tanMubWFwXG4iLCJpbXBvcnQgeyBDb250YWluZXIsIFVQREFURV9WSVNJQkxFLCBVUERBVEVfQ09MT1IsIFVQREFURV9CTEVORCB9IGZyb20gJy4uL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgY2xlYXJMaXN0IH0gZnJvbSAnLi9jbGVhckxpc3QubWpzJztcbmltcG9ydCB7IG1peENvbG9ycyB9IGZyb20gJy4vbWl4Q29sb3JzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbmNvbnN0IFVQREFURV9CTEVORF9DT0xPUl9WSVNJQkxFID0gVVBEQVRFX1ZJU0lCTEUgfCBVUERBVEVfQ09MT1IgfCBVUERBVEVfQkxFTkQ7XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAsIHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzID0gZmFsc2UpIHtcbiAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApO1xuICBjb25zdCBjaGlsZHJlblRvVXBkYXRlID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5Ub1VwZGF0ZTtcbiAgY29uc3QgdXBkYXRlVGljayA9IHJlbmRlckdyb3VwLnVwZGF0ZVRpY2srKztcbiAgZm9yIChjb25zdCBqIGluIGNoaWxkcmVuVG9VcGRhdGUpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cERlcHRoID0gTnVtYmVyKGopO1xuICAgIGNvbnN0IGNoaWxkcmVuQXREZXB0aCA9IGNoaWxkcmVuVG9VcGRhdGVbal07XG4gICAgY29uc3QgbGlzdCA9IGNoaWxkcmVuQXREZXB0aC5saXN0O1xuICAgIGNvbnN0IGluZGV4ID0gY2hpbGRyZW5BdERlcHRoLmluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNoaWxkLnBhcmVudFJlbmRlckdyb3VwID09PSByZW5kZXJHcm91cCAmJiBjaGlsZC5yZWxhdGl2ZVJlbmRlckdyb3VwRGVwdGggPT09IHJlbmRlckdyb3VwRGVwdGgpIHtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4oY2hpbGQsIHVwZGF0ZVRpY2ssIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGVhckxpc3QobGlzdCwgaW5kZXgpO1xuICAgIGNoaWxkcmVuQXREZXB0aC5pbmRleCA9IDA7XG4gIH1cbiAgaWYgKHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbltpXSwgdXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApIHtcbiAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gIGxldCB3b3JsZEFscGhhO1xuICBpZiAocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICByb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm0sXG4gICAgICByZW5kZXJHcm91cFBhcmVudC53b3JsZFRyYW5zZm9ybVxuICAgICk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IG1peENvbG9ycyhcbiAgICAgIHJvb3QuZ3JvdXBDb2xvcixcbiAgICAgIHJlbmRlckdyb3VwUGFyZW50LndvcmxkQ29sb3JcbiAgICApO1xuICAgIHdvcmxkQWxwaGEgPSByb290Lmdyb3VwQWxwaGEgKiByZW5kZXJHcm91cFBhcmVudC53b3JsZEFscGhhO1xuICB9IGVsc2Uge1xuICAgIHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmNvcHlGcm9tKHJvb3QubG9jYWxUcmFuc2Zvcm0pO1xuICAgIHJlbmRlckdyb3VwLndvcmxkQ29sb3IgPSByb290LmxvY2FsQ29sb3I7XG4gICAgd29ybGRBbHBoYSA9IHJvb3QubG9jYWxBbHBoYTtcbiAgfVxuICB3b3JsZEFscGhhID0gd29ybGRBbHBoYSA8IDAgPyAwIDogd29ybGRBbHBoYSA+IDEgPyAxIDogd29ybGRBbHBoYTtcbiAgcmVuZGVyR3JvdXAud29ybGRBbHBoYSA9IHdvcmxkQWxwaGE7XG4gIHJlbmRlckdyb3VwLndvcmxkQ29sb3JBbHBoYSA9IHJlbmRlckdyb3VwLndvcmxkQ29sb3IgKyAoKHdvcmxkQWxwaGEgKiAyNTUgfCAwKSA8PCAyNCk7XG59XG5mdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbihjb250YWluZXIsIHVwZGF0ZVRpY2ssIHVwZGF0ZUZsYWdzKSB7XG4gIGlmICh1cGRhdGVUaWNrID09PSBjb250YWluZXIudXBkYXRlVGljaylcbiAgICByZXR1cm47XG4gIGNvbnRhaW5lci51cGRhdGVUaWNrID0gdXBkYXRlVGljaztcbiAgY29udGFpbmVyLmRpZENoYW5nZSA9IGZhbHNlO1xuICBjb25zdCBsb2NhbFRyYW5zZm9ybSA9IGNvbnRhaW5lci5sb2NhbFRyYW5zZm9ybTtcbiAgY29udGFpbmVyLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gIGNvbnN0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnQ7XG4gIGlmIChwYXJlbnQgJiYgIXBhcmVudC5yZW5kZXJHcm91cCkge1xuICAgIHVwZGF0ZUZsYWdzID0gdXBkYXRlRmxhZ3MgfCBjb250YWluZXIuX3VwZGF0ZUZsYWdzO1xuICAgIGNvbnRhaW5lci5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICBsb2NhbFRyYW5zZm9ybSxcbiAgICAgIHBhcmVudC5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtXG4gICAgKTtcbiAgICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSkge1xuICAgICAgdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCBwYXJlbnQsIHVwZGF0ZUZsYWdzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlRmxhZ3MgPSBjb250YWluZXIuX3VwZGF0ZUZsYWdzO1xuICAgIGNvbnRhaW5lci5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtKTtcbiAgICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSkge1xuICAgICAgdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCB0ZW1wQ29udGFpbmVyLCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICB9XG4gIGlmICghY29udGFpbmVyLnJlbmRlckdyb3VwKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuKGNoaWxkcmVuW2ldLCB1cGRhdGVUaWNrLCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlckdyb3VwID0gY29udGFpbmVyLnBhcmVudFJlbmRlckdyb3VwO1xuICAgIGlmIChjb250YWluZXIucmVuZGVyUGlwZUlkICYmICFyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgIHJlbmRlckdyb3VwLnVwZGF0ZVJlbmRlcmFibGUoY29udGFpbmVyKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgcGFyZW50LCB1cGRhdGVGbGFncykge1xuICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQ09MT1IpIHtcbiAgICBjb250YWluZXIuZ3JvdXBDb2xvciA9IG1peENvbG9ycyhcbiAgICAgIGNvbnRhaW5lci5sb2NhbENvbG9yLFxuICAgICAgcGFyZW50Lmdyb3VwQ29sb3JcbiAgICApO1xuICAgIGxldCBncm91cEFscGhhID0gY29udGFpbmVyLmxvY2FsQWxwaGEgKiBwYXJlbnQuZ3JvdXBBbHBoYTtcbiAgICBncm91cEFscGhhID0gZ3JvdXBBbHBoYSA8IDAgPyAwIDogZ3JvdXBBbHBoYSA+IDEgPyAxIDogZ3JvdXBBbHBoYTtcbiAgICBjb250YWluZXIuZ3JvdXBBbHBoYSA9IGdyb3VwQWxwaGE7XG4gICAgY29udGFpbmVyLmdyb3VwQ29sb3JBbHBoYSA9IGNvbnRhaW5lci5ncm91cENvbG9yICsgKChncm91cEFscGhhICogMjU1IHwgMCkgPDwgMjQpO1xuICB9XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9CTEVORCkge1xuICAgIGNvbnRhaW5lci5ncm91cEJsZW5kTW9kZSA9IGNvbnRhaW5lci5sb2NhbEJsZW5kTW9kZSA9PT0gXCJpbmhlcml0XCIgPyBwYXJlbnQuZ3JvdXBCbGVuZE1vZGUgOiBjb250YWluZXIubG9jYWxCbGVuZE1vZGU7XG4gIH1cbiAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX1ZJU0lCTEUpIHtcbiAgICBjb250YWluZXIuZ2xvYmFsRGlzcGxheVN0YXR1cyA9IGNvbnRhaW5lci5sb2NhbERpc3BsYXlTdGF0dXMgJiBwYXJlbnQuZ2xvYmFsRGlzcGxheVN0YXR1cztcbiAgfVxuICBjb250YWluZXIuX3VwZGF0ZUZsYWdzID0gMDtcbn1cblxuZXhwb3J0IHsgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0sIHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcywgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3Jtcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHZhbGlkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKSB7XG4gIGNvbnN0IHsgbGlzdCwgaW5kZXggfSA9IHJlbmRlckdyb3VwLmNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZTtcbiAgbGV0IHJlYnVpbGRSZXF1aXJlZCA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpKyspIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBsaXN0W2ldO1xuICAgIGNvbnN0IHJlbmRlcmFibGUgPSBjb250YWluZXI7XG4gICAgY29uc3QgcGlwZSA9IHJlbmRlclBpcGVzW3JlbmRlcmFibGUucmVuZGVyUGlwZUlkXTtcbiAgICByZWJ1aWxkUmVxdWlyZWQgPSBwaXBlLnZhbGlkYXRlUmVuZGVyYWJsZShjb250YWluZXIpO1xuICAgIGlmIChyZWJ1aWxkUmVxdWlyZWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSByZWJ1aWxkUmVxdWlyZWQ7XG4gIHJldHVybiByZWJ1aWxkUmVxdWlyZWQ7XG59XG5cbmV4cG9ydCB7IHZhbGlkYXRlUmVuZGVyYWJsZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlUmVuZGVyYWJsZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgYnVpbGRJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2J1aWxkSW5zdHJ1Y3Rpb25zLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL3V0aWxzL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgY29sbGVjdFJlbmRlckdyb3VwcyB9IGZyb20gJy4vdXRpbHMvY29sbGVjdFJlbmRlckdyb3Vwcy5tanMnO1xuaW1wb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9IGZyb20gJy4vdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zIH0gZnJvbSAnLi91dGlscy91cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzJztcbmltcG9ydCB7IHZhbGlkYXRlUmVuZGVyYWJsZXMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgUmVuZGVyR3JvdXBTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVuZGVyKHsgY29udGFpbmVyLCB0cmFuc2Zvcm0gfSkge1xuICAgIGNvbnRhaW5lci5pc1JlbmRlckdyb3VwID0gdHJ1ZTtcbiAgICBjb25zdCBwYXJlbnQgPSBjb250YWluZXIucGFyZW50O1xuICAgIGNvbnN0IHJlbmRlckdyb3VwUGFyZW50ID0gY29udGFpbmVyLnJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIGNvbnRhaW5lci5wYXJlbnQgPSBudWxsO1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCA9IG51bGw7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJHcm91cHMgPSBjb2xsZWN0UmVuZGVyR3JvdXBzKGNvbnRhaW5lci5yZW5kZXJHcm91cCwgW10pO1xuICAgIGxldCBvcmlnaW5hbExvY2FsVHJhbnNmb3JtID0gdGVtcE1hdHJpeDtcbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICBvcmlnaW5hbExvY2FsVHJhbnNmb3JtID0gb3JpZ2luYWxMb2NhbFRyYW5zZm9ybS5jb3B5RnJvbShjb250YWluZXIucmVuZGVyR3JvdXAubG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtLmNvcHlGcm9tKHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gcmVuZGVyR3JvdXBzW2ldO1xuICAgICAgcmVuZGVyR3JvdXAucnVuT25SZW5kZXIoKTtcbiAgICAgIHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0LnJlbmRlclBpcGVzID0gcmVuZGVyUGlwZXM7XG4gICAgICBpZiAoIXJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSkge1xuICAgICAgICB2YWxpZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwLCByZW5kZXJQaXBlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhckxpc3QocmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlLmxpc3QsIDApO1xuICAgICAgfVxuICAgICAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zKHJlbmRlckdyb3VwKTtcbiAgICAgIGlmIChyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgICAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIGJ1aWxkSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCk7XG4gICAgICB9XG4gICAgICByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGUuaW5kZXggPSAwO1xuICAgICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2gudXBsb2FkKHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuc3RhcnQoe1xuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHRyYW5zZm9ybSA/IGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybSA6IGNvbnRhaW5lci5yZW5kZXJHcm91cC53b3JsZFRyYW5zZm9ybSxcbiAgICAgIHdvcmxkQ29sb3I6IGNvbnRhaW5lci5yZW5kZXJHcm91cC53b3JsZENvbG9yQWxwaGFcbiAgICB9KTtcbiAgICBleGVjdXRlSW5zdHJ1Y3Rpb25zKGNvbnRhaW5lci5yZW5kZXJHcm91cCwgcmVuZGVyUGlwZXMpO1xuICAgIGlmIChyZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gpIHtcbiAgICAgIHJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5yZW5kZXJFbmQoKTtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtLmNvcHlGcm9tKG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb250YWluZXIucGFyZW50ID0gcGFyZW50O1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwUGFyZW50O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuUmVuZGVyR3JvdXBTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcInJlbmRlckdyb3VwXCJcbn07XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCkge1xuICBjb25zdCB7IGxpc3QsIGluZGV4IH0gPSByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGxpc3RbaV07XG4gICAgaWYgKGNvbnRhaW5lci5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICByZW5kZXJHcm91cC51cGRhdGVSZW5kZXJhYmxlKGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG4gIGNsZWFyTGlzdChsaXN0LCBpbmRleCk7XG59XG5cbmV4cG9ydCB7IFJlbmRlckdyb3VwU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJHcm91cFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4vQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1U3ByaXRlSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoc3ByaXRlLl9kaWRTcHJpdGVVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goZ3B1U3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdO1xuICAgIGlmIChzcHJpdGUuX2RpZFNwcml0ZVVwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgZ3B1U3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1U3ByaXRlKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoZ3B1U3ByaXRlLnRleHR1cmUuX3NvdXJjZSAhPT0gdGV4dHVyZS5fc291cmNlKSB7XG4gICAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoZ3B1U3ByaXRlLCB0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF07XG4gICAgQmlnUG9vbC5yZXR1cm4oYmF0Y2hhYmxlU3ByaXRlKTtcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdID0gbnVsbDtcbiAgICBzcHJpdGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBzcHJpdGUuX2RpZFNwcml0ZVVwZGF0ZSA9IGZhbHNlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMgPSBzcHJpdGUuYm91bmRzO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVTcHJpdGUoc3ByaXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gfHwgdGhpcy5faW5pdEdQVVNwcml0ZShzcHJpdGUpO1xuICB9XG4gIF9pbml0R1BVU3ByaXRlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IEJpZ1Bvb2wuZ2V0KEJhdGNoYWJsZVNwcml0ZSk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGUgPSBzcHJpdGU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IHNwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0gc3ByaXRlLmJvdW5kcztcbiAgICBiYXRjaGFibGVTcHJpdGUucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBzcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBiYXRjaGFibGVTcHJpdGU7XG4gICAgc3ByaXRlLl9kaWRTcHJpdGVVcGRhdGUgPSBmYWxzZTtcbiAgICBzcHJpdGUub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIGJhdGNoYWJsZVNwcml0ZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVTcHJpdGVIYXNoKSB7XG4gICAgICBCaWdQb29sLnJldHVybih0aGlzLl9ncHVTcHJpdGVIYXNoW2ldKTtcbiAgICB9XG4gICAgdGhpcy5fZ3B1U3ByaXRlSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuU3ByaXRlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwic3ByaXRlXCJcbn07XG5cbmV4cG9ydCB7IFNwcml0ZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBEZWZhdWx0QmF0Y2hlciB9IGZyb20gJy4vRGVmYXVsdEJhdGNoZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmF0Y2hlclBpcGUgPSBjbGFzcyBfQmF0Y2hlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8qKiBBIHJlY29yZCBvZiBhbGwgYWN0aXZlIGJhdGNoZXJzLCBrZXllZCBieSB0aGVpciBuYW1lcyAqL1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0Py4odGhpcyk7XG4gIH1cbiAgc3RhdGljIGdldEJhdGNoZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgdGhpcy5fYXZhaWxhYmxlQmF0Y2hlcnNbbmFtZV0oKTtcbiAgfVxuICBidWlsZFN0YXJ0KGluc3RydWN0aW9uU2V0KSB7XG4gICAgbGV0IGJhdGNoZXJzID0gdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0W2luc3RydWN0aW9uU2V0LnVpZF07XG4gICAgaWYgKCFiYXRjaGVycykge1xuICAgICAgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgYmF0Y2hlcnMuZGVmYXVsdCB8fCAoYmF0Y2hlcnMuZGVmYXVsdCA9IG5ldyBEZWZhdWx0QmF0Y2hlcigpKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IGJhdGNoZXJzO1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlcy5kZWZhdWx0O1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9hY3RpdmVCYXRjaGVzKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaGVzW2ldLmJlZ2luKCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmF0Y2goYmF0Y2hhYmxlT2JqZWN0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmVCYXRjaC5uYW1lICE9PSBiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGxldCBiYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXNbYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lXTtcbiAgICAgIGlmICghYmF0Y2gpIHtcbiAgICAgICAgYmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzW2JhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZV0gPSBfQmF0Y2hlclBpcGUuZ2V0QmF0Y2hlcihiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpO1xuICAgICAgICBiYXRjaC5iZWdpbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2ggPSBiYXRjaDtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2guYWRkKGJhdGNoYWJsZU9iamVjdCk7XG4gIH1cbiAgYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuX2FjdGl2ZUJhdGNoZXM7XG4gICAgZm9yIChjb25zdCBpIGluIGJhdGNoZXMpIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2guZ2VvbWV0cnk7XG4gICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5zZXREYXRhV2l0aFNpemUoYmF0Y2guaW5kZXhCdWZmZXIsIGJhdGNoLmluZGV4U2l6ZSwgdHJ1ZSk7XG4gICAgICBnZW9tZXRyeS5idWZmZXJzWzBdLnNldERhdGFXaXRoU2l6ZShiYXRjaC5hdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsIGJhdGNoLmF0dHJpYnV0ZVNpemUsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgdXBsb2FkKGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gYmF0Y2hlcnMpIHtcbiAgICAgIGNvbnN0IGJhdGNoZXIgPSBiYXRjaGVyc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2hlci5nZW9tZXRyeTtcbiAgICAgIGlmIChiYXRjaGVyLmRpcnR5KSB7XG4gICAgICAgIGJhdGNoZXIuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoYmF0Y2hlci5hdHRyaWJ1dGVTaXplICogNCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUoYmF0Y2gpIHtcbiAgICBpZiAoYmF0Y2guYWN0aW9uID09PSBcInN0YXJ0QmF0Y2hcIikge1xuICAgICAgY29uc3QgYmF0Y2hlciA9IGJhdGNoLmJhdGNoZXI7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGJhdGNoZXIuZ2VvbWV0cnk7XG4gICAgICBjb25zdCBzaGFkZXIgPSBiYXRjaGVyLnNoYWRlcjtcbiAgICAgIHRoaXMuX2FkYXB0b3Iuc3RhcnQodGhpcywgZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgfVxuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBiYXRjaCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9hZGFwdG9yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fYWN0aXZlQmF0Y2hlcykge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2hlc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9CYXRjaGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmF0Y2hcIlxufTtcbl9CYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmxldCBCYXRjaGVyUGlwZSA9IF9CYXRjaGVyUGlwZTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlNYXAoRXh0ZW5zaW9uVHlwZS5CYXRjaGVyLCBCYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMpO1xuZXh0ZW5zaW9ucy5hZGQoRGVmYXVsdEJhdGNoZXIpO1xuXG5leHBvcnQgeyBCYXRjaGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hlclBpcGUubWpzLm1hcFxuIiwidmFyIHNvdXJjZSA9IFwic3RydWN0IEdsb2JhbEZpbHRlclVuaWZvcm1zIHtcXG4gIHVJbnB1dFNpemU6dmVjNDxmMzI+LFxcbiAgdUlucHV0UGl4ZWw6dmVjNDxmMzI+LFxcbiAgdUlucHV0Q2xhbXA6dmVjNDxmMzI+LFxcbiAgdU91dHB1dEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVHbG9iYWxGcmFtZTp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0VGV4dHVyZTp2ZWM0PGYzMj4sICBcXG59O1xcblxcbnN0cnVjdCBNYXNrVW5pZm9ybXMge1xcbiAgdUZpbHRlck1hdHJpeDptYXQzeDM8ZjMyPixcXG4gIHVNYXNrQ2xhbXA6dmVjNDxmMzI+LFxcbiAgdUFscGhhOmYzMixcXG59O1xcblxcblxcbkBncm91cCgwKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZ2Z1OiBHbG9iYWxGaWx0ZXJVbmlmb3JtcztcXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBmaWx0ZXJVbmlmb3JtcyA6IE1hc2tVbmlmb3JtcztcXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMSkgdmFyIHVNYXNrVGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcblxcbnN0cnVjdCBWU091dHB1dCB7XFxuICAgIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbiAgICBAbG9jYXRpb24oMCkgdXYgOiB2ZWMyPGYzMj4sXFxuICAgIEBsb2NhdGlvbigxKSBmaWx0ZXJVdiA6IHZlYzI8ZjMyPixcXG4gIH07XFxuXFxuZm4gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uOnZlYzI8ZjMyPikgLT4gdmVjNDxmMzI+XFxue1xcbiAgICB2YXIgcG9zaXRpb24gPSBhUG9zaXRpb24gKiBnZnUudU91dHB1dEZyYW1lLnp3ICsgZ2Z1LnVPdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gZ2Z1LnVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqZ2Z1LnVPdXRwdXRUZXh0dXJlLnogLyBnZnUudU91dHB1dFRleHR1cmUueSkgLSBnZnUudU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxuZm4gZmlsdGVyVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKGdmdS51T3V0cHV0RnJhbWUuencgKiBnZnUudUlucHV0U2l6ZS56dyk7XFxufVxcblxcbmZuIGdsb2JhbFRleHR1cmVDb29yZCggYVBvc2l0aW9uOnZlYzI8ZjMyPiApIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiAgKGFQb3NpdGlvbi54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpICsgKGdmdS51R2xvYmFsRnJhbWUueHkgLyBnZnUudUdsb2JhbEZyYW1lLnp3KTsgIFxcbn1cXG5cXG5mbiBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICggZmlsdGVyVW5pZm9ybXMudUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn1cXG5cXG5mbiBnZXRTaXplKCkgLT4gdmVjMjxmMzI+XFxue1xcblxcbiAgXFxuICByZXR1cm4gZ2Z1LnVHbG9iYWxGcmFtZS56dztcXG59XFxuICBcXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhUG9zaXRpb24gOiB2ZWMyPGYzMj4sIFxcbikgLT4gVlNPdXRwdXQge1xcbiAgcmV0dXJuIFZTT3V0cHV0KFxcbiAgIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbiksXFxuICAgZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbiksXFxuICAgZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKVxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgZmlsdGVyVXY6IHZlYzI8ZjMyPixcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+XFxuKSAtPiBAbG9jYXRpb24oMCkgdmVjNDxmMzI+IHtcXG5cXG4gICAgdmFyIG1hc2tDbGFtcCA9IGZpbHRlclVuaWZvcm1zLnVNYXNrQ2xhbXA7XFxuXFxuICAgICB2YXIgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgZmlsdGVyVXYueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgZmlsdGVyVXYueSkgK1xcbiAgICAgICAgc3RlcChmaWx0ZXJVdi54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcChmaWx0ZXJVdi55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2YXIgbWFzayA9IHRleHR1cmVTYW1wbGUodU1hc2tUZXh0dXJlLCB1U2FtcGxlciwgZmlsdGVyVXYpO1xcbiAgICB2YXIgc291cmNlID0gdGV4dHVyZVNhbXBsZSh1VGV4dHVyZSwgdVNhbXBsZXIsIHV2KTtcXG4gICAgXFxuICAgIHZhciBucG1BbHBoYSA9IDAuMDtcXG5cXG4gICAgdmFyIGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFzay5hKTtcXG5cXG4gICAgdmFyIGEgPSAoYWxwaGFNdWwgKiBtYXNrLnIpICogY2xpcDtcXG5cXG4gICAgcmV0dXJuIHZlYzQoc291cmNlLnJnYiwgc291cmNlLmEpICogYTtcXG59XCI7XG5cbmV4cG9ydCB7IHNvdXJjZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVNYXRyaXgubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uL0ZpbHRlci5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbWFzay5mcmFnLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vbWFzay52ZXJ0Lm1qcyc7XG5pbXBvcnQgc291cmNlIGZyb20gJy4vbWFzay53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNwcml0ZSwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgoc3ByaXRlLnRleHR1cmUpO1xuICAgIGNvbnN0IGZpbHRlclVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1RmlsdGVyTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdU1hc2tDbGFtcDogeyB2YWx1ZTogdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUFscGhhOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH1cbiAgICB9KTtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiXG4gICAgICB9LFxuICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5GcmFnbWVudFwiXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnQsXG4gICAgICBuYW1lOiBcIm1hc2stZmlsdGVyXCJcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICAuLi5yZXN0LFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBmaWx0ZXJVbmlmb3JtcyxcbiAgICAgICAgdU1hc2tUZXh0dXJlOiBzcHJpdGUudGV4dHVyZS5zb3VyY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNwcml0ZSA9IHNwcml0ZTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4ID0gdGV4dHVyZU1hdHJpeDtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4LnRleHR1cmUgPSB0aGlzLnNwcml0ZS50ZXh0dXJlO1xuICAgIGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KFxuICAgICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUZpbHRlck1hdHJpeCxcbiAgICAgIHRoaXMuc3ByaXRlXG4gICAgKS5wcmVwZW5kKHRoaXMuX3RleHR1cmVNYXRyaXgubWFwQ29vcmQpO1xuICAgIHRoaXMucmVzb3VyY2VzLnVNYXNrVGV4dHVyZSA9IHRoaXMuc3ByaXRlLnRleHR1cmUuc291cmNlO1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBNYXNrRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcblxcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxub3V0IHZlYzIgdk1hc2tDb29yZDtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdUlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dEZyYW1lO1xcbnVuaWZvcm0gdmVjNCB1T3V0cHV0VGV4dHVyZTtcXG51bmlmb3JtIG1hdDMgdUZpbHRlck1hdHJpeDtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCAgdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIHVPdXRwdXRGcmFtZS56dyArIHVPdXRwdXRGcmFtZS54eTtcXG4gICAgICAgXFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIHVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqdU91dHB1dFRleHR1cmUueiAvIHVPdXRwdXRUZXh0dXJlLnkpIC0gdU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoICB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52ZWMyIGdldEZpbHRlckNvb3JkKCB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gICggdUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn0gICBcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pO1xcbiAgICB2TWFza0Nvb3JkID0gZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJpbiB2ZWMyIHZNYXNrQ29vcmQ7XFxuaW4gdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVNYXNrVGV4dHVyZTtcXG5cXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG51bmlmb3JtIHZlYzQgdU1hc2tDbGFtcDtcXG5cXG5vdXQgdmVjNCBmaW5hbENvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcCh1TWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcCh1TWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIHVNYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIHVNYXNrQ2xhbXAudykpO1xcblxcbiAgICAvLyBUT0RPIGxvb2sgaW50byB3aHkgdGhpcyBpcyBuZWVkZWRcXG4gICAgZmxvYXQgbnBtQWxwaGEgPSB1QWxwaGE7IFxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZSh1VGV4dHVyZSwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlKHVNYXNrVGV4dHVyZSwgdk1hc2tDb29yZCk7XFxuICAgIGZsb2F0IGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFza3kuYSk7XFxuXFxuICAgIG9yaWdpbmFsICo9IChhbHBoYU11bCAqIG1hc2t5LnIgKiB1QWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZmluYWxDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay5mcmFnLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlckVmZmVjdCB9IGZyb20gJy4uLy4uLy4uL2ZpbHRlcnMvRmlsdGVyRWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyBNYXNrRmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vZmlsdGVycy9tYXNrL01hc2tGaWx0ZXIubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldEdsb2JhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgY29sbGVjdEFsbFJlbmRlcmFibGVzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL3V0aWxzL2J1aWxkSW5zdHJ1Y3Rpb25zLm1qcyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9zcHJpdGUvU3ByaXRlLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy90eXBlcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG5jbGFzcyBBbHBoYU1hc2tFZmZlY3QgZXh0ZW5kcyBGaWx0ZXJFZmZlY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmlsdGVycyA9IFtuZXcgTWFza0ZpbHRlcih7XG4gICAgICBzcHJpdGU6IG5ldyBTcHJpdGUoVGV4dHVyZS5FTVBUWSksXG4gICAgICByZXNvbHV0aW9uOiBcImluaGVyaXRcIixcbiAgICAgIGFudGlhbGlhczogXCJpbmhlcml0XCJcbiAgICB9KV07XG4gIH1cbiAgZ2V0IHNwcml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJzWzBdLnNwcml0ZTtcbiAgfVxuICBzZXQgc3ByaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzWzBdLnNwcml0ZSA9IHZhbHVlO1xuICB9XG59XG5jbGFzcyBBbHBoYU1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHB1c2gobWFzaywgbWFza2VkQ29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiYWxwaGFNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tCZWdpblwiLFxuICAgICAgbWFzayxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2UsXG4gICAgICBtYXNrZWRDb250YWluZXJcbiAgICB9KTtcbiAgICBpZiAobWFzay5yZW5kZXJNYXNrVG9UZXh0dXJlKSB7XG4gICAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gbWFzay5tYXNrO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgICBjb2xsZWN0QWxsUmVuZGVyYWJsZXMoXG4gICAgICAgIG1hc2tDb250YWluZXIsXG4gICAgICAgIGluc3RydWN0aW9uU2V0LFxuICAgICAgICByZW5kZXJlclxuICAgICAgKTtcbiAgICAgIG1hc2tDb250YWluZXIuaW5jbHVkZUluQnVpbGQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiYWxwaGFNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBtYXNrZWRDb250YWluZXIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgcG9wKG1hc2ssIF9tYXNrZWRDb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrRW5kXCIsXG4gICAgICBtYXNrLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBpbnN0cnVjdGlvbi5tYXNrLnJlbmRlck1hc2tUb1RleHR1cmU7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0JlZ2luXCIpIHtcbiAgICAgIGNvbnN0IGZpbHRlckVmZmVjdCA9IEJpZ1Bvb2wuZ2V0KEFscGhhTWFza0VmZmVjdCk7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldEdsb2JhbEJvdW5kcyhpbnN0cnVjdGlvbi5tYXNrLm1hc2ssIHRydWUsIHRlbXBCb3VuZHMpO1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IGZhbHNlO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICBjb2xvclRleHR1cmVTb3VyY2UuX3Jlc29sdXRpb24sXG4gICAgICAgICAgY29sb3JUZXh0dXJlU291cmNlLmFudGlhbGlhc1xuICAgICAgICApO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChmaWx0ZXJUZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICAgICAgb2Zmc2V0OiBib3VuZHMsXG4gICAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gZmlsdGVyRWZmZWN0LnNwcml0ZTtcbiAgICAgICAgc3ByaXRlLnRleHR1cmUgPSBmaWx0ZXJUZXh0dXJlO1xuICAgICAgICBzcHJpdGUud29ybGRUcmFuc2Zvcm0udHggPSBib3VuZHMubWluWDtcbiAgICAgICAgc3ByaXRlLndvcmxkVHJhbnNmb3JtLnR5ID0gYm91bmRzLm1pblk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXIsXG4gICAgICAgICAgZmlsdGVyVGV4dHVyZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlckVmZmVjdC5zcHJpdGUgPSBpbnN0cnVjdGlvbi5tYXNrLm1hc2s7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tFbmRcIikge1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2VbdGhpcy5fYWN0aXZlTWFza1N0YWdlLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHJlbmRlck1hc2spIHtcbiAgICAgICAgaWYgKHJlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHtcbiAgICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgICBjb250YWluZXI6IG1hc2tEYXRhLm1hc2tlZENvbnRhaW5lcixcbiAgICAgICAgZmlsdGVyRWZmZWN0OiBtYXNrRGF0YS5maWx0ZXJFZmZlY3QsXG4gICAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tFbmRcIikge1xuICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UucG9wKCk7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKG1hc2tEYXRhLmZpbHRlclRleHR1cmUpO1xuICAgICAgfVxuICAgICAgQmlnUG9vbC5yZXR1cm4obWFza0RhdGEuZmlsdGVyRWZmZWN0KTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkFscGhhTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImFscGhhTWFza1wiXG59O1xuXG5leHBvcnQgeyBBbHBoYU1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbHBoYU1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDb2xvck1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrID0gW107XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAwO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYnVpbGRTdGFydCgpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrWzBdID0gMTU7XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMTtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAxNTtcbiAgfVxuICBwdXNoKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgY29sb3JTdGFjayA9IHRoaXMuX2NvbG9yU3RhY2s7XG4gICAgY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXhdID0gY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXggLSAxXSAmIG1hc2subWFzaztcbiAgICBjb25zdCBjdXJyZW50Q29sb3IgPSB0aGlzLl9jb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleF07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4Kys7XG4gIH1cbiAgcG9wKF9tYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGNvbG9yU3RhY2sgPSB0aGlzLl9jb2xvclN0YWNrO1xuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleC0tO1xuICAgIGNvbnN0IGN1cnJlbnRDb2xvciA9IGNvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4IC0gMV07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soaW5zdHJ1Y3Rpb24uY29sb3JNYXNrKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2NvbG9yU3RhY2sgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ29sb3JNYXNrUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiY29sb3JNYXNrXCJcbn07XG5cbmV4cG9ydCB7IENvbG9yTWFza1BpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yTWFza1BpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgY29sbGVjdEFsbFJlbmRlcmFibGVzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL3V0aWxzL2J1aWxkSW5zdHJ1Y3Rpb25zLm1qcyc7XG5pbXBvcnQgeyBDTEVBUiB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9nbC9jb25zdC5tanMnO1xuaW1wb3J0IHsgU1RFTkNJTF9NT0RFUyB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBTdGVuY2lsTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8vIHVzZWQgd2hlbiBidWlsZGluZyBhbmQgYWxzbyB3aGVuIGV4ZWN1dGluZy4uXG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaCA9IHt9O1xuICAgIHRoaXMuX21hc2tIYXNoID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBwdXNoKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVmZmVjdCA9IG1hc2s7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmxlbmRNb2RlLnNldEJsZW5kTW9kZShlZmZlY3QubWFzaywgXCJub25lXCIsIGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tCZWdpblwiLFxuICAgICAgbWFzayxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gZWZmZWN0Lm1hc2s7XG4gICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgaWYgKCF0aGlzLl9tYXNrSGFzaC5oYXMoZWZmZWN0KSkge1xuICAgICAgdGhpcy5fbWFza0hhc2guc2V0KGVmZmVjdCwge1xuICAgICAgICBpbnN0cnVjdGlvbnNTdGFydDogMCxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zTGVuZ3RoOiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9tYXNrSGFzaC5nZXQoZWZmZWN0KTtcbiAgICBtYXNrRGF0YS5pbnN0cnVjdGlvbnNTdGFydCA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZTtcbiAgICBjb2xsZWN0QWxsUmVuZGVyYWJsZXMoXG4gICAgICBtYXNrQ29udGFpbmVyLFxuICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICByZW5kZXJlclxuICAgICk7XG4gICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IGZhbHNlO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTGVuZ3RoID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplIC0gbWFza0RhdGEuaW5zdHJ1Y3Rpb25zU3RhcnQgLSAxO1xuICAgIG1hc2tEYXRhLmluc3RydWN0aW9uc0xlbmd0aCA9IGluc3RydWN0aW9uc0xlbmd0aDtcbiAgICBjb25zdCByZW5kZXJUYXJnZXRVaWQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnVpZDtcbiAgICAoX2EgPSB0aGlzLl9tYXNrU3RhY2tIYXNoKVtyZW5kZXJUYXJnZXRVaWRdID8/IChfYVtyZW5kZXJUYXJnZXRVaWRdID0gMCk7XG4gIH1cbiAgcG9wKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZWZmZWN0ID0gbWFzaztcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGVmZmVjdC5tYXNrLCBcIm5vbmVcIiwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrQmVnaW5cIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX21hc2tIYXNoLmdldChtYXNrKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hc2tEYXRhLmluc3RydWN0aW9uc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvbnNbaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplKytdID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zW21hc2tEYXRhLmluc3RydWN0aW9uc1N0YXJ0KytdO1xuICAgIH1cbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicG9wTWFza0VuZFwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJUYXJnZXRVaWQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnVpZDtcbiAgICBsZXQgbWFza1N0YWNrSW5kZXggPSAoX2EgPSB0aGlzLl9tYXNrU3RhY2tIYXNoKVtyZW5kZXJUYXJnZXRVaWRdID8/IChfYVtyZW5kZXJUYXJnZXRVaWRdID0gMCk7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0JlZ2luXCIpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5lbnN1cmVEZXB0aFN0ZW5jaWwoKTtcbiAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19BREQsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIG1hc2tTdGFja0luZGV4Kys7XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygwKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0VuZFwiKSB7XG4gICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDE1KTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BNYXNrQmVnaW5cIikge1xuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMCk7XG4gICAgICBpZiAobWFza1N0YWNrSW5kZXggIT09IDApIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX1JFTU9WRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmNsZWFyKG51bGwsIENMRUFSLlNURU5DSUwpO1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuRElTQUJMRUQsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH1cbiAgICAgIG1hc2tTdGFja0luZGV4LS07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wTWFza0VuZFwiKSB7XG4gICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDE1KTtcbiAgICB9XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaFtyZW5kZXJUYXJnZXRVaWRdID0gbWFza1N0YWNrSW5kZXg7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fbWFza0hhc2ggPSBudWxsO1xuICB9XG59XG5TdGVuY2lsTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInN0ZW5jaWxNYXNrXCJcbn07XG5cbmV4cG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RlbmNpbE1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmFja2dyb3VuZFN5c3RlbSA9IGNsYXNzIF9CYWNrZ3JvdW5kU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gbmV3IENvbG9yKDApO1xuICAgIHRoaXMuY29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gIH1cbiAgLyoqXG4gICAqIGluaXRpYXRlcyB0aGUgYmFja2dyb3VuZCBzeXN0ZW1cbiAgICogQHBhcmFtIG9wdGlvbnMgLSB0aGUgb3B0aW9ucyBmb3IgdGhlIGJhY2tncm91bmQgY29sb3JzXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fQmFja2dyb3VuZFN5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmJhY2tncm91bmQgfHwgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmJhY2tncm91bmRBbHBoYTtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0QWxwaGEob3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudCAqL1xuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgfVxuICBzZXQgY29sb3IodmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhbHBoYS4gU2V0dGluZyB0aGlzIHRvIDAgd2lsbCBtYWtlIHRoZSBjYW52YXMgdHJhbnNwYXJlbnQuICovXG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLmFscGhhO1xuICB9XG4gIHNldCBhbHBoYSh2YWx1ZSkge1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvci5zZXRBbHBoYSh2YWx1ZSk7XG4gIH1cbiAgLyoqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCLCBBXSBhcnJheS4gKi9cbiAgZ2V0IGNvbG9yUmdiYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLnRvQXJyYXkoKTtcbiAgfVxuICAvKipcbiAgICogZGVzdHJveXMgdGhlIGJhY2tncm91bmQgc3lzdGVtXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9CYWNrZ3JvdW5kU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJiYWNrZ3JvdW5kXCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBzeXN0ZW0gKi9cbl9CYWNrZ3JvdW5kU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGF9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIGJhY2tncm91bmRBbHBoYTogMSxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuYmFja2dyb3VuZENvbG9yfVxuICAgKiBAZGVmYXVsdCAweDAwMDAwMFxuICAgKi9cbiAgYmFja2dyb3VuZENvbG9yOiAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWVcbn07XG5sZXQgQmFja2dyb3VuZFN5c3RlbSA9IF9CYWNrZ3JvdW5kU3lzdGVtO1xuXG5leHBvcnQgeyBCYWNrZ3JvdW5kU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYWNrZ3JvdW5kU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMsIEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlckVmZmVjdCB9IGZyb20gJy4uLy4uLy4uLy4uL2ZpbHRlcnMvRmlsdGVyRWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgQkxFTkRfTU9ERV9GSUxURVJTID0ge307XG5leHRlbnNpb25zLmhhbmRsZShFeHRlbnNpb25UeXBlLkJsZW5kTW9kZSwgKHZhbHVlKSA9PiB7XG4gIGlmICghdmFsdWUubmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkJsZW5kTW9kZSBleHRlbnNpb24gbXVzdCBoYXZlIGEgbmFtZSBwcm9wZXJ0eVwiKTtcbiAgfVxuICBCTEVORF9NT0RFX0ZJTFRFUlNbdmFsdWUubmFtZV0gPSB2YWx1ZS5yZWY7XG59LCAodmFsdWUpID0+IHtcbiAgZGVsZXRlIEJMRU5EX01PREVfRklMVEVSU1t2YWx1ZS5uYW1lXTtcbn0pO1xuY2xhc3MgQmxlbmRNb2RlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhIGJsZW5kTW9kZSBzd2l0Y2ggaXMgYWRkZWQgdG8gdGhlIGluc3RydWN0aW9uIHNldCBpZiB0aGUgYmxlbmQgbW9kZSBoYXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB3ZSBhcmUgYWRkaW5nIHRvIHRoZSBpbnN0cnVjdGlvbiBzZXRcbiAgICogQHBhcmFtIGJsZW5kTW9kZSAtIFRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJhYmxlXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKi9cbiAgc2V0QmxlbmRNb2RlKHJlbmRlcmFibGUsIGJsZW5kTW9kZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKVxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdC5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9ICEhQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV07XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QucHVzaChyZW5kZXJhYmxlKTtcbiAgICB9XG4gIH1cbiAgX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5fYWN0aXZlQmxlbmRNb2RlO1xuICAgIGlmICghQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV0pIHtcbiAgICAgIHdhcm4oYFVuYWJsZSB0byBhc3NpZ24gQmxlbmRNb2RlOiAnJHtibGVuZE1vZGV9Jy4gWW91IG1heSB3YW50IHRvIGluY2x1ZGU6IGltcG9ydCAncGl4aS5qcy9hZHZhbmNlZC1ibGVuZC1tb2RlcydgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZpbHRlckVmZmVjdCA9IHRoaXMuX2ZpbHRlckhhc2hbYmxlbmRNb2RlXTtcbiAgICBpZiAoIWZpbHRlckVmZmVjdCkge1xuICAgICAgZmlsdGVyRWZmZWN0ID0gdGhpcy5fZmlsdGVySGFzaFtibGVuZE1vZGVdID0gbmV3IEZpbHRlckVmZmVjdCgpO1xuICAgICAgZmlsdGVyRWZmZWN0LmZpbHRlcnMgPSBbbmV3IEJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdKCldO1xuICAgIH1cbiAgICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICByZW5kZXJhYmxlczogW10sXG4gICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdCA9IGluc3RydWN0aW9uLnJlbmRlcmFibGVzO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChpbnN0cnVjdGlvbik7XG4gIH1cbiAgX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgYWN0aW9uOiBcInBvcEZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgaW5zdHJ1Y3Rpb24gYnVpbGQgcHJvY2VzcyBpcyBzdGFydGluZyB0aGlzIHdpbGwgcmVzZXQgaW50ZXJuYWxseSB0byB0aGUgZGVmYXVsdCBibGVuZCBtb2RlXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBidWlsZFN0YXJ0KCkge1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogY2FsbGVkIHdoZW4gdGhlIGluc3RydWN0aW9uIGJ1aWxkIHByb2Nlc3MgaXMgZmluaXNoZWQsIGVuc3VyaW5nIHRoYXQgaWYgdGhlcmUgaXMgYW4gYWR2YW5jZWQgYmxlbmQgbW9kZVxuICAgKiBhY3RpdmUsIHdlIGFkZCB0aGUgZmluYWwgcmVuZGVyIGluc3RydWN0aW9ucyBhZGRlZCB0byB0aGUgaW5zdHJ1Y3Rpb24gc2V0XG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKiBAaW50ZXJuYWxcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5faXNBZHZhbmNlZCkge1xuICAgICAgdGhpcy5fZW5kQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0ID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZmlsdGVySGFzaCkge1xuICAgICAgdGhpcy5fZmlsdGVySGFzaFtpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQmxlbmRNb2RlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmxlbmRNb2RlXCJcbn07XG5cbmV4cG9ydCB7IEJsZW5kTW9kZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsZW5kTW9kZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGltYWdlVHlwZXMgPSB7XG4gIHBuZzogXCJpbWFnZS9wbmdcIixcbiAganBnOiBcImltYWdlL2pwZWdcIixcbiAgd2VicDogXCJpbWFnZS93ZWJwXCJcbn07XG5jb25zdCBfRXh0cmFjdFN5c3RlbSA9IGNsYXNzIF9FeHRyYWN0U3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBfbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBDb250YWluZXIgfHwgb3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogb3B0aW9ucyxcbiAgICAgICAgLi4uZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyAtIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgKi9cbiAgYXN5bmMgaW1hZ2Uob3B0aW9ucykge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uuc3JjID0gYXdhaXQgdGhpcy5iYXNlNjQob3B0aW9ucyk7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgKiBgRXh0cmFjdC5jYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqL1xuICBhc3luYyBiYXNlNjQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIF9FeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IHsgZm9ybWF0LCBxdWFsaXR5IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGlmIChjYW52YXMudG9CbG9iICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJQ2FudmFzLnRvQmxvYiBmYWlsZWQhXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgICAgfSwgaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLnRvRGF0YVVSTCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChpbWFnZVR5cGVzW2Zvcm1hdF0sIHF1YWxpdHkpO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLmNvbnZlcnRUb0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGNhbnZhcy5jb252ZXJ0VG9CbG9iKHsgdHlwZTogaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5IH0pO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHRyYWN0LmJhc2U2NCgpIHJlcXVpcmVzIElDYW52YXMudG9EYXRhVVJMLCBJQ2FudmFzLnRvQmxvYiwgb3IgSUNhbnZhcy5jb252ZXJ0VG9CbG9iIHRvIGJlIGltcGxlbWVudGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGNhbnZhcywgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIC0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgKi9cbiAgY2FudmFzKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICByZXR1cm4gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0YXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0ZXh0dXJlKTtcbiAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGV4dHJhY3RpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgLSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICovXG4gIHBpeGVscyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGFyZ2V0IGluc3RhbmNlb2YgVGV4dHVyZSA/IHRhcmdldCA6IHJlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpO1xuICAgIGNvbnN0IHBpeGVsSW5mbyA9IHJlbmRlcmVyLnRleHR1cmUuZ2V0UGl4ZWxzKHRleHR1cmUpO1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gcGl4ZWxJbmZvO1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIHRleHR1cmUgb2YgdGhlIHRhcmdldFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgdGV4dHVyZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIC0gQSB0ZXh0dXJlIG9mIHRoZSB0YXJnZXRcbiAgICovXG4gIHRleHR1cmUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICByZXR1cm4gb3B0aW9ucy50YXJnZXQ7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIGV4dHJhY3QgYSBIVE1MSW1hZ2Ugb2YgdGhlIHRhcmdldCBhbmQgZG93bmxvYWQgaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgZG93bmxvYWRpbmcgYW5kIGV4dHJhY3RpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICovXG4gIGRvd25sb2FkKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcyhvcHRpb25zKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbGluay5kb3dubG9hZCA9IG9wdGlvbnMuZmlsZW5hbWUgPz8gXCJpbWFnZS5wbmdcIjtcbiAgICBsaW5rLmhyZWYgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gIH1cbiAgLyoqXG4gICAqIExvZ3MgdGhlIHRhcmdldCB0byB0aGUgY29uc29sZSBhcyBhbiBpbWFnZS4gVGhpcyBpcyBhIHVzZWZ1bCB3YXkgdG8gZGVidWcgd2hhdCdzIGhhcHBlbmluZyBpbiB0aGUgcmVuZGVyZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGxvZ2dpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGxvZ1xuICAgKi9cbiAgbG9nKG9wdGlvbnMpIHtcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPz8gMjAwO1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICBjb25zb2xlLmxvZyhgW1BpeGkgVGV4dHVyZV0gJHtjYW52YXMud2lkdGh9cHggJHtjYW52YXMuaGVpZ2h0fXB4YCk7XG4gICAgY29uc3Qgc3R5bGUgPSBbXG4gICAgICBcImZvbnQtc2l6ZTogMXB4O1wiLFxuICAgICAgYHBhZGRpbmc6ICR7d2lkdGh9cHggJHszMDB9cHg7YCxcbiAgICAgIGBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlNjR9KSBuby1yZXBlYXQ7YCxcbiAgICAgIFwiYmFja2dyb3VuZC1zaXplOiBjb250YWluO1wiXG4gICAgXS5qb2luKFwiIFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIiVjIFwiLCBzdHlsZSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0V4dHJhY3RTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImV4dHJhY3RcIlxufTtcbi8qKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGNyZWF0aW5nIGFuIGltYWdlLiAqL1xuX0V4dHJhY3RTeXN0ZW0uZGVmYXVsdEltYWdlT3B0aW9ucyA9IHtcbiAgLyoqIFRoZSBmb3JtYXQgb2YgdGhlIGltYWdlLiAqL1xuICBmb3JtYXQ6IFwicG5nXCIsXG4gIC8qKiBUaGUgcXVhbGl0eSBvZiB0aGUgaW1hZ2UuICovXG4gIHF1YWxpdHk6IDFcbn07XG5sZXQgRXh0cmFjdFN5c3RlbSA9IF9FeHRyYWN0U3lzdGVtO1xuXG5leHBvcnQgeyBFeHRyYWN0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRyYWN0U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlbmRlclRleHR1cmUgZXh0ZW5kcyBUZXh0dXJlIHtcbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKHtcbiAgICAgIHNvdXJjZTogbmV3IFRleHR1cmVTb3VyY2Uob3B0aW9ucylcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSB3aWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEByZXR1cm5zIFRoaXMgdGV4dHVyZS5cbiAgICovXG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlbmRlclRleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRleHR1cmUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldExvY2FsQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRMb2NhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmNvbnN0IG5vQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5jbGFzcyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIEEgVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBjb250YWluZXIgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICogQHBhcmFtIHtHZW5lcmF0ZVRleHR1cmVPcHRpb25zIHwgQ29udGFpbmVyfSBvcHRpb25zIC0gR2VuZXJhdGUgdGV4dHVyZSBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gW29wdGlvbnMuY29udGFpbmVyXSAtIElmIG5vdCBnaXZlbiwgdGhlIHJlbmRlcmVyJ3MgcmVzb2x1dGlvbiBpcyB1c2VkLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gb3B0aW9ucy5yZWdpb24gLSBUaGUgcmVnaW9uIG9mIHRoZSBjb250YWluZXIsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHtHZW5lcmF0ZVRleHR1cmVTb3VyY2VPcHRpb25zfSBbb3B0aW9ucy50ZXh0dXJlU291cmNlT3B0aW9uc10gLSBUZXh0dXJlIG9wdGlvbnMgZm9yIEdQVS5cbiAgICogQHJldHVybnMgYSBzaGlueSBuZXcgdGV4dHVyZSBvZiB0aGUgY29udGFpbmVyIHBhc3NlZCBpblxuICAgKi9cbiAgZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0OiBvcHRpb25zLFxuICAgICAgICBmcmFtZTogdm9pZCAwLFxuICAgICAgICB0ZXh0dXJlU291cmNlT3B0aW9uczoge30sXG4gICAgICAgIHJlc29sdXRpb246IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IGFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzIHx8IHRoaXMuX3JlbmRlcmVyLnZpZXcuYW50aWFsaWFzO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIGxldCBjbGVhckNvbG9yID0gb3B0aW9ucy5jbGVhckNvbG9yO1xuICAgIGlmIChjbGVhckNvbG9yKSB7XG4gICAgICBjb25zdCBpc1JHQkFBcnJheSA9IEFycmF5LmlzQXJyYXkoY2xlYXJDb2xvcikgJiYgY2xlYXJDb2xvci5sZW5ndGggPT09IDQ7XG4gICAgICBjbGVhckNvbG9yID0gaXNSR0JBQXJyYXkgPyBjbGVhckNvbG9yIDogQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNsZWFyQ29sb3IpLnRvQXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJDb2xvciA9IG5vQ29sb3I7XG4gICAgfVxuICAgIGNvbnN0IHJlZ2lvbiA9IG9wdGlvbnMuZnJhbWU/LmNvcHlUbyh0ZW1wUmVjdCkgfHwgZ2V0TG9jYWxCb3VuZHMoY29udGFpbmVyLCB0ZW1wQm91bmRzKS5yZWN0YW5nbGU7XG4gICAgcmVnaW9uLndpZHRoID0gTWF0aC5tYXgocmVnaW9uLndpZHRoLCAxIC8gcmVzb2x1dGlvbikgfCAwO1xuICAgIHJlZ2lvbi5oZWlnaHQgPSBNYXRoLm1heChyZWdpb24uaGVpZ2h0LCAxIC8gcmVzb2x1dGlvbikgfCAwO1xuICAgIGNvbnN0IHRhcmdldCA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgIC4uLm9wdGlvbnMudGV4dHVyZVNvdXJjZU9wdGlvbnMsXG4gICAgICB3aWR0aDogcmVnaW9uLndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIGFudGlhbGlhc1xuICAgIH0pO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IE1hdHJpeC5zaGFyZWQudHJhbnNsYXRlKC1yZWdpb24ueCwgLXJlZ2lvbi55KTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXIoe1xuICAgICAgY29udGFpbmVyLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdGFyZ2V0LFxuICAgICAgY2xlYXJDb2xvclxuICAgIH0pO1xuICAgIHRhcmdldC5zb3VyY2UudXBkYXRlTWlwbWFwcygpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HZW5lcmF0ZVRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInRleHR1cmVHZW5lcmF0b3JcIlxufTtcblxuZXhwb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMnO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vLi4vZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR2xvYmFsVW5pZm9ybVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fc3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFjayA9IFtdO1xuICAgIHRoaXMuX3VuaWZvcm1zUG9vbCA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zID0gW107XG4gICAgdGhpcy5fYmluZEdyb3VwUG9vbCA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3N0YWNrSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlVW5pZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX3VuaWZvcm1zUG9vbC5wdXNoKHRoaXMuX2FjdGl2ZVVuaWZvcm1zW2ldKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9iaW5kR3JvdXBQb29sLnB1c2godGhpcy5fYWN0aXZlQmluZEdyb3Vwc1tpXSk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fYWN0aXZlQmluZEdyb3Vwcy5sZW5ndGggPSAwO1xuICB9XG4gIHN0YXJ0KG9wdGlvbnMpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5wdXNoKG9wdGlvbnMpO1xuICB9XG4gIGJpbmQoe1xuICAgIHNpemUsXG4gICAgcHJvamVjdGlvbk1hdHJpeCxcbiAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICB3b3JsZENvbG9yLFxuICAgIG9mZnNldFxuICB9KSB7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldDtcbiAgICBjb25zdCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEgPSB0aGlzLl9zdGFja0luZGV4ID8gdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFja1t0aGlzLl9zdGFja0luZGV4IC0gMV0gOiB7XG4gICAgICBwcm9qZWN0aW9uRGF0YTogcmVuZGVyVGFyZ2V0LFxuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgIHdvcmxkQ29sb3I6IDQyOTQ5NjcyOTUsXG4gICAgICBvZmZzZXQ6IG5ldyBQb2ludCgpXG4gICAgfTtcbiAgICBjb25zdCBnbG9iYWxVbmlmb3JtRGF0YSA9IHtcbiAgICAgIHByb2plY3Rpb25NYXRyaXg6IHByb2plY3Rpb25NYXRyaXggfHwgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgsXG4gICAgICByZXNvbHV0aW9uOiBzaXplIHx8IHJlbmRlclRhcmdldC5zaXplLFxuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHdvcmxkVHJhbnNmb3JtTWF0cml4IHx8IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS53b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICAgIHdvcmxkQ29sb3I6IHdvcmxkQ29sb3IgfHwgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLndvcmxkQ29sb3IsXG4gICAgICBvZmZzZXQ6IG9mZnNldCB8fCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEub2Zmc2V0LFxuICAgICAgYmluZEdyb3VwOiBudWxsXG4gICAgfTtcbiAgICBjb25zdCB1bmlmb3JtR3JvdXAgPSB0aGlzLl91bmlmb3Jtc1Bvb2wucG9wKCkgfHwgdGhpcy5fY3JlYXRlVW5pZm9ybXMoKTtcbiAgICB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5wdXNoKHVuaWZvcm1Hcm91cCk7XG4gICAgY29uc3QgdW5pZm9ybXMgPSB1bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgdW5pZm9ybXMudVByb2plY3Rpb25NYXRyaXggPSBnbG9iYWxVbmlmb3JtRGF0YS5wcm9qZWN0aW9uTWF0cml4O1xuICAgIHVuaWZvcm1zLnVSZXNvbHV0aW9uID0gZ2xvYmFsVW5pZm9ybURhdGEucmVzb2x1dGlvbjtcbiAgICB1bmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXguY29weUZyb20oZ2xvYmFsVW5pZm9ybURhdGEud29ybGRUcmFuc2Zvcm1NYXRyaXgpO1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC50eCAtPSBnbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQueDtcbiAgICB1bmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXgudHkgLT0gZ2xvYmFsVW5pZm9ybURhdGEub2Zmc2V0Lnk7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGdsb2JhbFVuaWZvcm1EYXRhLndvcmxkQ29sb3IsXG4gICAgICB1bmlmb3Jtcy51V29ybGRDb2xvckFscGhhLFxuICAgICAgMFxuICAgICk7XG4gICAgdW5pZm9ybUdyb3VwLnVwZGF0ZSgpO1xuICAgIGxldCBiaW5kR3JvdXA7XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaCkge1xuICAgICAgYmluZEdyb3VwID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoLmdldFVuaWZvcm1CaW5kR3JvdXAodW5pZm9ybUdyb3VwLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJpbmRHcm91cCA9IHRoaXMuX2JpbmRHcm91cFBvb2wucG9wKCkgfHwgbmV3IEJpbmRHcm91cCgpO1xuICAgICAgdGhpcy5fYWN0aXZlQmluZEdyb3Vwcy5wdXNoKGJpbmRHcm91cCk7XG4gICAgICBiaW5kR3JvdXAuc2V0UmVzb3VyY2UodW5pZm9ybUdyb3VwLCAwKTtcbiAgICB9XG4gICAgZ2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwID0gYmluZEdyb3VwO1xuICAgIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IGdsb2JhbFVuaWZvcm1EYXRhO1xuICB9XG4gIHB1c2gob3B0aW9ucykge1xuICAgIHRoaXMuYmluZChvcHRpb25zKTtcbiAgICB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrW3RoaXMuX3N0YWNrSW5kZXgrK10gPSB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGE7XG4gIH1cbiAgcG9wKCkge1xuICAgIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2tbLS10aGlzLl9zdGFja0luZGV4IC0gMV07XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cC5yZXNvdXJjZXNbMF0udXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGdldCBiaW5kR3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXA7XG4gIH1cbiAgZ2V0IHVuaWZvcm1Hcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cC5yZXNvdXJjZXNbMF07XG4gIH1cbiAgX2NyZWF0ZVVuaWZvcm1zKCkge1xuICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1UHJvamVjdGlvbk1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVXb3JsZFRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIC8vIFRPRE8gLSBzb21lb25lIHNtYXJ0IC0gc2V0IHRoaXMgdG8gYmUgYSB1bm9ybTh4NCByYXRoZXIgdGhhbiBhIHZlYzQ8ZjMyPlxuICAgICAgdVdvcmxkQ29sb3JBbHBoYTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVJlc29sdXRpb246IHsgdmFsdWU6IFswLCAwXSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9XG4gICAgfSwge1xuICAgICAgaXNTdGF0aWM6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZ2xvYmFsVW5pZm9ybXM7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HbG9iYWxVbmlmb3JtU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJnbG9iYWxVbmlmb3Jtc1wiXG59O1xuXG5leHBvcnQgeyBHbG9iYWxVbmlmb3JtU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbG9iYWxVbmlmb3JtU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJy4uLy4uLy4uL3RpY2tlci9UaWNrZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdWlkID0gMTtcbmNsYXNzIFNjaGVkdWxlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3Rhc2tzID0gW107XG4gIH1cbiAgLyoqIEluaXRpYWxpemVzIHRoZSBzY2hlZHVsZXIgc3lzdGVtIGFuZCBzdGFydHMgdGhlIHRpY2tlci4gKi9cbiAgaW5pdCgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSByZXBlYXRpbmcgdGFzay5cbiAgICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIGR1cmF0aW9uIC0gVGhlIGludGVydmFsIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybnMgVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2NoZWR1bGVkIHRhc2suXG4gICAqL1xuICByZXBlYXQoZnVuYywgZHVyYXRpb24pIHtcbiAgICBjb25zdCBpZCA9IHVpZCsrO1xuICAgIHRoaXMuX3Rhc2tzLnB1c2goe1xuICAgICAgZnVuYyxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgc3RhcnQ6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgbGFzdDogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICByZXBlYXQ6IHRydWUsXG4gICAgICBpZFxuICAgIH0pO1xuICAgIHJldHVybiBpZDtcbiAgfVxuICAvKipcbiAgICogQ2FuY2VscyBhIHNjaGVkdWxlZCB0YXNrLlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHRhc2sgdG8gY2FuY2VsLlxuICAgKi9cbiAgY2FuY2VsKGlkKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX3Rhc2tzW2ldLmlkID09PSBpZCkge1xuICAgICAgICB0aGlzLl90YXNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYW5kIGV4ZWN1dGVzIHRoZSBzY2hlZHVsZWQgdGFza3MuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlKCkge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLl90YXNrc1tpXTtcbiAgICAgIGlmIChub3cgLSB0YXNrLmxhc3QgPj0gdGFzay5kdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gdGFzay5zdGFydDtcbiAgICAgICAgdGFzay5mdW5jKGVsYXBzZWQpO1xuICAgICAgICB0YXNrLmxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgc2NoZWR1bGVyIHN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgdGFza3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG4gICAgdGhpcy5fdGFza3MubGVuZ3RoID0gMDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblNjaGVkdWxlclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwic2NoZWR1bGVyXCIsXG4gIHByaW9yaXR5OiAwXG59O1xuXG5leHBvcnQgeyBTY2hlZHVsZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgc2FpZEhlbGxvID0gZmFsc2U7XG5mdW5jdGlvbiBzYXlIZWxsbyh0eXBlKSB7XG4gIGlmIChzYWlkSGVsbG8pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKERPTUFkYXB0ZXIuZ2V0KCkuZ2V0TmF2aWdhdG9yKCkudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImNocm9tZVwiKSA+IC0xKSB7XG4gICAgY29uc3QgYXJncyA9IFtcbiAgICAgIGAlYyAgJWMgICVjICAlYyAgJWMgUGl4aUpTICVjIHYke1ZFUlNJT059ICgke3R5cGV9KSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXG5cbmAsXG4gICAgICBcImJhY2tncm91bmQ6ICNFNzIyNjQ7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICM2Q0EyRUE7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICNCNUQzM0Q7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICNGRUQyM0Y7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImNvbG9yOiAjRkZGRkZGOyBiYWNrZ3JvdW5kOiAjRTcyMjY0OyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJjb2xvcjogI0U3MjI2NDsgYmFja2dyb3VuZDogI0ZGRkZGRjsgcGFkZGluZzo1cHggMDtcIlxuICAgIF07XG4gICAgZ2xvYmFsVGhpcy5jb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgfSBlbHNlIGlmIChnbG9iYWxUaGlzLmNvbnNvbGUpIHtcbiAgICBnbG9iYWxUaGlzLmNvbnNvbGUubG9nKGBQaXhpSlMgJHtWRVJTSU9OfSAtICR7dHlwZX0gLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vYCk7XG4gIH1cbiAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgc2F5SGVsbG8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNheUhlbGxvLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IHNheUhlbGxvIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvc2F5SGVsbG8ubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSGVsbG9TeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIEl0IGFsbCBzdGFydHMgaGVyZSEgVGhpcyBpbml0aWF0ZXMgZXZlcnkgc3lzdGVtLCBwYXNzaW5nIGluIHRoZSBvcHRpb25zIGZvciBhbnkgc3lzdGVtIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIGNvbmZpZyBmb3IgdGhlIHJlbmRlcmVyIGFuZCBhbGwgaXRzIHN5c3RlbXNcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhlbGxvKSB7XG4gICAgICBsZXQgbmFtZSA9IHRoaXMuX3JlbmRlcmVyLm5hbWU7XG4gICAgICBpZiAodGhpcy5fcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICAgIG5hbWUgKz0gYCAke3RoaXMuX3JlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9ufWA7XG4gICAgICB9XG4gICAgICBzYXlIZWxsbyhuYW1lKTtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IZWxsb1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiaGVsbG9cIixcbiAgcHJpb3JpdHk6IC0yXG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBzeXN0ZW0uICovXG5IZWxsb1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIHtAbGluayBXZWJHTE9wdGlvbnMuaGVsbG99ICovXG4gIGhlbGxvOiBmYWxzZVxufTtcblxuZXhwb3J0IHsgSGVsbG9TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlbGxvU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfUmVuZGVyYWJsZUdDU3lzdGVtID0gY2xhc3MgX1JlbmRlcmFibGVHQ1N5c3RlbSB7XG4gIC8qKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLiAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcyA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1JlbmRlcmFibGVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMubWF4VW51c2VkVGltZSA9IG9wdGlvbnMucmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZTtcbiAgICB0aGlzLl9mcmVxdWVuY3kgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0ZyZXF1ZW5jeTtcbiAgICB0aGlzLmVuYWJsZWQgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0FjdGl2ZTtcbiAgfVxuICBnZXQgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9oYW5kbGVyO1xuICB9XG4gIHNldCBlbmFibGVkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gdmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4gdGhpcy5ydW4oKSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2hhbmRsZXIpO1xuICAgIH1cbiAgfVxuICBwcmVyZW5kZXIoKSB7XG4gICAgdGhpcy5fbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmICghdGhpcy5lbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHJlbmRlcmFibGUuX2xhc3RVc2VkID0gdGhpcy5fbm93O1xuICAgIGlmIChyZW5kZXJhYmxlLl9sYXN0SW5zdHJ1Y3Rpb25UaWNrID09PSAtMSkge1xuICAgICAgdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzLnB1c2gocmVuZGVyYWJsZSk7XG4gICAgICByZW5kZXJhYmxlLm9uY2UoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgfVxuICAgIHJlbmRlcmFibGUuX2xhc3RJbnN0cnVjdGlvblRpY2sgPSBpbnN0cnVjdGlvblNldC50aWNrO1xuICB9XG4gIC8qKiBSdW5zIHRoZSBzY2hlZHVsZWQgZ2FyYmFnZSBjb2xsZWN0aW9uICovXG4gIHJ1bigpIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBtYW5hZ2VkUmVuZGVyYWJsZXMgPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXM7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRSZW5kZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVuZGVyYWJsZSA9IG1hbmFnZWRSZW5kZXJhYmxlc1tpXTtcbiAgICAgIGlmIChyZW5kZXJhYmxlID09PSBudWxsKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gcmVuZGVyYWJsZS5yZW5kZXJHcm91cCA/PyByZW5kZXJhYmxlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gcmVuZGVyR3JvdXA/Lmluc3RydWN0aW9uU2V0Py50aWNrID8/IC0xO1xuICAgICAgaWYgKHJlbmRlcmFibGUuX2xhc3RJbnN0cnVjdGlvblRpY2sgIT09IGN1cnJlbnRJbmRleCAmJiBub3cgLSByZW5kZXJhYmxlLl9sYXN0VXNlZCA+IHRoaXMubWF4VW51c2VkVGltZSkge1xuICAgICAgICBpZiAoIXJlbmRlcmFibGUuZGVzdHJveWVkKSB7XG4gICAgICAgICAgY29uc3QgcnAgPSByZW5kZXJQaXBlcztcbiAgICAgICAgICBycFtyZW5kZXJhYmxlLnJlbmRlclBpcGVJZF0uZGVzdHJveVJlbmRlcmFibGUocmVuZGVyYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyYWJsZS5fbGFzdEluc3RydWN0aW9uVGljayA9IC0xO1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgcmVuZGVyYWJsZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYW5hZ2VkUmVuZGVyYWJsZXNbaSAtIG9mZnNldF0gPSByZW5kZXJhYmxlO1xuICAgICAgfVxuICAgIH1cbiAgICBtYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoID0gbWFuYWdlZFJlbmRlcmFibGVzLmxlbmd0aCAtIG9mZnNldDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoID0gMDtcbiAgfVxuICBfcmVtb3ZlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMuaW5kZXhPZihyZW5kZXJhYmxlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmVuZGVyYWJsZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXNbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX1JlbmRlcmFibGVHQ1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwicmVuZGVyYWJsZUdDXCJcbn07XG4vKiogZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgcmVuZGVyYWJsZUdDU3lzdGVtICovXG5fUmVuZGVyYWJsZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoaXMgd2lsbCBlbmFibGUgdGhlIGdhcmJhZ2UgY29sbGVjdG9yIG9uIHRoZSBHUFUuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHJlbmRlcmFibGVHQ0FjdGl2ZTogdHJ1ZSxcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGlkbGUgZnJhbWVzIGJlZm9yZSBhIHRleHR1cmUgaXMgZGVzdHJveWVkIGJ5IGdhcmJhZ2UgY29sbGVjdGlvbi5cbiAgICogQGRlZmF1bHQgNjAgKiA2MFxuICAgKi9cbiAgcmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZTogNmU0LFxuICAvKipcbiAgICogRnJhbWVzIGJldHdlZW4gdHdvIGdhcmJhZ2UgY29sbGVjdGlvbnMuXG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgcmVuZGVyYWJsZUdDRnJlcXVlbmN5OiAzZTRcbn07XG5sZXQgUmVuZGVyYWJsZUdDU3lzdGVtID0gX1JlbmRlcmFibGVHQ1N5c3RlbTtcblxuZXhwb3J0IHsgUmVuZGVyYWJsZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJhYmxlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9UZXh0dXJlR0NTeXN0ZW0gPSBjbGFzcyBfVGV4dHVyZUdDU3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBvcHRpb25zLnRleHR1cmVHQ0NoZWNrQ291bnRNYXg7XG4gICAgdGhpcy5tYXhJZGxlID0gb3B0aW9ucy50ZXh0dXJlR0NBTWF4SWRsZSA/PyBvcHRpb25zLnRleHR1cmVHQ01heElkbGU7XG4gICAgdGhpcy5hY3RpdmUgPSBvcHRpb25zLnRleHR1cmVHQ0FjdGl2ZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkLlxuICAgKiBJZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuXG4gICAqL1xuICBwb3N0cmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5fcmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb3VudCsrO1xuICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5jaGVja0NvdW50Kys7XG4gICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWQuXG4gICAqIElmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS5cbiAgICovXG4gIHJ1bigpIHtcbiAgICBjb25zdCBtYW5hZ2VkVGV4dHVyZXMgPSB0aGlzLl9yZW5kZXJlci50ZXh0dXJlLm1hbmFnZWRUZXh0dXJlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgIGlmICh0ZXh0dXJlLmF1dG9HYXJiYWdlQ29sbGVjdCAmJiB0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUuX3RvdWNoZWQgPiAtMSAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS5fdG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICB0ZXh0dXJlLl90b3VjaGVkID0gLTE7XG4gICAgICAgIHRleHR1cmUudW5sb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9UZXh0dXJlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInRleHR1cmVHQ1wiXG59O1xuLyoqIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIFRleHR1cmVHQ1N5c3RlbSAqL1xuX1RleHR1cmVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGlzIHdpbGwgZW5hYmxlIHRoZSBnYXJiYWdlIGNvbGxlY3RvciBvbiB0aGUgR1BVLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB0ZXh0dXJlR0NBY3RpdmU6IHRydWUsXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjMuMFxuICAgKiBAc2VlIHtAbGluayBUZXh0dXJlR0NTeXN0ZW0udGV4dHVyZUdDTWF4SWRsZX1cbiAgICovXG4gIHRleHR1cmVHQ0FNYXhJZGxlOiBudWxsLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gaWRsZSBmcmFtZXMgYmVmb3JlIGEgdGV4dHVyZSBpcyBkZXN0cm95ZWQgYnkgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgKiBAZGVmYXVsdCA2MCAqIDYwXG4gICAqL1xuICB0ZXh0dXJlR0NNYXhJZGxlOiA2MCAqIDYwLFxuICAvKipcbiAgICogRnJhbWVzIGJldHdlZW4gdHdvIGdhcmJhZ2UgY29sbGVjdGlvbnMuXG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgdGV4dHVyZUdDQ2hlY2tDb3VudE1heDogNjAwXG59O1xubGV0IFRleHR1cmVHQ1N5c3RlbSA9IF9UZXh0dXJlR0NTeXN0ZW07XG5cbmV4cG9ydCB7IFRleHR1cmVHQ1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdDU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9WaWV3U3lzdGVtID0gY2xhc3MgX1ZpZXdTeXN0ZW0ge1xuICAvKipcbiAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGF1dG9EZW5zaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmUuc291cmNlLmF1dG9EZW5zaXR5O1xuICB9XG4gIHNldCBhdXRvRGVuc2l0eSh2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiAqL1xuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UucmVzaXplKFxuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS53aWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuaGVpZ2h0LFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBpbml0aWF0ZXMgdGhlIHZpZXcgc3lzdGVtXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgZm9yIHRoZSB2aWV3XG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4uX1ZpZXdTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy52aWV3KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiVmlld1N5c3RlbS52aWV3IGhhcyBiZWVuIHJlbmFtZWQgdG8gVmlld1N5c3RlbS5jYW52YXNcIik7XG4gICAgICBvcHRpb25zLmNhbnZhcyA9IG9wdGlvbnMudmlldztcbiAgICB9XG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzIHx8IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5hbnRpYWxpYXMgPSAhIW9wdGlvbnMuYW50aWFsaWFzO1xuICAgIHRoaXMudGV4dHVyZSA9IGdldENhbnZhc1RleHR1cmUodGhpcy5jYW52YXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICBjb2xvclRleHR1cmVzOiBbdGhpcy50ZXh0dXJlXSxcbiAgICAgIGRlcHRoOiAhIW9wdGlvbnMuZGVwdGgsXG4gICAgICBpc1Jvb3Q6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLnRyYW5zcGFyZW50ID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEgPCAxO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uXG4gICAqL1xuICByZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5yZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSB0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBjYW52YXMgZnJvbSB0aGUgZG9tLlxuICAgKiBAcGFyYW0ge29wdGlvbnMgfCBmYWxzZX0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkZXN0cm95aW5nIHRoZSB2aWV3LCBvciBcImZhbHNlXCIuXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlbW92ZVZpZXcgLSBXaGV0aGVyIHRvIHJlbW92ZSB0aGUgdmlldyBlbGVtZW50IGZyb20gdGhlIERPTS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICovXG4gIGRlc3Ryb3kob3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgY29uc3QgcmVtb3ZlVmlldyA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiAhIW9wdGlvbnM/LnJlbW92ZVZpZXc7XG4gICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy5jYW52YXMucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgfVxuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9WaWV3U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ2aWV3XCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSB2aWV3IHN5c3RlbS4gKi9cbl9WaWV3U3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy53aWR0aH1cbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuICB3aWR0aDogODAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5oZWlnaHR9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgaGVpZ2h0OiA2MDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmF1dG9EZW5zaXR5fVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5hbnRpYWxpYXN9XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbnRpYWxpYXM6IGZhbHNlXG59O1xubGV0IFZpZXdTeXN0ZW0gPSBfVmlld1N5c3RlbTtcblxuZXhwb3J0IHsgVmlld1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBDdXN0b21SZW5kZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0N1c3RvbVJlbmRlclBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwU3lzdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL1JlbmRlckdyb3VwU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBTcHJpdGVQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlcmVySW5pdEhvb2sgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9nbG9iYWwvZ2xvYmFsSG9va3MubWpzJztcbmltcG9ydCB7IEJhdGNoZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vYmF0Y2hlci9zaGFyZWQvQmF0Y2hlclBpcGUubWpzJztcbmltcG9ydCB7IEFscGhhTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzJztcbmltcG9ydCB7IENvbG9yTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2NvbG9yL0NvbG9yTWFza1BpcGUubWpzJztcbmltcG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9IGZyb20gJy4uLy4uLy4uL21hc2svc3RlbmNpbC9TdGVuY2lsTWFza1BpcGUubWpzJztcbmltcG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuLi9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEJsZW5kTW9kZVBpcGUgfSBmcm9tICcuLi9ibGVuZE1vZGVzL0JsZW5kTW9kZVBpcGUubWpzJztcbmltcG9ydCB7IEV4dHJhY3RTeXN0ZW0gfSBmcm9tICcuLi9leHRyYWN0L0V4dHJhY3RTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4uL2V4dHJhY3QvR2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBHbG9iYWxVbmlmb3JtU3lzdGVtIH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzJztcbmltcG9ydCB7IFNjaGVkdWxlclN5c3RlbSB9IGZyb20gJy4uL1NjaGVkdWxlclN5c3RlbS5tanMnO1xuaW1wb3J0IHsgSGVsbG9TeXN0ZW0gfSBmcm9tICcuLi9zdGFydHVwL0hlbGxvU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJhYmxlR0NTeXN0ZW0gfSBmcm9tICcuLi90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFZpZXdTeXN0ZW0gfSBmcm9tICcuLi92aWV3L1ZpZXdTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTaGFyZWRTeXN0ZW1zID0gW1xuICBCYWNrZ3JvdW5kU3lzdGVtLFxuICBHbG9iYWxVbmlmb3JtU3lzdGVtLFxuICBIZWxsb1N5c3RlbSxcbiAgVmlld1N5c3RlbSxcbiAgUmVuZGVyR3JvdXBTeXN0ZW0sXG4gIFRleHR1cmVHQ1N5c3RlbSxcbiAgR2VuZXJhdGVUZXh0dXJlU3lzdGVtLFxuICBFeHRyYWN0U3lzdGVtLFxuICBSZW5kZXJlckluaXRIb29rLFxuICBSZW5kZXJhYmxlR0NTeXN0ZW0sXG4gIFNjaGVkdWxlclN5c3RlbVxuXTtcbmNvbnN0IFNoYXJlZFJlbmRlclBpcGVzID0gW1xuICBCbGVuZE1vZGVQaXBlLFxuICBCYXRjaGVyUGlwZSxcbiAgU3ByaXRlUGlwZSxcbiAgUmVuZGVyR3JvdXBQaXBlLFxuICBBbHBoYU1hc2tQaXBlLFxuICBTdGVuY2lsTWFza1BpcGUsXG4gIENvbG9yTWFza1BpcGUsXG4gIEN1c3RvbVJlbmRlclBpcGVcbl07XG5cbmV4cG9ydCB7IFNoYXJlZFJlbmRlclBpcGVzLCBTaGFyZWRTeXN0ZW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFyZWRTeXN0ZW1zLm1qcy5tYXBcbiIsImltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4uL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGNhbnZhc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldENhbnZhc1RleHR1cmUoY2FudmFzLCBvcHRpb25zKSB7XG4gIGlmICghY2FudmFzQ2FjaGUuaGFzKGNhbnZhcykpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgQ2FudmFzU291cmNlKHtcbiAgICAgICAgcmVzb3VyY2U6IGNhbnZhcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSlcbiAgICB9KTtcbiAgICBjb25zdCBvbkRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICBpZiAoY2FudmFzQ2FjaGUuZ2V0KGNhbnZhcykgPT09IHRleHR1cmUpIHtcbiAgICAgICAgY2FudmFzQ2FjaGUuZGVsZXRlKGNhbnZhcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0ZXh0dXJlLm9uY2UoXCJkZXN0cm95XCIsIG9uRGVzdHJveSk7XG4gICAgdGV4dHVyZS5zb3VyY2Uub25jZShcImRlc3Ryb3lcIiwgb25EZXN0cm95KTtcbiAgICBjYW52YXNDYWNoZS5zZXQoY2FudmFzLCB0ZXh0dXJlKTtcbiAgfVxuICByZXR1cm4gY2FudmFzQ2FjaGUuZ2V0KGNhbnZhcyk7XG59XG5mdW5jdGlvbiBoYXNDYWNoZWRDYW52YXNUZXh0dXJlKGNhbnZhcykge1xuICByZXR1cm4gY2FudmFzQ2FjaGUuaGFzKGNhbnZhcyk7XG59XG5cbmV4cG9ydCB7IGdldENhbnZhc1RleHR1cmUsIGhhc0NhY2hlZENhbnZhc1RleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENhbnZhc1RleHR1cmUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb2xvclRvVW5pZm9ybShyZ2IsIGFscGhhLCBvdXQsIG9mZnNldCkge1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDggJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSBhbHBoYTtcbn1cbmZ1bmN0aW9uIGNvbG9yMzJCaXRUb1VuaWZvcm0oYWJnciwgb3V0LCBvZmZzZXQpIHtcbiAgY29uc3QgYWxwaGEgPSAoYWJnciA+PiAyNCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDggJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciA+PiAxNiAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuXG5leHBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtLCBjb2xvclRvVW5pZm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JUb1VuaWZvcm0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVTcHJpdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhdGNoZXJOYW1lID0gXCJkZWZhdWx0XCI7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMuYXR0cmlidXRlU2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMucGFja0FzUXVhZCA9IHRydWU7XG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IDA7XG4gICAgdGhpcy5fYXR0cmlidXRlU3RhcnQgPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQ29sb3JBbHBoYTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoYWJsZVNwcml0ZS5tanMubWFwXG4iXSwibmFtZXMiOlsibG9jYWxVbmlmb3JtQml0IiwibmFtZSIsInZlcnRleCIsImhlYWRlciIsIm1haW4iLCJlbmQiLCJsb2NhbFVuaWZvcm1CaXRHcm91cDIiLCJyZXBsYWNlIiwibG9jYWxVbmlmb3JtQml0R2wiLCJ0ZXh0dXJlQml0IiwiZnJhZ21lbnQiLCJ0ZXh0dXJlQml0R2wiLCJlbnN1cmVBdHRyaWJ1dGVzIiwiZ2VvbWV0cnkiLCJleHRyYWN0ZWREYXRhIiwiaSIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVEYXRhIiwiZm9ybWF0Iiwib2Zmc2V0IiwiaW5zdGFuY2UiLCJidWZmZXJzIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImoiLCJidWZmZXIiLCJ1aWQiLCJzdHJpZGUiLCJzdGFydCIsImVuc3VyZVN0YXJ0QW5kU3RyaWRlIiwiR3B1U3RlbmNpbE1vZGVzVG9QaXhpIiwiTk9ORSIsIkRJU0FCTEVEIiwic3RlbmNpbFdyaXRlTWFzayIsInN0ZW5jaWxSZWFkTWFzayIsIlJFTkRFUklOR19NQVNLX0FERCIsInN0ZW5jaWxGcm9udCIsImNvbXBhcmUiLCJwYXNzT3AiLCJzdGVuY2lsQmFjayIsIlJFTkRFUklOR19NQVNLX1JFTU9WRSIsIk1BU0tfQUNUSVZFIiwiQnVmZmVyUmVzb3VyY2UiLCJjb25zdHJ1Y3RvciIsInNpemUiLCJzdXBlciIsInRoaXMiLCJfcmVzb3VyY2VUeXBlIiwiX3RvdWNoZWQiLCJfcmVzb3VyY2VJZCIsIl9idWZmZXJSZXNvdXJjZSIsImRlc3Ryb3llZCIsIm9uIiwib25CdWZmZXJDaGFuZ2UiLCJlbWl0IiwiZGVzdHJveSIsImRlc3Ryb3lCdWZmZXIiLCJfUmVuZGVyVGFyZ2V0IiwiZGVzY3JpcHRvciIsImNvbG9yVGV4dHVyZXMiLCJkaXJ0eUlkIiwiaXNSb290IiwiX3NpemUiLCJGbG9hdDMyQXJyYXkiLCJfbWFuYWdlZENvbG9yVGV4dHVyZXMiLCJkZWZhdWx0T3B0aW9ucyIsInN0ZW5jaWwiLCJkZXB0aCIsInB1c2giLCJ3aWR0aCIsImhlaWdodCIsInJlc29sdXRpb24iLCJhbnRpYWxpYXMiLCJtYXAiLCJ0ZXh0dXJlIiwic291cmNlIiwiY29sb3JTb3VyY2UiLCJjb2xvclRleHR1cmUiLCJyZXNpemUiLCJfcmVzb2x1dGlvbiIsIm9uU291cmNlUmVzaXplIiwiZGVwdGhTdGVuY2lsVGV4dHVyZSIsImVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUiLCJwaXhlbFdpZHRoIiwicGl4ZWxIZWlnaHQiLCJhdXRvR2VuZXJhdGVNaXBtYXBzIiwibWlwTGV2ZWxDb3VudCIsInNraXBDb2xvclRleHR1cmUiLCJmb3JFYWNoIiwib2ZmIiwiUmVuZGVyVGFyZ2V0IiwiUmVuZGVyVGFyZ2V0U3lzdGVtIiwicmVuZGVyZXIiLCJyb290Vmlld1BvcnQiLCJSZWN0YW5nbGUiLCJ2aWV3cG9ydCIsIm9uUmVuZGVyVGFyZ2V0Q2hhbmdlIiwiU3lzdGVtUnVubmVyIiwicHJvamVjdGlvbk1hdHJpeCIsIk1hdHJpeCIsImRlZmF1bHRDbGVhckNvbG9yIiwiX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2giLCJNYXAiLCJfZ3B1UmVuZGVyVGFyZ2V0SGFzaCIsIk9iamVjdCIsImNyZWF0ZSIsIl9yZW5kZXJUYXJnZXRTdGFjayIsIl9yZW5kZXJlciIsImZpbmlzaFJlbmRlclBhc3MiLCJhZGFwdG9yIiwicmVuZGVyVGFyZ2V0IiwicmVuZGVyU3RhcnQiLCJ0YXJnZXQiLCJjbGVhciIsImNsZWFyQ29sb3IiLCJmcmFtZSIsImxlbmd0aCIsImNvcHlGcm9tIiwicm9vdFJlbmRlclRhcmdldCIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzb3VyY2UiLCJnbG9iYWxUaGlzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJkb2N1bWVudCIsImJvZHkiLCJjb250YWlucyIsImlzUmVuZGVyaW5nVG9TY3JlZW4iLCJwb3N0cmVuZGVyIiwiYmluZCIsInJlbmRlclN1cmZhY2UiLCJnZXRSZW5kZXJUYXJnZXQiLCJkaWRDaGFuZ2UiLCJncHVSZW5kZXJUYXJnZXQiLCJnZXRHcHVSZW5kZXJUYXJnZXQiLCJyZXNpemVHcHVSZW5kZXJUYXJnZXQiLCJUZXh0dXJlIiwieCIsInkiLCJwbSIsImZsaXBZIiwic2lnbiIsImlkZW50aXR5IiwiYSIsImQiLCJ0eCIsInR5IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN0YXJ0UmVuZGVyUGFzcyIsIkFMTCIsImNvbnRleHRDaGFuZ2UiLCJwb3AiLCJjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YSIsImlzVGV4dHVyZSIsImdldCIsIl9pbml0UmVuZGVyVGFyZ2V0IiwiY29weVRvVGV4dHVyZSIsInNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlIiwiZGVzdGluYXRpb25UZXh0dXJlIiwib3JpZ2luU3JjIiwib3JpZ2luRGVzdCIsIk1hdGgiLCJtaW4iLCJlbnN1cmVEZXB0aFN0ZW5jaWwiLCJrZXkiLCJDYW52YXNTb3VyY2UiLCJ0ZXN0IiwiZ2V0Q2FudmFzVGV4dHVyZSIsIlRleHR1cmVTb3VyY2UiLCJvbmNlIiwiZGVsZXRlIiwiZGVzdHJveUdwdVJlbmRlclRhcmdldCIsInNldCIsImluaXRHcHVSZW5kZXJUYXJnZXQiLCJVYm9TeXN0ZW0iLCJfc3luY0Z1bmN0aW9uSGFzaCIsIl9hZGFwdG9yIiwiX3N5c3RlbUNoZWNrIiwiRXJyb3IiLCJlbnN1cmVVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtR3JvdXAiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1Hcm91cERhdGEiLCJkYXRhIiwibGF5b3V0IiwidXNhZ2UiLCJVTklGT1JNIiwiQ09QWV9EU1QiLCJfc2lnbmF0dXJlIiwiX2luaXRVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtR3JvdXBTaWduYXR1cmUiLCJlbGVtZW50cyIsImtleXMiLCJ1bmlmb3JtU3RydWN0dXJlcyIsImNyZWF0ZVVib0VsZW1lbnRzIiwic3luY0Z1bmN0aW9uIiwiX2dlbmVyYXRlVWJvU3luYyIsInVib0VsZW1lbnRzIiwiZ2VuZXJhdGVVYm9TeW5jIiwic3luY1VuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cERhdGEiLCJ1bmlmb3JtcyIsInVwZGF0ZVVuaWZvcm1Hcm91cCIsImlzU3RhdGljIiwiX2RpcnR5SWQiLCJzeW5jZWQiLCJ1cGRhdGUiLCJjcmVhdGVVYm9TeW5jRnVuY3Rpb24iLCJwYXJzZXJDb2RlIiwiYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24iLCJzaW5nbGVTZXR0ZXJzTWFwIiwiZnVuY0ZyYWdtZW50cyIsInByZXYiLCJ1Ym9FbGVtZW50IiwicGFyc2VkIiwidWJvIiwidGVtcGxhdGUiLCJ0eXBlIiwiZnJhZ21lbnRTcmMiLCJqb2luIiwiRnVuY3Rpb24iLCJsb29wTWF0cml4IiwiY29sIiwicm93IiwidWJvU3luY0Z1bmN0aW9uc1NURDQwIiwiZjMyIiwiaTMyIiwidWJvU3luY0Z1bmN0aW9uc1dHU0wiLCJ1bmlmb3JtUGFyc2VycyIsInZhbHVlIiwidW5pZm9ybSIsInJlZCIsIkN1c3RvbVJlbmRlclBpcGUiLCJhZGRSZW5kZXJhYmxlIiwiY29udGFpbmVyIiwiaW5zdHJ1Y3Rpb25TZXQiLCJyZW5kZXJQaXBlcyIsImJhdGNoIiwiYnJlYWsiLCJhZGQiLCJleGVjdXRlIiwiaXNSZW5kZXJhYmxlIiwicmVuZGVyIiwiZXhlY3V0ZUluc3RydWN0aW9ucyIsInJlbmRlckdyb3VwIiwiaW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb25TaXplIiwiaW5zdHJ1Y3Rpb24iLCJyZW5kZXJQaXBlSWQiLCJleHRlbnNpb24iLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyIsIlJlbmRlckdyb3VwUGlwZSIsImFkZFJlbmRlckdyb3VwIiwiZ2xvYmFsVW5pZm9ybXMiLCJ3b3JsZFRyYW5zZm9ybU1hdHJpeCIsIndvcmxkVHJhbnNmb3JtIiwid29ybGRDb2xvciIsIndvcmxkQ29sb3JBbHBoYSIsImJ1aWxkSW5zdHJ1Y3Rpb25zIiwicmVuZGVyZXJPclBpcGVzIiwicm9vdCIsInJlc2V0IiwiYnVpbGRTdGFydCIsImJsZW5kTW9kZSIsImNvbG9yTWFzayIsInNvcnRhYmxlQ2hpbGRyZW4iLCJzb3J0Q2hpbGRyZW4iLCJjb2xsZWN0QWxsUmVuZGVyYWJsZXNBZHZhbmNlZCIsImJ1aWxkRW5kIiwiY29sbGVjdEFsbFJlbmRlcmFibGVzIiwiZ2xvYmFsRGlzcGxheVN0YXR1cyIsImluY2x1ZGVJbkJ1aWxkIiwiaXNTaW1wbGUiLCJyZW5kZXJhYmxlR0MiLCJzZXRCbGVuZE1vZGUiLCJncm91cEJsZW5kTW9kZSIsImRpZFZpZXdVcGRhdGUiLCJjaGlsZHJlbiIsImNvbGxlY3RBbGxSZW5kZXJhYmxlc1NpbXBsZSIsImVmZmVjdHMiLCJlZmZlY3QiLCJwaXBlIiwiY2xlYXJMaXN0IiwibGlzdCIsImluZGV4IiwiY29sbGVjdFJlbmRlckdyb3VwcyIsIm91dCIsInJlbmRlckdyb3VwQ2hpbGRyZW4iLCJXSElURV9CR1IiLCJtaXhDb2xvcnMiLCJsb2NhbEJHUkNvbG9yIiwicGFyZW50QkdSQ29sb3IiLCJjb2xvcjEiLCJjb2xvcjIiLCJyMSIsImcxIiwiYjEiLCJ0ZW1wQ29udGFpbmVyIiwiQ29udGFpbmVyIiwiVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUiLCJ1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMiLCJ1cGRhdGVDaGlsZFJlbmRlckdyb3VwcyIsIndvcmxkQWxwaGEiLCJyZW5kZXJHcm91cFBhcmVudCIsImFwcGVuZEZyb20iLCJyZWxhdGl2ZUdyb3VwVHJhbnNmb3JtIiwiZ3JvdXBDb2xvciIsImdyb3VwQWxwaGEiLCJsb2NhbFRyYW5zZm9ybSIsImxvY2FsQ29sb3IiLCJsb2NhbEFscGhhIiwidXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0iLCJjaGlsZHJlblRvVXBkYXRlIiwidXBkYXRlVGljayIsInJlbmRlckdyb3VwRGVwdGgiLCJOdW1iZXIiLCJjaGlsZHJlbkF0RGVwdGgiLCJjaGlsZCIsInBhcmVudFJlbmRlckdyb3VwIiwicmVsYXRpdmVSZW5kZXJHcm91cERlcHRoIiwidXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4iLCJ1cGRhdGVGbGFncyIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwicGFyZW50IiwiX3VwZGF0ZUZsYWdzIiwidXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkiLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJ1cGRhdGVSZW5kZXJhYmxlIiwiZ3JvdXBDb2xvckFscGhhIiwibG9jYWxCbGVuZE1vZGUiLCJsb2NhbERpc3BsYXlTdGF0dXMiLCJ2YWxpZGF0ZVJlbmRlcmFibGVzIiwiY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlIiwicmVidWlsZFJlcXVpcmVkIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwidGVtcE1hdHJpeCIsIlJlbmRlckdyb3VwU3lzdGVtIiwidHJhbnNmb3JtIiwiaXNSZW5kZXJHcm91cCIsInJlbmRlckdyb3VwcyIsIm9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0iLCJydW5PblJlbmRlciIsInVwZGF0ZVJlbmRlcmFibGVzIiwidXBsb2FkIiwidW5pZm9ybUJhdGNoIiwicmVuZGVyRW5kIiwiV2ViR0xTeXN0ZW0iLCJXZWJHUFVTeXN0ZW0iLCJDYW52YXNTeXN0ZW0iLCJTcHJpdGVQaXBlIiwiX2dwdVNwcml0ZUhhc2giLCJfZGVzdHJveVJlbmRlcmFibGVCb3VuZCIsImRlc3Ryb3lSZW5kZXJhYmxlIiwic3ByaXRlIiwiZ3B1U3ByaXRlIiwiX2dldEdwdVNwcml0ZSIsIl9kaWRTcHJpdGVVcGRhdGUiLCJfdXBkYXRlQmF0Y2hhYmxlU3ByaXRlIiwiYWRkVG9CYXRjaCIsIl9iYXRjaGVyIiwidXBkYXRlRWxlbWVudCIsIl90ZXh0dXJlIiwiX3NvdXJjZSIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsImJhdGNoYWJsZVNwcml0ZSIsInJldHVybiIsImJvdW5kcyIsIl9pbml0R1BVU3ByaXRlIiwiQmF0Y2hhYmxlU3ByaXRlIiwicmVuZGVyYWJsZSIsImdyb3VwVHJhbnNmb3JtIiwicm91bmRQaXhlbHMiLCJfcm91bmRQaXhlbHMiLCJfQmF0Y2hlclBpcGUiLCJzdGF0ZSIsIlN0YXRlIiwiZm9yMmQiLCJfYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0IiwiX2FjdGl2ZUJhdGNoZXMiLCJpbml0IiwiZ2V0QmF0Y2hlciIsIl9hdmFpbGFibGVCYXRjaGVycyIsImJhdGNoZXJzIiwiZGVmYXVsdCIsIkRlZmF1bHRCYXRjaGVyIiwiX2FjdGl2ZUJhdGNoIiwiYmVnaW4iLCJiYXRjaGFibGVPYmplY3QiLCJiYXRjaGVyTmFtZSIsImJhdGNoZXMiLCJpbmRleEJ1ZmZlciIsInNldERhdGFXaXRoU2l6ZSIsImluZGV4U2l6ZSIsImF0dHJpYnV0ZUJ1ZmZlciIsImZsb2F0MzJWaWV3IiwiYXR0cmlidXRlU2l6ZSIsImJhdGNoZXIiLCJkaXJ0eSIsImFjdGlvbiIsInNoYWRlciIsIkJhdGNoZXJQaXBlIiwiaGFuZGxlQnlNYXAiLCJCYXRjaGVyIiwiTWFza0ZpbHRlciIsIkZpbHRlciIsIm9wdGlvbnMiLCJyZXN0IiwidGV4dHVyZU1hdHJpeCIsIlRleHR1cmVNYXRyaXgiLCJmaWx0ZXJVbmlmb3JtcyIsIlVuaWZvcm1Hcm91cCIsInVGaWx0ZXJNYXRyaXgiLCJ1TWFza0NsYW1wIiwidUNsYW1wRnJhbWUiLCJ1QWxwaGEiLCJncHVQcm9ncmFtIiwiR3B1UHJvZ3JhbSIsImZyb20iLCJlbnRyeVBvaW50IiwiZ2xQcm9ncmFtIiwiR2xQcm9ncmFtIiwicmVzb3VyY2VzIiwidU1hc2tUZXh0dXJlIiwiX3RleHR1cmVNYXRyaXgiLCJhcHBseSIsImZpbHRlck1hbmFnZXIiLCJpbnB1dCIsIm91dHB1dCIsImNsZWFyTW9kZSIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsInByZXBlbmQiLCJtYXBDb29yZCIsImFwcGx5RmlsdGVyIiwidGVtcEJvdW5kcyIsIkJvdW5kcyIsIkFscGhhTWFza0VmZmVjdCIsIkZpbHRlckVmZmVjdCIsImZpbHRlcnMiLCJTcHJpdGUiLCJFTVBUWSIsIkFscGhhTWFza1BpcGUiLCJfYWN0aXZlTWFza1N0YWdlIiwibWFzayIsIm1hc2tlZENvbnRhaW5lciIsImNhbkJ1bmRsZSIsInJlbmRlck1hc2tUb1RleHR1cmUiLCJtYXNrQ29udGFpbmVyIiwiX21hc2tlZENvbnRhaW5lciIsInJlbmRlck1hc2siLCJmaWx0ZXJFZmZlY3QiLCJtZWFzdXJhYmxlIiwiZ2V0R2xvYmFsQm91bmRzIiwiY2VpbCIsImNvbG9yVGV4dHVyZVNvdXJjZSIsImZpbHRlclRleHR1cmUiLCJUZXh0dXJlUG9vbCIsImdldE9wdGltYWxUZXh0dXJlIiwibWluWCIsIm1pblkiLCJtYXNrRGF0YSIsIldFQkdMIiwiZmlsdGVyIiwicmV0dXJuVGV4dHVyZSIsIkNvbG9yTWFza1BpcGUiLCJfY29sb3JTdGFjayIsIl9jb2xvclN0YWNrSW5kZXgiLCJfY3VycmVudENvbG9yIiwiX2NvbnRhaW5lciIsImNvbG9yU3RhY2siLCJjdXJyZW50Q29sb3IiLCJfbWFzayIsInNldE1hc2siLCJTdGVuY2lsTWFza1BpcGUiLCJfbWFza1N0YWNrSGFzaCIsIl9tYXNrSGFzaCIsIldlYWtNYXAiLCJfYSIsImhhcyIsImluc3RydWN0aW9uc1N0YXJ0IiwiaW5zdHJ1Y3Rpb25zTGVuZ3RoIiwicmVuZGVyVGFyZ2V0VWlkIiwibWFza1N0YWNrSW5kZXgiLCJzZXRTdGVuY2lsTW9kZSIsIlNURU5DSUwiLCJfQmFja2dyb3VuZFN5c3RlbSIsImNsZWFyQmVmb3JlUmVuZGVyIiwiX2JhY2tncm91bmRDb2xvciIsIkNvbG9yIiwiY29sb3IiLCJhbHBoYSIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQWxwaGEiLCJzZXRBbHBoYSIsInNldFZhbHVlIiwiY29sb3JSZ2JhIiwidG9BcnJheSIsInByaW9yaXR5IiwiQmFja2dyb3VuZFN5c3RlbSIsIkJMRU5EX01PREVfRklMVEVSUyIsImhhbmRsZSIsIkJsZW5kTW9kZSIsInJlZiIsIkJsZW5kTW9kZVBpcGUiLCJfaXNBZHZhbmNlZCIsIl9maWx0ZXJIYXNoIiwiX2FjdGl2ZUJsZW5kTW9kZSIsIl9lbmRBZHZhbmNlZEJsZW5kTW9kZSIsIl9iZWdpbkFkdmFuY2VkQmxlbmRNb2RlIiwiX3JlbmRlcmFibGVMaXN0Iiwid2FybiIsInJlbmRlcmFibGVzIiwiaW1hZ2VUeXBlcyIsInBuZyIsImpwZyIsIndlYnAiLCJfRXh0cmFjdFN5c3RlbSIsIl9ub3JtYWxpemVPcHRpb25zIiwiZGVmYXVsdHMiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiYmFzZTY0IiwiZGVmYXVsdEltYWdlT3B0aW9ucyIsInF1YWxpdHkiLCJjYW52YXMiLCJ0b0Jsb2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJ0b0RhdGFVUkwiLCJjb252ZXJ0VG9CbG9iIiwiZ2VuZXJhdGVDYW52YXMiLCJ0ZXh0dXJlR2VuZXJhdG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicGl4ZWxzIiwicGl4ZWxJbmZvIiwiZ2V0UGl4ZWxzIiwiZG93bmxvYWQiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImZpbGVuYW1lIiwiaHJlZiIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImxvZyIsImNvbnNvbGUiLCJzdHlsZSIsIkV4dHJhY3RTeXN0ZW0iLCJSZW5kZXJUZXh0dXJlIiwidGVtcFJlY3QiLCJub0NvbG9yIiwiR2VuZXJhdGVUZXh0dXJlU3lzdGVtIiwidGV4dHVyZVNvdXJjZU9wdGlvbnMiLCJ2aWV3IiwiQXJyYXkiLCJpc0FycmF5Iiwic2hhcmVkIiwicmVnaW9uIiwiY29weVRvIiwiZ2V0TG9jYWxCb3VuZHMiLCJyZWN0YW5nbGUiLCJtYXgiLCJ0cmFuc2xhdGUiLCJ1cGRhdGVNaXBtYXBzIiwiR2xvYmFsVW5pZm9ybVN5c3RlbSIsIl9zdGFja0luZGV4IiwiX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2siLCJfdW5pZm9ybXNQb29sIiwiX2FjdGl2ZVVuaWZvcm1zIiwiX2JpbmRHcm91cFBvb2wiLCJfYWN0aXZlQmluZEdyb3VwcyIsImN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSIsInByb2plY3Rpb25EYXRhIiwiUG9pbnQiLCJnbG9iYWxVbmlmb3JtRGF0YSIsImJpbmRHcm91cCIsIl9jcmVhdGVVbmlmb3JtcyIsInVQcm9qZWN0aW9uTWF0cml4IiwidVJlc29sdXRpb24iLCJ1V29ybGRUcmFuc2Zvcm1NYXRyaXgiLCJ1V29ybGRDb2xvckFscGhhIiwiZ2V0VW5pZm9ybUJpbmRHcm91cCIsIkJpbmRHcm91cCIsInNldFJlc291cmNlIiwiX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSIsIlNjaGVkdWxlclN5c3RlbSIsIl90YXNrcyIsIlRpY2tlciIsInN5c3RlbSIsIl91cGRhdGUiLCJyZXBlYXQiLCJmdW5jIiwiZHVyYXRpb24iLCJpZCIsInBlcmZvcm1hbmNlIiwibm93IiwibGFzdCIsImNhbmNlbCIsInNwbGljZSIsInRhc2siLCJlbGFwc2VkIiwicmVtb3ZlIiwic2FpZEhlbGxvIiwiSGVsbG9TeXN0ZW0iLCJoZWxsbyIsImNvbnRleHQiLCJ3ZWJHTFZlcnNpb24iLCJnZXROYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJhcmdzIiwic2F5SGVsbG8iLCJfUmVuZGVyYWJsZUdDU3lzdGVtIiwiX21hbmFnZWRSZW5kZXJhYmxlcyIsIm1heFVudXNlZFRpbWUiLCJyZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lIiwiX2ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0ZyZXF1ZW5jeSIsImVuYWJsZWQiLCJyZW5kZXJhYmxlR0NBY3RpdmUiLCJfaGFuZGxlciIsInNjaGVkdWxlciIsInJ1biIsInByZXJlbmRlciIsIl9ub3ciLCJfbGFzdFVzZWQiLCJfbGFzdEluc3RydWN0aW9uVGljayIsIl9yZW1vdmVSZW5kZXJhYmxlIiwidGljayIsIm1hbmFnZWRSZW5kZXJhYmxlcyIsImN1cnJlbnRJbmRleCIsIlJlbmRlcmFibGVHQ1N5c3RlbSIsIl9UZXh0dXJlR0NTeXN0ZW0iLCJjb3VudCIsImNoZWNrQ291bnQiLCJjaGVja0NvdW50TWF4IiwidGV4dHVyZUdDQ2hlY2tDb3VudE1heCIsIm1heElkbGUiLCJ0ZXh0dXJlR0NBTWF4SWRsZSIsInRleHR1cmVHQ01heElkbGUiLCJhY3RpdmUiLCJ0ZXh0dXJlR0NBY3RpdmUiLCJtYW5hZ2VkVGV4dHVyZXMiLCJhdXRvR2FyYmFnZUNvbGxlY3QiLCJ1bmxvYWQiLCJUZXh0dXJlR0NTeXN0ZW0iLCJfVmlld1N5c3RlbSIsImF1dG9EZW5zaXR5IiwiZGVwcmVjYXRpb24iLCJzY3JlZW4iLCJjcmVhdGVDYW52YXMiLCJ0cmFuc3BhcmVudCIsImRlc2lyZWRTY3JlZW5XaWR0aCIsImRlc2lyZWRTY3JlZW5IZWlnaHQiLCJyZW1vdmVWaWV3IiwicGFyZW50Tm9kZSIsIlNoYXJlZFN5c3RlbXMiLCJTaGFyZWRSZW5kZXJQaXBlcyIsImNhbnZhc0NhY2hlIiwib25EZXN0cm95IiwiY29sb3IzMkJpdFRvVW5pZm9ybSIsImFiZ3IiLCJwYWNrQXNRdWFkIiwiX2F0dHJpYnV0ZVN0YXJ0IiwiX2JhdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==